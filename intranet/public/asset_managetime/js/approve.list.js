$(function(){$("input").iCheck({checkboxClass:"icheckbox_flat-green"}),$(".checkbox-all input").on("ifClicked",function(e){var i=e.target.checked;i?($("#position_start_header_fixed input").iCheck("uncheck"),$(".approve-submit").prop("disabled",!0),$(".disapprove-submit").prop("disabled",!0)):($("#position_start_header_fixed input").iCheck("check"),$(".approve-submit").prop("disabled",!1),$(".disapprove-submit").prop("disabled",!1))});var e=$("#position_start_header_fixed").offset().top;$(window).scroll(function(){var i=$(window).scrollTop();i>e?($("#managetime_table_fixed").css("top",i-$(".table-responsive").offset().top+52),$("#managetime_table_fixed").show()):$("#managetime_table_fixed").hide()}),$("#position_start_header_fixed input").on("ifChanged",function(e){var i=e.target.checked,o=$("#position_start_header_fixed input:checkbox").length,a=$("#position_start_header_fixed input:checked").length;if(i)$(".approve-submit").prop("disabled",!1),$(".disapprove-submit").prop("disabled",!1),o==a?$(".checkbox-all input").iCheck("check"):$(".checkbox-all input").iCheck("uncheck");else{var r=o-a;o==r&&($(".approve-submit").prop("disabled",!0),$(".disapprove-submit").prop("disabled",!0)),$(".checkbox-all input").iCheck("uncheck")}}),$(".approve-submit").click(function(){var e=[];$("#position_start_header_fixed input:checked").each(function(){e.push($(this).val())}),e.length>0?($("#register_id_approve").val(e),$("#modal_approve").modal("show")):$("#modal_noselect").modal("show")}),$(".disapprove-submit").click(function(){$("#reason_disapprove-error").hide(),$("#reason_disapprove").val("");var e=[];$("#position_start_header_fixed input:checked").each(function(){e.push($(this).val())}),e.length>0?($("#register_id_disapprove").val(e),$("#modal_disapprove").modal("show")):$("#modal_noselect").modal("show")}),$("#button_approve_submit").click(function(){var e=$("#register_id_approve").val(),i=window.location.href.substr(window.location.href),o=$(this);o.button("loading"),$.ajax({type:"GET",url:urlApprove,data:{registerId:e,urlCurrent:i},success:function(e){$("#modal_approve").modal("hide");var i=JSON.parse(e);window.location=i.url}})}),$("#button_disapprove_submit").click(function(){var e=$("#register_id_disapprove").val(),i=window.location.href.substr(window.location.href),o=$("#reason_disapprove").val();if(""==o.trim())return void $("#reason_disapprove-error").show();var a=$(this);a.button("loading"),$.ajax({type:"GET",url:urlDisapprove,data:{registerId:e,urlCurrent:i,reasonDisapprove:o},success:function(e){$("#modal_disapprove").modal("hide");var i=JSON.parse(e);window.location=i.url}})}),$("#reason_disapprove").keyup(function(){var e=$("#reason_disapprove").val();""==e.trim()?$("#reason_disapprove-error").show():$("#reason_disapprove-error").hide()})});