function hideDaysOfWeek(){$(".col-monday").hide(),$(".col-tuesday").hide(),$(".col-wednesday").hide(),$(".col-thursday").hide(),$(".col-friday").hide(),$(".col-all-day").hide(),$("#select_all_day, #monday, #tuesday, #wednesday, #thursday, #friday").iCheck("uncheck"),$("#all_day_hidden").val("")}function showDaysOfWeek(){$(".col-monday").show(),$(".col-tuesday").show(),$(".col-wednesday").show(),$(".col-thursday").show(),$(".col-friday").show(),$(".col-all-day").show();var e=["1","2","3","4","5"];$("#all_day_hidden").val(e.join(", "))}function checkDays(e){return monday=$("#monday input[type='checkbox']").val(),tuesday=$("#tuesday input[type='checkbox']").val(),wednesday=$("#wednesday input[type='checkbox']").val(),thursday=$("#thursday input[type='checkbox']").val(),friday=$("#friday input[type='checkbox']").val(),getDay=null,e==monday&&($(".col-monday").show(),getDay="1"),e==tuesday&&($(".col-tuesday").show(),getDay="2"),e==wednesday&&($(".col-wednesday").show(),getDay="3"),e==thursday&&($(".col-thursday").show(),getDay="4"),e==friday&&($(".col-friday").show(),getDay="5"),getDay}function countCheckboxShow(){return count_checkbox_show=0,$(".col-monday").is(":visible")&&count_checkbox_show++,$(".col-tuesday").is(":visible")&&count_checkbox_show++,$(".col-wednesday").is(":visible")&&count_checkbox_show++,$(".col-thursday").is(":visible")&&count_checkbox_show++,$(".col-friday").is(":visible")&&count_checkbox_show++,count_checkbox_show}function countCheckboxChecked(){return count_checkbox_checked=0,$(".col-monday").is(":visible")&&$("#monday input[type='checkbox']").prop("checked")&&count_checkbox_checked++,$(".col-tuesday").is(":visible")&&$("#tuesday input[type='checkbox']").prop("checked")&&count_checkbox_checked++,$(".col-wednesday").is(":visible")&&$("#wednesday input[type='checkbox']").prop("checked")&&count_checkbox_checked++,$(".col-thursday").is(":visible")&&$("#thursday input[type='checkbox']").prop("checked")&&count_checkbox_checked++,$(".col-friday").is(":visible")&&$("#friday input[type='checkbox']").prop("checked")&&count_checkbox_checked++,count_checkbox_checked}function checkFormComelateRegister(){if(status=1,$("#check_submit").val(1),startDate=$("#datetimepicker-start-date").datepicker("getDate"),null==startDate&&($("#start_date-error").show(),status=0),endDate=$("#datetimepicker-end-date").datepicker("getDate"),null==endDate&&($("#end_date-error").show(),status=0),null!=startDate&&null!=endDate){var e=$("#register_id").val(),t=$("#employee_id").val();if($("#employee_id").length&&null!=t){var a=checkExistRegister($("#start_date").val(),$("#end_date").val(),e,t);a&&($("#register_exist_error").show(),status=0)}}if($("#employee_id").length){var t=$("#employee_id").val();null==t&&($("#registrant-error").show(),status=0)}if($("#approver").length){var c=$("#approver").val();null==c&&($("#approver-error").show(),status=0)}lateStartShift=$("#late_start_shift").val().trim(),earlyMidShift=$("#early_mid_shift").val().trim(),lateMidShift=$("#late_mid_shift").val().trim(),earlyEndShift=$("#early_end_shift").val().trim(),(""==lateStartShift&&""==earlyMidShift&&""==lateMidShift&&""==earlyEndShift||0==lateStartShift&&0==earlyMidShift&&0==lateMidShift&&0==earlyEndShift)&&($("#error-time").show(),status=0);var d=$("#reason").val().trim();return""==d&&($("#reason-error").show(),status=0),0!=status}function checkExistRegister(e,t,a,c){var d=!1;return"undefined"==typeof a&&(a=null),"undefined"==typeof c&&(c=null),$.ajax({type:"GET",url:urlCheckRegisterExist,data:{registerId:a,startDate:e,endDate:t,employeeId:c},async:!1,success:function(e){d=e}}),d}function showCheckDayApply(e,t){if(null!==e&&null!==t){if(ONE_DAY=864e5,startDate_ms=e.getTime(),endDate_ms=t.getTime(),difference_ms=Math.abs(startDate_ms-endDate_ms),difference_day=Math.round(difference_ms/ONE_DAY),0===difference_day||1===difference_day&&6===e.getDay()&&0===t.getDay())hideDaysOfWeek();else if(0<difference_day&&difference_day<6){$(".col-monday").hide(),$(".col-tuesday").hide(),$(".col-wednesday").hide(),$(".col-thursday").hide(),$(".col-friday").hide(),$(".col-all-day").show(),$("#select_all_day, #monday, #tuesday, #wednesday, #thursday, #friday").iCheck("uncheck"),$("#all_day_hidden").val("");var a=[];if(e.getDay()<t.getDay()){for(i=e.getDay();i<=t.getDay();i++)getDay=checkDays(i),null!==getDay&&a.push(getDay);$("#all_day_hidden").val(a.join(", "))}else if(e.getDay()>t.getDay()){for(i=0;i<=t.getDay();i++)getDay=checkDays(i),null!==getDay&&a.push(getDay);for(i=e.getDay();i<=6;i++)getDay=checkDays(i),null!==getDay&&a.push(getDay);$("#all_day_hidden").val(a.join(", "))}}else showDaysOfWeek();$("#select_all_day, #monday, #tuesday, #wednesday, #thursday, #friday").iCheck("enable"),$("#select_all_day, #monday, #tuesday, #wednesday, #thursday, #friday").iCheck("check")}}$(window).load(function(){$(".se-pre-con").fadeOut("slow")}),$(function(){var e=new Date,t=new Date;optionDatePickerStart={autoclose:!0,format:"dd-mm-yyyy",weekStart:1,todayHighlight:!0},optionDatePickerEnd={autoclose:!0,format:"dd-mm-yyyy",weekStart:1,todayHighlight:!0},$("#datetimepicker-start-date").datepicker(optionDatePickerStart).on("changeDate",function(e){startDate=new Date(e.date.valueOf()),startDate.setDate(startDate.getDate(new Date(e.date.valueOf()))),startDate=$("#datetimepicker-start-date").datepicker("getDate"),endDate=$("#datetimepicker-end-date").datepicker("getDate"),null!==startDate&&null!==endDate&&(startDate_ms=startDate.getTime(),endDate_ms=endDate.getTime(),startDate_ms>endDate_ms&&$("#datetimepicker-end-date").datepicker("update",startDate)),$("#datetimepicker-end-date").datepicker("setStartDate",startDate),hideDaysOfWeek(),$("#start_date-error").hide(),$("#register_exist_error").hide(),startDate=$("#datetimepicker-start-date").datepicker("getDate"),endDate=$("#datetimepicker-end-date").datepicker("getDate"),showCheckDayApply(startDate,endDate)}).on("clearDate",function(){$("#datetimepicker-end-date").datepicker("setStartDate",""),$("#register_exist_error").hide(),hideDaysOfWeek(),checkSubmit=$("#check_submit").val(),1==checkSubmit&&$("#start_date-error").show()}),$("#datetimepicker-end-date").datepicker(optionDatePickerEnd).on("changeDate",function(e){startDate=$("#datetimepicker-start-date").datepicker("getDate"),endDate=$("#datetimepicker-end-date").datepicker("getDate"),$("#end_date-error").hide(),$("#register_exist_error").hide(),showCheckDayApply(startDate,endDate)}).on("clearDate",function(){hideDaysOfWeek(),$("#register_exist_error").hide(),checkSubmit=$("#check_submit").val(),1==checkSubmit&&$("#end_date-error").show()}),$("#datetimepicker-start-date").datepicker("setDate",e),$("#datetimepicker-end-date").datepicker("setDate",t),$("#select_all_day input").on("ifClicked",function(e){checked=e.target.checked,checked?$("#monday, #tuesday, #wednesday, #thursday, #friday").iCheck("uncheck"):$("#monday, #tuesday, #wednesday, #thursday, #friday").iCheck("check")}),$("#monday input").on("ifChanged",function(e){checked=e.target.checked,checked?(count_checkbox_show=countCheckboxShow(),count_checkbox_checked=countCheckboxChecked(),count_checkbox_show==count_checkbox_checked&&$("#select_all_day").iCheck("check")):$("#select_all_day").iCheck("uncheck")}),$("#tuesday input").on("ifChanged",function(e){checked=e.target.checked,checked?(count_checkbox_show=countCheckboxShow(),count_checkbox_checked=countCheckboxChecked(),count_checkbox_show==count_checkbox_checked&&$("#select_all_day").iCheck("check")):$("#select_all_day").iCheck("uncheck")}),$("#wednesday input").on("ifChanged",function(e){checked=e.target.checked,checked?(count_checkbox_show=countCheckboxShow(),count_checkbox_checked=countCheckboxChecked(),count_checkbox_show==count_checkbox_checked&&$("#select_all_day").iCheck("check")):$("#select_all_day").iCheck("uncheck")}),$("#thursday input").on("ifChanged",function(e){checked=e.target.checked,checked?(count_checkbox_show=countCheckboxShow(),count_checkbox_checked=countCheckboxChecked(),count_checkbox_show==count_checkbox_checked&&$("#select_all_day").iCheck("check")):$("#select_all_day").iCheck("uncheck")}),$("#friday input").on("ifChanged",function(e){checked=e.target.checked,checked?(count_checkbox_show=countCheckboxShow(),count_checkbox_checked=countCheckboxChecked(),count_checkbox_show==count_checkbox_checked&&$("#select_all_day").iCheck("check")):$("#select_all_day").iCheck("uncheck")}),$("#approver").select2({minimumResultsForSearch:1/0}).on("select2:select",function(e){$("#approver-error").hide()}),$('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_minimal-blue"}),$("#managetime-icon-date-start").on("click",function(){$(".managetime-select-2").select2("close"),$("#related_persons").select2("close"),$("#datetimepicker-start-date").data("DateTimePicker").show()}),$("#managetime-icon-date-end").on("click",function(){$("#related_persons").select2("close"),$(".managetime-select-2").select2("close"),$("#datetimepicker-start-end").data("DateTimePicker").show()}),$("#related_persons").select2({ajax:{url:urlSearchRelatedPerson,dataType:"JSON",data:function(e){return{q:$.trim(e.term)}},processResults:function(e){return{results:e}},cache:!0}}),$(".manage-time").keyup(function(){checkSubmit=$("#check_submit").val(),1==checkSubmit&&(lateStartShift=$("#late_start_shift").val().trim(),earlyMidShift=$("#early_mid_shift").val().trim(),lateMidShift=$("#late_mid_shift").val().trim(),earlyEndShift=$("#early_end_shift").val().trim(),""==lateStartShift&&""==earlyMidShift&&""==lateMidShift&&""==earlyEndShift?$("#error-time").show():$("#error-time").hide())}),$("#reason").keyup(function(){var e=$("#check_submit").val();if(1==e){var t=$("#reason").val().trim();""==t?$("#reason-error").show():$("#reason-error").hide()}})});