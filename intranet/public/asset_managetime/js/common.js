function checkInputKeyup(){var e=$("#check_submit").val();if(1==e){var t=$("#location").val().trim();""==t?$("#location-error").show():$("#location-error").hide()}}function checkInputReasonKeyup(){var e=$("#check_submit").val();if(1==e){var t=$("#reason").val().trim();""==t?$("#reason-error").show():$("#reason-error").hide()}}function childCheck(){$(".check_emp:checked").length>0?$(".btn-remove-emp").prop("disabled",!1):$(".btn-remove-emp").prop("disabled",!0)}function select2Interviewers(e){$(e).select2({ajax:{url:$(e).data("remote-url"),dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:5*t.page<e.total_count}}},cache:!0},placeholder:"Chọn nhân viên",escapeMarkup:function(e){return e},minimumInputLength:3,templateResult:formatRepo,templateSelection:formatRepoSelection,maximumSelectionSize:5})}function formatRepo(e){if(e.loading)return e.text;var t="<div class='select2-result-repository clearfix'><div class='select2-result-repository__avatar' style='float: left;'><img style='border-radius: 50px;width: 50px; height: 50px;' src='"+e.avatar+"' /></div><div class='select2-result-repository__meta select2_text' style='float: left; padding: 17px 10px 17px 10px; font-size: 13px;'><div class='select2-result-repository__title'>"+e.text+"</div></div></div>";return t}function formatRepoSelection(e){return e.text}function isWeekend(e){return jQuery.inArray(e.getDay(),[0,6])!==-1&&jQuery.inArray(getFormattedDate(e),compensationDays.com)===-1||jQuery.inArray(getFormattedDate(e),compensationDays.lea)!==-1}function getFormattedDate(e){return e.getFullYear()+"-"+getFormattedPartTime(e.getMonth()+1)+"-"+getFormattedPartTime(e.getDate())}function getFormattedPartTime(e){return e<10?"0"+e:e}$(function(){var e=window.location.href.substr(window.location.href);$(".managetime-menu li a").each(function(){$(this).attr("href")==e&&$(this).addClass("active")}),$(".managetime-select-2").select2({minimumResultsForSearch:1/0}),selectSearchReload(),$(".managetime-read-more").shorten({showChars:200,moreText:"See more",lessText:"Less"}),$(".filter-date").datepicker({autoclose:!0,format:"dd-mm-yyyy",weekStart:1,todayHighlight:!0}),$(".filter-date").on("keyup",function(e){e.stopPropagation(),13==e.keyCode&&$(".btn-search-filter").trigger("click")})}),select2Interviewers(".select2"),$(".btn-remove-emp").on("click",function(){$("#modal_remove_emp .modal-body .emp-remove").remove(),$("#modal_remove_emp .modal-body .emp-list").html(""),$(".check_emp:checked").length>0&&$(".check_emp:checked").each(function(){$("#modal_remove_emp .modal-body").prepend('<input type="hidden" name="employee[]" class="emp-remove" value="'+$(this).data("emp_id")+'" />'),$("#modal_remove_emp .modal-body .emp-list").append('<li class="emp-remove">'+$(this).data("emp_name")+" ("+$(this).data("emp_code")+")</li>")}),$("#modal_remove_emp").modal("show")}),$(".btn-show-modal-add-emp").on("click",function(){$("#modal_add_emp").modal("show")}),$('select[name="employee[]"]').change(function(){$("#modal_add_emp .modal-body .error").remove();var e=$(this).val();if(e){var t=[];$(".btn-add-emp").prop("disabled",!1),$.each(e,function(e,o){if(jQuery.inArray(parseInt(o),empIdInList)!==-1){var a=$('select[name="employee[]"]').find("option[value="+o+"]").text();t.push('<div class="error">'+a+messageExist+"</div>")}}),t.length>0&&($.each(t,function(e,t){$("#modal_add_emp .modal-body").append(t)}),$(".btn-add-emp").prop("disabled",!0))}else $(".btn-add-emp").prop("disabled",!0)}),function(e){var t={};t.countryProvince={init:function(){if(!e("[data-cp-country]").length||"object"!=typeof country)return!0;var t=this;e("[data-cp-country]").each(function(){t.renderCountry(e(this))}),e("[data-cp-country]").change(function(){t.renderProvince(e(this))})},renderCountry:function(t){var o=this,a=t.data("cp-country"),r="object"==typeof countryActive&&"undefined"!=typeof countryActive[a]?countryActive[a]:null,n="";"object"==typeof t.data("select2")&&t.data("select2").destroy(),n+='<option value="">&nbsp;</option>',e.each(country,function(e,t){var o="";e==r&&(o=" selected"),n+="object"==typeof t&&t.hasOwnProperty(1)?'<option code="'+t[1]+'" value="'+e+'"'+o+">"+t[0]+"</option>":'<option value="'+e+'"'+o+">"+t+"</option>"}),t.html(n),t.select2(),o.renderProvince(t)},renderProvince:function(t){var o=this,a=t.val(),r=t.data("cp-country"),n=e('[data-cp-province="'+r+'"]'),i="";if(!n.length)return!0;if(!a||!r||"object"!=typeof provinces||"object"!=typeof provinces[a])return o.hideDomProv(n,r),!0;"object"==typeof n.data("select2")&&n.data("select2").destroy();var c="object"==typeof provinceActive&&"undefined"!=typeof provinceActive[r]?provinceActive[r]:null;i+='<option value="">&nbsp;</option>',e.each(provinces[a],function(e,t){var o="";e==c&&(o=" selected"),i+='<option value="'+e+'"'+o+">"+t+"</option>"}),n.html(i),e('[data-cp-province-wrapper="'+r+'"]').removeClass("hidden"),n.select2()},hideDomProv:function(t,o){e('[data-cp-province-wrapper="'+o+'"]').addClass("hidden"),"object"==typeof t.data("select2")&&t.data("select2").destroy(),t.val("").change(),t.html("")}},t.countryProvince.init()}(jQuery);