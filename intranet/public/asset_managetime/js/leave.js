jQuery(document).ready(function(e){function r(){var r=e("#salary_rate").val();if(r==parseInt(r)||0==r.length)return!0;var t=r.split(".")[1];return!(t.length>2)}e(".managetime-select-2").select2({minimumResultsForSearch:1/0}),e("#btn_add_reason").click(function(){e("#name").removeAttr("edit"),e("#modal-create-edit").modal("show"),e("#used_leave_day").select2("val","0"),e("#close_form").one("click",function(r){e("#modal-create-edit").modal("hide"),e("#name").val(""),e("#sort_order").val(""),e("#salary_rate").val(""),e("#name-error").text(""),e("#sort_order-error").remove(),e("#salary_rate-error").remove()})}),e(document).on("click","tr.reason-data .reason-edit",function(r){var t=e(this).closest("tr");e("#name").attr("edit",t.attr("reason-id")),e("#name").val(t.attr("reason-name")),e("#sort_order").val(t.attr("reason-order")),e("#salary_rate").val(t.attr("reason-salary")),e("#reason_id").val(t.attr("reason-id")),e("#used_leave_day").select2("val",t.attr("reason-used-leave-day")),e(".modal-title").text(titleEditReson),e("#add_submit").text(labelSave),e("#sort_order-error").remove(),e("#salary_rate-error").remove(),e("#form-submit-reason").find("input[type=text]").removeClass("error"),e("#modal-create-edit").modal("show"),e("#close_form").one("click",function(r){e("#modal-create-edit").modal("hide"),e("#form-submit-reason").find("input[type=text]").val(""),e("#form-submit-reason").find("input[type=text]").removeClass("error"),e("#reason_id").val(""),e("#add_submit").text(labelSave),e(".modal-title").text(titleAddReason),e("#name-error").text(""),e("#sort_order-error").remove(),e("#salary_rate-error").remove()})}),e.validator.addMethod("uniqueName",function(e,r,t){if(uniqueName())return!0},"Tên này đã được sử dụng, hãy nhập vào tên khác"),e.validator.addMethod("decimal",function(){if(r())return!0},"Chỉ được nhập tối đa 2 số sau dấu phẩy"),e("#form-submit-reason").validate({onkeyup:!1,rules:{name:{required:!0,maxlength:255,remote:{url:e("#name").attr("check-name"),type:"get",data:{name:function(){return e("#name").val()},edit:function(){return e("#name").attr("edit")}}}},sort_order:{number:!0,min:0,digits:!0},salary_rate:{number:!0,decimal:!0,min:0,max:100}},messages:{name:{required:"Bắt buộc phải điền tên",maxlength:"Tên lý do không dài quá 255 ký tự",remote:"Tên này đã được sử dụng, xin hãy nhập lại tên khác"},sort_order:{number:"Sắp xếp phải là số nguyên và lớn hơn 0",min:"Sắp xếp phải là số nguyên và lớn hơn 0",digits:"Sắp xếp phải là số nguyên và lớn hơn 0"},salary_rate:{number:"Tỷ lệ hưởng lương nhập vào phải là số, nằm trong khoảng 0 đến 100",min:"Tỷ lệ hưởng lương nhập vào phải là số, nằm trong khoảng 0 đến 100",max:"Tỷ lệ hưởng lương nhập vào phải là số, nằm trong khoảng 0 đến 100"}}})});