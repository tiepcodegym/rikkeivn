function getNumberDaysWeekend(e,t){e.setHours(0,0),t.setHours(0,0);for(var a=e.getFullYear(),r=0,i=e;i<=t;i.setDate(i.getDate()+1)){var n=i.getDay();a=i.getFullYear();var o=i.getTime();if(0==n||6==n)r++;else{var l=!1;if("object"==typeof arrAnnualHolidays)for(var s=arrAnnualHolidays.length,u=0;u<s;u++)if(dateAnnual=new Date(a+"-"+arrAnnualHolidays[u]),dateAnnual.setHours(0,0),getDateTimeAnnual=dateAnnual.getTime(),getDateTimeAnnual==o){l=!0;break}if(!l&&"object"==typeof arrSpecialHolidays)for(var d=arrSpecialHolidays.length,u=0;u<d;u++)if(dateSpecial=new Date(arrSpecialHolidays[u]),dateSpecial.setHours(0,0),getDateTimeSpecial=dateSpecial.getTime(),getDateTimeSpecial==o){l=!0;break}l&&r++}}return r}function convertDate(e){var t=e.split(" "),e=t[0],a=t[1],r=e.split("-");return r[2]+"-"+r[1]+"-"+r[0]+" "+a}function getDaysTimekeeping(e,t){var a=864e5,r=new Date(e),i=new Date(t),n=r.getDay(),o=(i.getDay(),getNumberDaysWeekend(new Date(e),new Date(t)));r.setHours(0,0),i.setHours(0,0),r=r.getTime(),i=i.getTime();var l=i-r,s=Math.round(l/a*100)/100;s-=o;var u=new Date(e),d=new Date(t),c=u.getHours(),g=u.getMinutes(),f=d.getHours(),m=d.getMinutes();if(s<0)return 0;0==s?0==n||6==n?(c=8,g=0):c<8?(c=8,g=0):(12==c||13==c&&g<=30)&&(c=13,g=30):0==n||6==n?(c=8,g=0):c<8?(c=8,g=0):12==c||13==c&&g<=30?(c=13,g=30):(c>17||17==c&&g>=30)&&(c=8,g=0,s-=1);var v=0,w=0;c>=8&&c<=12?f<=12?(v=f-c,w=m-g):(v=12-c+(f-13),w=0-g+(m-30)):c>12&&f<=12&&s>0?(v=17-c+(f-8),w=30-g+m,s-=1):(v=f-c,w=m-g);var D=480,p=60*v+w,$=s+Math.round(p/D*100)/100;return $}$(function(){var e=$("#position_start_header_fixed").offset().top;$(window).scroll(function(){var t=$(window).scrollTop();t>e?($("#managetime_table_fixed").css("top",t-$(".table-responsive").offset().top+52),$("#managetime_table_fixed").show()):$("#managetime_table_fixed").hide()}),$("#button_delete_submit").click(function(){var e=$("#register_id_delete").val(),t=window.location.href.substr(window.location.href),a=$(this);a.button("loading"),$.ajax({type:"GET",url:urlDelete,data:{registerId:e,urlCurrent:t},success:function(e){$("#modal_delete").modal("hide");var t=JSON.parse(e);window.location=t.url}})}),$(".button-delete").click(function(){var e=$(this).attr("data-status");return e==statusApproved?($("#show_notification").text(contentDisallowDelete),$("#modal_allow_edit").modal("show"),!1):($("#register_id_delete").val($(this).val()),void $("#modal_delete").modal("show"))})});