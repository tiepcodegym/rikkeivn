function showInfo(e){$("#register-preview").modal("show"),$.ajax({url:urlSearchReg,type:"GET",data:{id:e}}).done(function(e){$("#preview_status").text(e.register.status),$("#employee_name").val(e.applicant.name),$("#employee_code").val(e.applicant.employee_code),$("#employee_position").val(e.role),$("#register_approver").val(e.register.approver_name),$("#register_project").val(e.register.projs_name),$("#register_start_at").val(moment(e.register.start_at,"DD-MM-YYYY HH:mm").format("DD-MM-YYYY HH:mm")),$("#register_end_at").val(moment(e.register.end_at,"DD-MM-YYYY HH:mm").format("DD-MM-YYYY HH:mm")),$("#register_reason").val(e.register.reason),$("#view_detail").attr("href",urlEditReg+"/"+e.register.id),$("#view_detail").attr("target")})}function editRegister(e){window.open(urlEditReg+"/"+e)}function setDeleteId(e){$("#ot_id_delete").val(e),$("#delete_warning").find(".page_type").val(pageType)}function setApproveId(e){$("#ot_approve_id").val(e),$("#approve_confirm").find(".page_type").val(pageType),$("#approve_confirm").find("form").prop("action",urlApproveRegister)}function setRejectId(e){$("#ot_reject_id").val(e),$("#reject_confirm").find(".page_type").val(pageType),$("#reject_confirm").find("form").prop("action",urlRejectRegister),$("#reject_confirm").find("div.rejectError").empty()}function checkRejectReason(){$("#reject_confirm").find("button.submit").click(function(e){$("#reject_reason").val()?($(this).prop("disabled",!0),$("#reject_confirm form").submit()):$("#reject_confirm").find("div.rejectError").html(errList[0])}),$("#reject_reason").on("input",function(){$(this).val()&&$("#reject_confirm").find("div.rejectError").empty()})}function controlListCheckBox(){var e=!1;$("#check_all, .check_select").iCheck({checkboxClass:"icheckbox_flat-green"}),$("#check_all").on("ifChecked",function(t){$(".check_select").iCheck("check"),$(".check_select").filter(":checked").length>0&&$(".btn-approve, .btn-reject").prop("disabled",!1),e=!1}),$("#check_all").on("ifUnchecked",function(t){e||($(".check_select").iCheck("uncheck"),$(".btn-approve, .btn-reject").prop("disabled",!0)),e=!1}),$(".check_select").on("ifUnchecked",function(t){e=!0,$("#check_all").iCheck("uncheck"),0==$(".check_select").filter(":checked").length&&$(".btn-approve, .btn-reject").prop("disabled",!0)}),$(".check_select").on("ifChecked",function(e){$(".check_select").filter(":checked").length==$(".check_select").length&&$("#check_all").iCheck("check"),$(".btn-approve, .btn-reject").prop("disabled",!1)})}function initList(){$("#select-team-select2").select2(),$("#select-team-select2").on("change",function(){$("#select-team-form").submit()}),$(".ot-read-more").shorten({showChars:200,moreText:"See more",lessText:"Less"}),$(".btn-approve").setApproveIds(),$(".btn-reject").setRejectIds()}$.fn.setApproveIds=function(){$(this).click(function(){var e=[];$("#approve_confirm").modal("show"),$("#approve_confirm").find(".page_type").val(pageType),$("tbody").find("input.check_select:checked").each(function(){e.push($(this).val())}),$("#ot_approve_id").val(e),$("#approve_confirm").find("form").prop("action",urlMassApproveRegister)})},$.fn.setRejectIds=function(){$(this).click(function(){var e=[];$("#reject_confirm").modal("show"),$("#reject_confirm").find(".page_type").val(pageType),$("tbody").find("input.check_select:checked").each(function(){e.push($(this).val())}),$("#ot_reject_id").val(e),$("#reject_confirm").find("div.rejectError").empty(),$("#reject_confirm").find("form").prop("action",urlMassRejectRegister)})},$.fn.initFilterCalendar=function(){$(this).datetimepicker({allowInputToggle:!0,format:"DD-MM-YYYY",useCurrent:!1}),$(this).on("dp.change",function(e){$(".btn-search-filter").trigger("click")})},$(".ot-show-popup a").click(function(){$.ajax({type:"GET",data:{registerId:$(this).attr("value")},url:urlShowPopup,success:function(e){$("#modal_view").html(e),$("#modal_view").modal("show")}})});