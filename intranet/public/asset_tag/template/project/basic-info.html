<form class="form-horizontal" id="create-project-form" method="post" action="<%= varGlobalTag['urlProjectCreateSubmit'] %>" autocomplete="off" ng-submit="formProjectSubmit($event)"><div class="row"><div class="row"><div class="form-group col-sm-6"><label class="col-sm-4 control-label required" for="name"><%= trans['PName'] %> <em>*</em></label><div class="col-sm-8" ng-switch="isProjEdit"><div ng-switch-when="true"><input type="text" class="form-control" id="name" name="name" ng-model="projectItem.base.name" ng-blur="inputProjectSubmit($event, projectItem.base.name, 'base', 'name')" data-validate-remote="1"> <i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="projectItem.base.name" disabled="disabled"></div></div></div><div class="form-group col-sm-6"><label class="col-sm-4 control-label required" for="project_code"><%= trans['Short name'] %> <em>*</em></label><div class="col-sm-8" ng-switch="isProjEdit"><div ng-switch-when="true"><input type="text" class="form-control" id="project_code" name="project_code" ng-model="projectItem.base.project_code" ng-blur="inputProjectSubmit($event, projectItem.base.project_code, 'base', 'project_code')" data-validate-remote="1"> <i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="projectItem.base.project_code" disabled="disabled"></div></div></div></div><div class="row"><div class="form-group col-sm-6"><label class="col-sm-4 control-label required"><%= trans['Group'] %> <em>*</em></label><div class="col-sm-8"><div class="dropdown bst-muls-wrapper" ng-switch="isProjEdit"><div ng-switch-when="true"><select class="bootstrap-multiselect hidden" name="team_ids[]" multiple="multiple" ng-model="projectItem.team.ids" ng-options="teamItem.id as teamItem.label disable when teamItem.disabled for teamItem in projectData.team" data-col-group="team" data-col-name="ids"></select><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="getProjGroupsName()" disabled="disabled"></div></div></div></div><div class="form-group col-sm-6 form-group-select2"><label class="col-sm-4 control-label required"><%= trans['Group leader'] %> <em>*</em></label><div class="col-sm-8 fg-valid-custom" ng-switch="isProjEdit"><div ng-switch-when="true"><select id="proj-leader_id" name="leader_id" ng-select2 data-col-group="base" data-col-name="leader_id" data-select2-model="projectItem.base.leader_id" data-select2-remote-url="<%= varGlobalTag.urlRemoteSearchEmployee %>/not?fullName=1" required ng-required="required" data-select2-changed="funcSelect2PMChanged" data-select2-enforce-focus="1"><option value="<%= projectItem.base.leader_id %>" ng-bind="project.leader_name"></option></select><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="project.leader_name" disabled="disabled"></div></div></div></div><div class="row"><div class="form-group col-sm-6 form-group-select2"><label class="col-sm-4 control-label required"><%= trans['Project Manager'] %> <em>*</em></label><div class="col-sm-8 fg-valid-custom" ng-switch="isProjEdit"><div ng-switch-when="true"><select name="manager_id" id="proj-manager_id" ng-select2 data-col-group="base" data-col-name="manager_id" data-select2-model="projectItem.base.manager_id" data-select2-text="projMemberData.account" data-select2-remote-url="<%= varGlobalTag.urlRemoteSearchEmployee %>/not?fullName=1" required ng-required="required" data-select2-changed="funcSelect2PMChanged"><option value="<%= projectItem.base.manager_id %>" selected="selected" ng-bind="project.manager_name"></option></select><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="project.manager_name" disabled="disabled"></div></div></div></div><div class="row"><div class="form-group col-sm-6 form-group-select2"><label class="col-sm-4 control-label required"><%= trans['PType'] %> <em>*</em></label><div class="col-sm-8 fg-valid-custom" ng-switch="isProjEdit"><div ng-switch-when="true"><select name="type" ui-select2="select2OptionsNotSearch" ng-options="typeItem.id as typeItem.label for typeItem in projectData.type" ng-model="projectItem.base.type" id="proj-type" ng-change="inputProjectSubmit('#proj-type', projectItem.base.type, 'base', 'type')"><option value="">&nbsp;</option></select><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="getProjTypeText()" disabled="disabled"></div></div></div><div class="form-group col-sm-6"><label class="col-sm-4 control-label" ng-bind="trans['Status']"></label><div class="col-sm-8" ng-switch="isProjEdit"><div ng-switch-when="true"><input type="text" class="form-control" ng-value="'Closed'" disabled="disabled"></div><div ng-switch-default><input type="text" class="form-control" ng-value="varGlobalTag.projStates[projectItem.base.state]" disabled="disabled"></div></div></div></div><div class="row"><div class="form-group col-sm-6 form-group-select2"><label class="col-sm-4 control-label required"><%= trans['Customer'] %></label><div class="col-sm-8 fg-valid-custom" ng-switch="isProjEdit"><div ng-switch-when="true"><select class="select-search" data-remote-url="<%= varGlobalTag.urlRemoteSearchCustomer %>" name="cust_contact_id" id="proj-customer"><option value="<%= projectItem.base.cust_contact_id %>" selected="selected"><%= project.customer_name %></option></select><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="project.customer_name" disabled="disabled"></div></div></div><div class="form-group col-sm-6 form-group-select2"><label class="col-sm-4 control-label required"><%= trans['Salesperson'] %></label><div class="col-sm-8 fg-valid-custom" ng-switch="isProjEdit"><div ng-switch-when="true"><select name="sale_ids[]" class="select-search" multiple="" data-remote-url="<%= varGlobalTag.urlRemoteSearchEmployee %>" id="proj-sales"><option ng-repeat="item in project.sales" value="<%= item.id %>" selected="selected"><%= item.label %></option></select><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="getProjSalesText()" disabled="disabled"></div></div></div></div><div class="row"><div class="form-group col-sm-6"><label class="col-sm-4 control-label required"><%= trans['Billable Effort'] %> <em>*</em></label><div class="col-sm-8" ng-switch="isProjEdit"><div class="input-group input-group-select2" ng-switch-when="true"><input type="text" class="form-control igs-input" name="billable_effort" ng-model="projectItem.quality.billable_effort" ng-blur="inputProjectSubmit($event, projectItem.quality.billable_effort, 'quality', 'billable_effort')"> <span class="input-group-addon"><select name="type_effort" id="proj-type-effort" ng-options="typeItem.id as typeItem.label for typeItem in projectData.resourceType" ng-model="projectItem.base.type_mm" ng-change="inputProjectSubmit('#proj-type-effort', projectItem.base.type_mm, 'base', 'type_mm')"></select></span><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden" style="margin-right: -20px"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="'' + projectItem.quality.billable_effort + ' ' + getProjTypeResourceEffort()" disabled="disabled"></div></div></div><div class="form-group col-sm-6"><label class="col-sm-4 control-label required"><%= trans['Plan Effort'] %> <em>*</em></label><div class="col-sm-8" ng-switch="isProjEdit"><div class="input-group input-group-select2" ng-switch-when="true"><input type="text" class="form-control igs-input" name="plan_effort" ng-model="projectItem.quality.plan_effort" ng-blur="inputProjectSubmit($event, projectItem.quality.plan_effort, 'quality', 'plan_effort')"> <span class="input-group-addon"><select name="type_effort" ng-options="typeItem.id as typeItem.label for typeItem in projectData.resourceType" ng-model="projectItem.base.type_mm" ng-change="inputProjectSubmit('#proj-type-effort', projectItem.base.type_mm, 'base', 'type_mm')"></select></span><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden" style="margin-right: -20px"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="'' + projectItem.quality.plan_effort + ' ' + getProjTypeResourceEffort()" disabled="disabled"></div></div></div></div><div class="row"><div class="form-group col-sm-6"><label for="start_at" class="col-sm-4 control-label required"><%= trans['Start date'] %> <em>*</em></label><div class="col-sm-8" ng-switch="isProjEdit"><div ng-switch-when="true"><input type="text" class="form-control date" name="start_at" data-date-format="yyyy-mm-dd" data-date-week-start="1" data-provide="datepicker" placeholder="YYYY-MM-DD" data-date-today-highlight="true" ng-model="projectItem.base.start_at" ng-blur="inputProjectSubmit($event, projectItem.base.start_at, 'base', 'start_at')" id="project_start_at"> <i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="projectItem.base.start_at" disabled="disabled"></div></div></div><div class="form-group col-sm-6"><label for="end_at" class="col-sm-4 control-label required"><%= trans['End date'] %> <em>*</em></label><div class="col-sm-8" ng-switch="isProjEdit"><div ng-switch-when="true"><input type="text" class="form-control date" name="end_at" data-date-format="yyyy-mm-dd" data-date-week-start="1" data-provide="datepicker" placeholder="YYYY-MM-DD" data-date-today-highlight="true" ng-model="projectItem.base.end_at" ng-blur="inputProjectSubmit($event, projectItem.base.end_at, 'base', 'end_at')" id="project_end_at"> <i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="projectItem.base.end_at" disabled="disabled"></div></div></div></div><div class="row"><div class="col-md-6 form-group" id="select-prog_langs"><label for="prog_langs" class="col-md-4 control-label required margin-top--10"><%= trans['Programming language'] %> <em>*</em></label><div class="col-md-8"><div class="dropdown bst-muls-wrapper" ng-switch="isProjEdit"><div ng-switch-when="true"><select id="lang_ids" class="hidden bootstrap-multiselect" name="lang_ids[]" multiple="multiple" ng-model="projectItem.lang.ids" ng-options="+k as v for (k, v) in projectData.lang" data-col-group="lang" data-col-name="ids"></select><i class="fa fa-refresh fa-spin form-control-feedback input-ajax-loading hidden"></i></div><div ng-switch-default><input type="text" class="form-control" ng-value="getProjLangsText()" disabled="disabled"></div></div></div></div></div><div class="row"><div class="col-sm-12"><p class="text-center"><button class="btn btn-primary" type="<%= projectItem.id ? 'button' : 'submit' %>" ng-disabled="disabledFormProject" ng-click="funcProcessNext('#scope')"> <%= trans['Next'] %> &nbsp; <i class="fa fa-refresh fa-spin ajax-loading hidden"></i></button></p></div></div></div></form>