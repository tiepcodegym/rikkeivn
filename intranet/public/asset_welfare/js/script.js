function changeTabs(){var e=window.location.hash;if("#employeeAtt"==e||"#participants"==e||"#employee"==e){var t=$("#users-table-emp-att").data("list");$("#users-table-emp-att").dataTable({destroy:!0,pagingType:"full_numbers",processing:!1,serverSide:!0,bLengthChange:!1,oLanguage:dataLang,ajax:t,pagingType:"input"})}else if("#wel_fee_more"==e){var t=$("#table_wel_fee_more").data("list"),a=$("#table_wel_fee_more").DataTable({destroy:!0,pagingType:"full_numbers",processing:!1,serverSide:!0,bLengthChange:!1,oLanguage:dataLang,ajax:t,order:[[3,"desc"]],pagingType:"input"});$("#table_wel_fee_more_wrapper .dataTables_filter").find("input").remove(),$("#table_wel_fee_more_wrapper .dataTables_filter").append('<input type="text" placeholder="" data-index="0">'),$(a.table().container()).on("keyup",".dataTables_filter input[data-index]",function(){a.search(htmlEntities(this.value)).draw()})}}function htmlEntities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function enterKeyPress(e){return 13!=e.keyCode||($(this).parents().find("button").click(),!1)}function setSelected(){var e="#"+this.closest("table").getAttribute("id");$(this).parent().hasClass("selected")?$(this).parent().removeClass("selected"):($(e+" tr.selected").removeClass("selected"),$(this).parent().addClass("selected"),$(e+" input").prop("checked",!1))}function addOption(e,t,a){var n=$('input[name="name'+a+'"]').val();$.ajax({method:"GET",url:e,data:{data:n},success:function(e){var a='<option selected="true" value="'+e.id+'">'+e.name+"</option>";$('select[name="'+t+'"]').append(a)}})}function onKeyUp(e){var t=this.getSelection().toString();if(""===t&&$.inArray(this.event.keyCode,[38,40,37,39])===-1){var a=$(e).val(),a=a.replace(/[\D\s\._\-]+/g,"");a=a?parseFloat(a,10):0,$(e).val(function(){return 0===a?"":a.toLocaleString("en-US")})}}function trimAll(e){for(;" "==e.substring(0,1);)e=e.substring(1,e.length);for(;" "==e.substring(e.length-1,e.length);)e=e.substring(0,e.length-1);return e}function submitForm(){var e=$("#welfare-subject").val(),t=trimAll(CKEDITOR.instances.content.getData().replace(/<[^>]*>/gi,"")),a=0;return 0==e.trim().length&&($("#error-subject").removeClass("hidden"),a++),0==t.trim().length&&($("#error-content").removeClass("hidden"),a++),!(a>0)&&($("#btn-send-mail").data("allow")?(document.getElementById("content").value=CKEDITOR.instances.content.getData(),$(".success-message-send-mail").find(".alert").hide(),void $("#modal-success-send-mail").modal("show")):($("#modal-warning-send-mail").modal("show"),!1))}function confirmPreview(){$("#modal-preview-confirm").modal("show")}function updateFeeActualWithFeeMore(e,t){var a=parseFloat($("#fee_extra").val().replace(/,/g,"")),n=parseFloat($("#fee_total_actual").val().replace(/,/g,""));isNaN(a)?a=0:a,isNaN(n)?n=0:n;var r=parseFloat(e),i=0,l=0;t?(i=a+r,l=n+r):(i=0!=a?a-r:0,l=0!=n?n-r:0),$("#fee_extra").val(i.toLocaleString("en-US")),$("#fee_total_actual").val(l.toLocaleString("en-US"))}function formatValue(e){return"undefined"==typeof e?e=0:(e=parseFloat(e.replace(/,/g,"")),isNaN(e)?e=0:e),e}jQuery(document).ready(function(e){function t(t){var a=e("#modal-list-partner").find("#btn-choose-partner").data("url");e.ajax({type:"GET",url:a+"/"+t,data:{},success:function(t){for(var a in t)e(".information-partners input[name='wel_partner["+a+"]']").val(t[a])}})}function a(t){for(var a,n=e("#form-event-info").find("."+t+" input"),r={},i=0;i<n.length;i++)a=parseFloat(e("#"+n[i].id).val().replace(/,/g,"")),isNaN(a)?a=0:a,r[i]=a;return r}function n(t,a,n,r){var i=parseFloat(e("#"+t).val().replace(/,/g,"")),l=parseFloat(e("#"+a).val().replace(/,/g,"")),d=parseFloat(e("#"+n).val().replace(/,/g,""));isNaN(i)?i=0:l,isNaN(l)?l=0:l,isNaN(d)?d=0:d,e("#"+r).val((i*(l+d)).toLocaleString("en-US"))}function r(){var t=e("#"+this.getAttribute("table")+" .selected");if(t.length>0){var a=t.attr("numrow"),n=e("#"+this.getAttribute("table")+" .selected").attr("fillto");e('select[name="'+n+'"]').val(a).trigger("change"),e("#"+this.getAttribute("modal")).modal("hide")}else e("#select-null-data").modal("show")}function i(){e(".massage_null_edit").attr("hidden",!0),e(".massage_exist_edit").attr("hidden",!0);var t=e(this).closest("table").attr("id"),a=this.getAttribute("route"),n=e(this).data("select"),r={};r.name=e(this).prev().val().trim(),r._token=e("input[name=_token]").val(),r.id=this.getAttribute("data-id"),""==r.name?e(".massage_null_edit").removeAttr("hidden"):(e(this).find("._uploading").removeClass("hidden"),e.ajax({method:"POST",url:a,data:r,success:function(a){"undefined"!=typeof a.id?e("#"+t).DataTable().ajax.reload():"object"!=typeof a.messages&&(e(".massage_exist_edit").text(a.name),e(".massage_exist_edit").removeAttr("hidden")),e("."+n).load(location.href+" ."+n+">*",""),e(".save-modal-groupEvent ._uploading").addClass("hidden")}}))}function l(){var t=e('input[fieldname="Extra_payments_name"]').val(),a=e('input[fieldname="Extra_payments_budget"]').val(),n=(e('input[fieldname="Extra_payments_src"]').val(),0);return 0==t.trim().length&&(e("#error-extra-name").removeClass("hidden"),n++),0==a.trim().length?(e("#error-extra-budget").removeClass("hidden"),n++):a.trim().length>=19&&(e("#error-extra-budget-number").removeClass("hidden"),n++),!(n>0)}function d(){var t=this.getAttribute("modal"),a=this.getAttribute("route"),n=e(this).closest("table").attr("id"),r=e(this).data("select");e("#"+t).on("shown.bs.modal",function(){e("#"+t+" .btn-delete-fee-more").attr("route",a),e("#"+t+" .btn-delete-fee-more").attr("modal",t),e("#"+t+" .btn-delete-fee-more").attr("tablename",n),e("#"+t+" .btn-delete-fee-more").attr("select",r)}).modal("show")}function o(t,a){var n=e("#fee_favorable_attached").data("url");e("#relation_name_id").select2({ajax:{url:n+"/"+t+"/"+a,dataType:"json",delay:250,processResults:function(t){return{results:e.map(t,function(e){return{text:e.name,id:e.id}})}},cache:!1}})}selectSearchReload();var s=e("input[name=_token]").val(),c=(e("#table-partner .delete-modal-group").data("confirm"),e("#table-partner .edit-modal-partner").data("url")),u=e("#table-partner .delete-modal-partner").data("url");e('input[type="search"]').css("pointer-events","auto"),e("div.alert").delay(1e4).slideUp(),e("#addPartnerGroup").on("submit",function(t){t.preventDefault();var a=e("#addPartnerGroup").attr("action"),n=e("#namePartnerGroup").val();return!!e("#addPartnerGroup").valid()&&(e("#addPartnerGroup").find("#uploading").removeClass("hidden"),e("#addPartnerGroup").find("#partner-group-add").prop("disabled","disabled"),e.ajax({type:"POST",url:a,data:{_token:s,name:n},success:function(t){t.errors?(e("#list-partner-group").find("p#error-name-unique").removeClass("hidden"),e("#list-partner-group").find("p#error-name-unique").html(t.errors.name)):(e(".table-partner-group").DataTable().ajax.reload(null,!1),e("#namePartnerGroup").val(""),e("#myModal #fid").val(t.id),e("#myModal #n").val(t.name),e("#modal-add-partner #partner_type_id").append(e("<option>",{value:t.id,text:t.name}))),e("#addPartnerGroup").find("#uploading").addClass("hidden"),e("#partner-group-add").removeAttr("disabled")}}),void 0)}),e(document).on("keyup","#namePartnerGroup",function(){e(this).valid()?e("#addPartnerGroup").find("#partner-group-add").removeAttr("disabled"):e("#addPartnerGroup").find("#partner-group-add").prop("disabled","disabled"),e("#list-partner-group").find("p#error-name-unique").addClass("hidden")}),e(document).on("click",".edit-modal-group",function(){e("#modal-edit-partner-group #fid").val(e(this).data("id")),e("#modal-edit-partner-group #n").val(e(this).data("name")),e("#modal-edit-partner-group").modal("show")}),e(document).on("click",".delete-modal-group",function(){var t=e(".modal-footer .actionBtn").data("url");e(".form-confirm-delete").attr("action",t),e("#modal-delete-partner-group .did").text(e(this).data("id")),e("#modal-delete-partner-group").modal("show")}),e("#formModalPertnerGroup").on("submit",function(t){t.preventDefault();var a=e("#formModalPertnerGroup").attr("action"),n=e("#formModalPertnerGroup").find("#n").val();return 0===n.trim().length?(e("#formModalPertnerGroup").find("#error-name").removeClass("hidden"),!1):n.trim().length>50?(e("#formModalPertnerGroup").find("#error-name-length").removeClass("hidden"),!1):(e(this).find("._uploading").removeClass("hidden"),void e.ajax({type:"POST",url:a,data:{_token:s,id:e("#fid").val(),name:e("#n").val()},success:function(t){t.errors?(e("#modal-edit-partner-group").find("p#error-name-unique").removeClass("hidden"),e("#modal-edit-partner-group").find("p#error-name-unique").html(t.errors.name)):(e(".table-partner-group").DataTable().ajax.reload(null,!1),e("#modal-add-partner #partner_type_id option[value='"+t.id+"']").text(t.name),e("#modal-edit-partner-group").modal("hide")),e("#formModalPertnerGroup").find("._uploading").addClass("hidden"),e("#formModalPertnerGroup").find(".edit").removeAttr("disabled")}}))}),e(document).on("keyup","#formModalPertnerGroup #n",function(){var t=e("#formModalPertnerGroup").find("#n").val();0!==t.trim().length?e("#formModalPertnerGroup").find("#error-name").addClass("hidden"):e("#formModalPertnerGroup").find("#error-name").removeClass("hidden"),t.trim().length<=50?e("#formModalPertnerGroup").find("#error-name-length").addClass("hidden"):e("#formModalPertnerGroup").find("#error-name-length").removeClass("hidden"),e("#modal-edit-partner-group").find("p#error-name-unique").addClass("hidden")}),e("#modal-edit-partner-group").on("hidden.bs.modal",function(){e(this).find("label.error").addClass("hidden"),e(this).find("p.error").addClass("hidden")}),e(".modal-footer").on("click",".btn-ok",function(){var t=e(".form-confirm-delete").attr("action"),a=e(".did").text();e.ajax({type:"POST",url:t,data:{_token:s,id:a},success:function(t){"PartnerGroup"==t&&(e(".table-partner-group").DataTable().ajax.reload(null,!1),e("#modal-add-partner #partner_type_id option[value='"+a+"']").remove()),"Partner"==t&&(e("#table-partner").DataTable().ajax.reload(null,!1),e(".information-partners .partner_id option:selected").val()==a&&e('.information-partners input[type="text"]').val(""),e("#partner .information-partners .partner_id option[value='"+a+"']").remove())}})}),e(document).on("click",".table-partner-group .check-group-partner",function(){e(".check-group-partner").css("background-color","#fff"),e(this).css("background-color","#ccc"),e(this).find("input[name=choose]").prop("checked",!0)}),e(document).on("click",".btn-choose-group-partner",function(){if(e("#modal-add-partner #partner_type_id option:selected").removeAttr("selected"),e(".check-group-partner").find("input[name=choose]").is(":checked")){var t=e(".check-group-partner").find("input[name=choose]:checked").val();e("#modal-add-partner").find("#partner_type_id").val(t).trigger("change"),e(".table-partner-group .item"+t).css("background-color","#fff")}}),e(document).on("click","#list-partner",function(){e("#modal-list-partner").modal("show")}),e(document).on("click","#modal-list-partner button#add-partner",function(){var t=e(this).data("url");e.ajax({type:"GET",url:t,data:{_token:s},success:function(t){e("#form-add-partner").find("input[name=code]").val(t),e("#modal-add-partner").modal("show")}})}),e("#modal-add-partner").on("hidden.bs.modal",function(){e(".addPartner")[0].reset(),e(this).find("label.error").addClass("hidden"),e(this).find("input.error, select.error").removeClass("error"),e(this).find("#partner_type_id").val("").trigger("change"),e(this).find("p.error").addClass("hidden")}),e("#modal-list-partner").on("hidden.bs.modal",function(){e("#table-partner tbody tr").css("background-color","#fff")}),e(".addPartner").on("submit",function(a){a.preventDefault();var n=e(".addPartner").attr("action"),r=e(".addPartner :input"),i={};return r.each(function(){i[this.name]=e(this).val()}),!!e(".addPartner").valid()&&(e(this).find("#uploading").removeClass("hidden"),void e.ajax({type:"POST",url:n,data:{_token:s,attribute:i},success:function(a){void 0!=a.errors&&a.errors?(e("#modal-add-partner").find("#error-general").removeClass("hidden"),e("#modal-add-partner").find("#error-general").html(a.errors.name)):(a.isPartner?(e("#table-partner").DataTable().ajax.reload(null,!1),e("#partner .partner_id option[value='"+a.id+"']").text(a.name),e("#partner .information-partners .partner_id option:selected").val()==a.id&&t(a.id)):(e("#table-partner").DataTable().ajax.reload(null,!1),e("#partner .partner_id").append(e("<option>",{value:a.id,text:a.name}))),e("#modal-add-partner").modal("hide")),e(".btn-add-partner").removeAttr("disabled"),e(".btn-add-partner").find("#uploading").addClass("hidden")}}))}),e("#modal-add-partner #name").keyup(function(){e("#error-name-partner").addClass("hidden"),e("#modal-add-partner").find("p.error").addClass("hidden")}),e("#modal-add-partner #partner_type_id").change(function(){e("#error-partner-type-id").addClass("hidden")}),e(document).on("click",".edit-modal-partner",function(){var t=e(this).data("id");e.ajax({type:"GET",url:c+"/"+t,data:{},success:function(t){for(var a in t)e("#modal-add-partner #"+a).val(t[a]);e("#modal-add-partner").find("#partner_type_id").val(t.partner_type_id).trigger("change"),e("#modal-add-partner #isPartner").val(t.id),e("#modal-add-partner #title-add").addClass("hidden"),e("#modal-add-partner #title-update").removeClass("hidden"),e("#modal-add-partner").modal("show")}})}),e(document).on("click",".delete-modal-partner",function(){e(".form-confirm-delete").attr("action",u),e("#modal-delete-partner-group .did").text(e(this).data("id")),e("#modal-delete-partner-group").modal("show")}),e(".partners-implementation select").change(function(){var a;e(".partners-implementation select option:selected").each(function(){a=e(this).val(),""==a?(e(".information-partners input[type=text]").val(""),e(".information-partners input[type=textare]").val("")):t(a)})}),e(document).on("click","#table-partner tbody tr",function(){e("#table-partner tbody tr").css("background-color","#fff"),e(this).css("background-color","#ccc"),e(this).find("input[name=choose]").prop("checked",!0)}),e(document).on("click","#btn-choose-partner",function(){if(e(".information-partners .partners-implementation select option:selected").removeAttr("selected"),e("#table-partner tr").find("input[name=choose]").is(":checked")){var a=e("#table-partner tr").find("input[name=choose]:checked").val();e(".information-partners .partners-implementation .partner_id").find("option[value="+a+"]").prop("selected",!0).trigger("change"),t(a),e("#modal-list-partner #table-partner .item"+a).css("background-color","#fff"),e("#modal-list-partner").modal("hide")}});var m=e(".welfare-file-upload .file").html();e(document).on("click",".welfare-file-upload .add-file-input",function(){e(".welfare-file-upload .file").append(m),e(".upload-file-input").prop("disabled",!1),e("#error-file-extension").html(""),e("#error-file-extension").addClass("hidden"),e("#error-file-empty").addClass("hidden")}),e(document).on("click touchstart",".welfare-file-upload .delete-file-input",function(){e(this).parents(".form-group").remove()}),e("#is_same_fee").is(":checked")?e(".trial-employee").addClass("hidden"):e(".trial-employee").removeClass("hidden"),e("#is_same_fee").change(function(){e(this).is(":checked")?e(".trial-employee").addClass("hidden"):e(".trial-employee").removeClass("hidden")});var p=0;e(".personal_fee").on("change",function(){e(".personal_fee").each(function(){var t=parseFloat(e(this).val().replace(/,/g,"")),a=e(this).closest("tr").find("input.number-expected").val();isNaN(a)?a=0:a,isNaN(t)?t=0:t,p+=t*a}),e("#total_personal_fee").val(p.toLocaleString("en-US")),p=0});var f=0;e(".company_fee").on("change",function(){e(".company_fee").each(function(){var t=parseFloat(e(this).val().replace(/,/g,"")),a=e(this).closest("tr").find("input.number-expected").val();isNaN(t)?t=0:t,isNaN(a)?a=0:a,f+=t*a}),e("#total_company_fee").val(f.toLocaleString("en-US")),f=0});var h=0;e(".personal-fee-actual").on("change",function(){e(".personal-fee-actual").each(function(){var t=parseFloat(e(this).val().replace(/,/g,"")),a=e(this).closest("tr").find("input.number-actual").val();isNaN(t)?t=0:t,isNaN(a)?a=0:a,h+=t*a}),e("#total_personal_fee_actual").val(h.toLocaleString("en-US")),h=0});var v=0;e(".company-fee-actual").on("change",function(){e(".company-fee-actual").each(function(){var t=parseFloat(e(this).val().replace(/,/g,"")),a=e(this).closest("tr").find(".number-actual").val();isNaN(a)?a=0:a,isNaN(t)?t=0:t,v+=t*a}),e("#total_company_fee_actual").val(v.toLocaleString("en-US")),v=0}),e(".number-actual").on("change",function(){e(".number-actual").each(function(){var t=parseFloat(e(this).val().replace(/,/g,"")),a=e(this).closest("tr").find("input.personal-fee-actual").val(),n=e(this).closest("tr").find("input.company-fee-actual").val();isNaN(n)?n=0:n,isNaN(a)?a=0:a,isNaN(t)?t=0:t,v+=n*t,h+=a*t}),e("#total_personal_fee_actual").val(h.toLocaleString("en-US")),e("#total_company_fee_actual").val(v.toLocaleString("en-US")),v=0,h=0}),e(".number-expected").on("change",function(){e(".number-expected").each(function(){var t=parseFloat(e(this).val().replace(/,/g,"")),a=e(this).closest("tr").find("input.personal_fee").val(),n=e(this).closest("tr").find("input.company_fee").val();isNaN(n)?n=0:n,isNaN(a)?a=0:a,isNaN(t)?t=0:t,f+=n*t,p+=a*t}),e("#total_company_fee").val(f.toLocaleString("en-US")),e("#total_personal_fee").val(p.toLocaleString("en-US")),p=0,f=0});var g=formatValue(e(".total-all-expected").val()),_=0,b=0,x=0,y=0,w=0,C=0,k=0,N=0;attachedFirst=a("attached-first-fee-plan"),attachedSecond=a("attached-second-fee-plan"),first=e("#form-event-info").find(".attached-first-fee-plan input"),second=e("#form-event-info").find(".attached-second-fee-plan input"),attachedFirstActual=a("attached-first-fee-actual"),attachedSecondActual=a("attached-second-fee-actual"),firstActual=e("#form-event-info").find(".attached-first-fee-actual input"),secondActual=e("#form-event-info").find(".attached-second-fee-actual input"),e("#is_allow_attachments").change(function(){var t=parseInt(e(".number-expected-total").val()),n=parseFloat(e(".total-all-expected").val().replace(/,/g,"")),r=parseFloat(e("#total_personal_fee").val().replace(/,/g,"")),i=parseFloat(e("#total_company_fee").val().replace(/,/g,"")),l=parseInt(e(".number-actual-total").val()),d=formatValue(e(".total-all-actual").val()),o=formatValue(e(".total_personal_fee_actual").val()),s=formatValue(e(".total_company_fee_actual").val());if(e(this).is(":checked")){if(e("#fee-free-attach-infor").removeClass("hidden"),e(".attached").removeClass("hidden"),(0===n||isNaN(n))&&(0===t||isNaN(t)))return;if(isNaN(d)&&isNaN(l))return;for(var c in attachedFirst)e(".attached-first-fee-plan #"+first[c].id).val(attachedFirst[c].toLocaleString("en-US"));_=n+attachedFirst[3],b=t+attachedFirst[0],x=r+attachedFirst[1],y=i+attachedFirst[2],e(".total-all-expected").val(_.toLocaleString("en-US")),e("#total_personal_fee").val(x.toLocaleString("en-US")),e("#total_company_fee").val(y.toLocaleString("en-US")),e(".number-expected-total").val(b),e("input[name='event[join_number_plan]']").val(b);for(var c in attachedFirstActual)e(".attached-first-fee-actual #"+firstActual[c].id).val(attachedFirstActual[c].toLocaleString("en-US"));w=d+attachedFirstActual[3],C=l+attachedFirstActual[0],k=o+attachedFirstActual[1],N=s+attachedFirstActual[2],e(".number-actual-total").val(C),e(".total-all-actual").val(w.toLocaleString("en-US")),e(".total_personal_fee_actual").val(k.toLocaleString("en-US")),e(".total_company_fee_actual").val(N.toLocaleString("en-US"))}else{if(e("#fee-free-attach-infor").addClass("hidden"),e(".attached").addClass("hidden"),(0===n||isNaN(n))&&(0===t||isNaN(t)))return;if(isNaN(d)&&isNaN(l))return;attachedFirst=a("attached-first-fee-plan"),attachedSecond=a("attached-second-fee-plan"),_=n-attachedFirst[3],b=t-attachedFirst[0],x=r-attachedFirst[1],y=i-attachedFirst[2],e(".total-all-expected").val(_.toLocaleString("en-US")),e("#total_personal_fee").val(x.toLocaleString("en-US")),e("#total_company_fee").val(y.toLocaleString("en-US")),e(".number-expected-total").val(b),e("input[name='event[join_number_plan]']").val(b),attachedFirstActual=a("attached-first-fee-actual"),w=d-attachedFirstActual[3],C=l-attachedFirstActual[0],k=o-attachedFirstActual[1],N=s-attachedFirstActual[2],e(".number-actual-total").val(C),e(".total-all-actual").val(w.toLocaleString("en-US")),e(".total_personal_fee_actual").val(k.toLocaleString("en-US")),e(".total_company_fee_actual").val(N.toLocaleString("en-US")),e(".attached-first input").val(0),e(".attached-second input").val(0)}g=_,_=0,b=0,x=0,y=0,w=0,C=0,k=0,N=0}),e(document).on("click","#partner-group",function(){e("#list-partner-group").find("label.error").addClass("hidden"),e("#list-partner-group").find("p.error").addClass("hidden"),e("#list-partner-group").find("#namePartnerGroup").val(""),e("#list-partner-group").modal("show")}),e(document).on("change",".welfare-select-team-member",function(){e("li").each(function(){var t=e(this);t.html(t.html().replace(/&nbsp;/g," "))})}),e(document).on("click","a[dataurl]",function(){e("#"+this.getAttribute("class")).DataTable({processing:!1,serverSide:!0,retrieve:!0,ajax:this.getAttribute("dataurl")})}),e(document).on("click",".edit-checkbox",function(t){t.preventDefault(),URLajaxComfirmJonin=this.closest("table").getAttribute("link");this.closest("table").getAttribute("id");dataComfirmJonin={employee_id:this.parentElement.parentElement.getAttribute("employee_id"),wel_id:this.parentElement.parentElement.getAttribute("wel_id"),name:this.name,value:this.checked?1:0},e(".modal-noti-dange").attr("id","notifi-comfirm-jonin"),this.checked?e("#notifi-comfirm-jonin").find("#content-noti").text(textConfirm.confirm):e("#notifi-comfirm-jonin").find("#content-noti").text(textConfirm.cancelConfirm),e(".modal-noti-dange").modal("show")}),e(document).on("click","#notifi-comfirm-jonin .btn-cancel-employee",function(){e.ajax({method:"GET",url:URLajaxComfirmJonin,data:dataComfirmJonin,success:function(t){t?(e("#users-table-emp").DataTable().ajax.reload(null,!1),e("#notifi-comfirm-jonin").modal("hide")):alert("Error")}})}),e(".btn-group li").on("click",function(){e(".btn-success")[0].innerText=this.textContent,e('[name="event[status]"]').val(e(this).index()+1)}),e(".btn-success")[0].innerText=e('[name="event[status]"]').children()[e('[name="event[status]"]').val()-1].innerText,e(document).on("click","#btn-submit-fake",function(){e(".number-expected").each(function(){var t=parseInt(e(this).val());(isNaN(t)||0===t)&&e("#form-event-info").find("input[group='"+e(this).attr("group")+"']").val(0)}),e("#btn-submit").click();var t=e("#form-event-info");t.valid()&&e("#btn-submit-fake ._uploading").removeClass("hidden")});var S=e("#form-event-info"),T=(S.find("input[placeholder='0.00']"),S.find("input[group]"));T.on("change",function(){var t=S.find("input[group='"+e(this).attr("group")+"']");n(t[0].id,t[1].id,t[2].id,t[3].id);var a=0,r=0,i=0,l=0;e(".total-expected").each(function(){var t=parseFloat(e(this).val().replace(/,/g,""));isNaN(t)&&(t=0),a+=t});var d=parseFloat(e("#fee_estimates").val().replace(/,/g,""));isNaN(d)?d=0:d,g=a,e(".total-all-expected").val((a+d).toLocaleString("en-US")),e(".number-expected").each(function(){var t=parseInt(e(this).val());isNaN(t)&&(t=0),r+=t}),e(".number-expected-total").val(r),e("input[name='event[join_number_plan]']").val(r),e(".number-actual").each(function(){var t=parseInt(e(this).val());isNaN(t)?t=0:t,l+=t}),e(".number-actual-total").val(l),e(".total-actual").each(function(){var t=parseFloat(e(this).val().replace(/,/g,""));isNaN(t)&&(t=0),i+=t});var o=e("#fee_extra").val();o="undefined"==typeof o?0:parseFloat(o.replace(/,/g,"")),isNaN(o)?o=0:o,e(".total-all-actual").val((i+o).toLocaleString("en-US"))}),e(document).on("keyup","#form-event-info input[placeholder='0.00']",function(t){var a=window.getSelection().toString();if(""===a&&e.inArray(t.keyCode,[38,40,37,39])===-1){var n=e(this),r=n.val(),r=r.replace(/[\D\s\._\-]+/g,"");r=r?parseFloat(r,10):0,n.val(function(){return 0===r?0:r.toLocaleString("en-US")})}}),e(document).on("keyup",".number-expected, .number-actual",function(){/\D/g.test(e(this).val())&&e(this).val(e(this).val().replace(/\D/g,""))}),e(document).on("keypress",".number-expected, .number-actual",function(){var t=e(this).val();e(this).val(function(){return 0==t?"":t})}),e(document).on("keypress","#form-event-info input[placeholder='0.00']",function(){var t=parseInt(e(this).val().replace(/,/g,""));isNaN(t)?t=0:t,e(this).val(function(){return t/10==0?"":t.toLocaleString("en-US")})}),e(document).on("change","#fee_estimates",function(){var t=0;e(".total-expected").each(function(){var a=parseFloat(e(this).val().replace(/,/g,""));isNaN(a)&&(a=0),t+=a});var a=parseFloat(e(this).val().replace(/,/g,""));isNaN(a)?a=0:a;var n=t+a;e("#fee_total").val(n.toLocaleString("en-US"))}),e(document).on("click","#choiceBtn",function(){var t=e(".selected");t.length>0?(e('[name="wel_organizer[name]"]').val(t.children()[0].textContent),e('[name="wel_organizer[phone]"]').val(t.children()[1].textContent),e('[name="wel_organizer[position]"]').val(t.children()[2].textContent),e('[name="wel_organizer[phone_company]"]').val(t.children()[3].textContent),e('[name="wel_organizer[company]"]').val(t.children()[4].textContent),e('[name="wel_organizer[email_company]"]').val(t.children()[5].textContent),e("#modal-list-organizer").modal("hide")):e("#select-null-data").modal("show")}),e("input[name=groupEvent], input[name=purposeName]").keyup(function(t){13==t.keyCode&&e(this).parents().eq(1).find("button").click()}),e(document).on("keyup","input[name=name1]",function(t){13==t.keyCode&&e(this).parent().find("button").click()}),e(document).on("click",".btn-save-event-popup",function(){e(".massage_exist").attr("hidden",!0),e(".massage_null").attr("hidden",!0);var t=e(this).attr("route"),a=e(this).attr("selector"),n=e('select[name="'+a+'"]').parents().eq(2).attr("class").split(" ")[1],r=e(this).attr("inputname"),i=(e(this).attr("modal"),{});i.name=e('input[name="'+r+'"]').val().trim(),i._token=e("input[name=_token]").val();var l=e(this).attr("tableid");""==i.name?e(".massage_null").removeAttr("hidden"):(e(this).find("._uploading").removeClass("hidden"),e.ajax({method:"POST",url:t,data:i,success:function(t){if("undefined"!=typeof t.id){if(t.name.length>43)var i=t.name.substring(0,40)+"...";else i=t.name;var d='<option selected="true" value="'+t.id+'">'+i+"</option>";e('select[name="'+a+'"]').append(d),e("."+n).load(location.href+" ."+n+">*",""),e("#"+l).DataTable().ajax.reload(function(){e(".modal-backdrop").remove()}),e('input[name="'+r+'"]').val("")}else"object"!=typeof t.messages&&(e(".massage_exist").text(t.name),e(".massage_exist").removeAttr("hidden"));e(".btn-save-event-popup ._uploading").addClass("hidden")}})),e(this).css("color","#fff")}),e(document).on("click",".choiceBtnGroupWel",r),e(document).on("click",".edit-modal-groupEvent",function(){var t=e(this).parents().eq(1).attr("class").split(/\s+/),a=e(this).data("select");e(this).prop("disabled",!0);var n='<div class="col-md-12 row"><input class="col-md-10" style="height: 34px" type="text" name="name1" value="'+e("#edit"+this.getAttribute("data-id")).text()+'"><button type="button" data-select="'+a+'" route="'+this.getAttribute("route")+'" class="btn btn-info save-modal-groupEvent" id="save-modal-groupEvent" data-id="'+this.getAttribute("data-id")+'"><i class="fa fa-check-square-o" aria-hidden="true"></i><span class="_uploading hidden">&nbsp;<i class="fa fa-spin fa-refresh"></i></span></button></div><div class="col-md-12 row"><p class="massage_exist_edit" style="color: red" hidden>'+e(".massage_exist").first().text()+'</p><p class="massage_null_edit" style="color: red" hidden>'+e(".massage_null").first().text()+"</p></div>";e("."+t[0]).find("#edit"+e(this).data("id")).text(""),e("."+t[0]).find("#edit"+e(this).data("id")).append(n)}),e(document).on("click",".save-modal-groupEvent",i),e(document).on("keyup",'input[fieldname="Extra_payments_name"]',function(){e(this).closest("td").find("label#error-extra-name-unique").addClass("hidden");var t=e(this).val();0==t.trim().length?e(this).closest("td").find("label#error-extra-name").removeClass("hidden"):e(this).closest("td").find("label#error-extra-name").addClass("hidden")}),e(document).on("keyup",'input[fieldname="Extra_payments_budget"]',function(){var t=e(this).val();0==t.trim().length?e(this).closest("td").find("label#error-extra-budget").removeClass("hidden"):e(this).closest("td").find("label#error-extra-budget").addClass("hidden"),t.trim().length>=19?e(this).closest("td").find("label#error-extra-budget-number").removeClass("hidden"):e(this).closest("td").find("label#error-extra-budget-number").addClass("hidden")}),e(document).on("click","#save-welfee-more",function(){if(!l())return!1;var t=e(this).closest("tr"),a=t.find("td"),n={};jQuery.each(a,function(t,a){n[e(a).find("input").attr("fieldname")]=e(a).find("input").val()});var r=e(this).attr("route");e.ajax({method:"GET",url:r,data:n,success:function(t){0==t.success?e.each(t.messages,function(t,a){e('input[fieldname="'+t+'"]').closest("td").find("label#error-extra-name-unique").removeClass("hidden").html(a)}):(e("#table_wel_fee_more").DataTable().ajax.reload(null,!1),e("#wel_fee_more").find("#addRow").show(),e("#table_wel_fee_more thead").find("tr").removeClass("disableMouse"),updateFeeActualWithFeeMore(t.cost,!0))}})}),e(document).on("click",".delete-modal-item",d),e(document).on("click",".modal-delete-confirm .btn-delete-fee-more",function(){e("#"+this.getAttribute("modal")).modal("hide");var t=this.getAttribute("route"),a=this.getAttribute("tableName"),n=this.getAttribute("select");e.ajax({method:"GET",url:t,success:function(t){e("#"+a).DataTable().ajax.reload(),e("."+n).load(location.href+" ."+n+">*",""),t.cost&&updateFeeActualWithFeeMore(t.cost,!1)}})}),e("#start_at_exec").datetimepicker({useCurrent:!1,sideBySide:!0,format:"YYYY-MM-DD"}),e("#end_at_exec").datetimepicker({useCurrent:!1,sideBySide:!0,format:"YYYY-MM-DD"}),e("#start_at_register").datetimepicker({useCurrent:!1,sideBySide:!0,format:"YYYY-MM-DD"}),e("#end_at_register").datetimepicker({useCurrent:!1,sideBySide:!0,format:"YYYY-MM-DD"});var A={autoclose:!0,format:"yyyy-mm-dd",weekStart:1,todayHighlight:!0};e("#rep_card_id_date").datepicker(A),e("#empl_offical_after_date").datepicker(A),e("#birthday").datepicker(A).on("changeDate",function(t){e(this).valid()}),e(".myModal_group_event").on("hidden.bs.modal",function(){var t=e(this).find("table[id]").attr("id");e("#"+t).DataTable().ajax.reload(),e(".massage_exist").attr("hidden",!0),e(".massage_null").attr("hidden",!0);var a=(e(this).attr("route").slice(0,e(this).attr("route").lastIndexOf("/")),e(this).find("tr[fillto]").attr("fillto"));e("[name='"+a+"']").val()}),e(document).on("change",'input[name^="wel_file"]',function(){e("#error-file-extension").html(""),e("#error-file-extension").addClass("hidden"),e(".upload-file-input").removeAttr("disabled"),e('input[name^="wel_file"]').each(function(){0!=e(this).val()&&e(this).closest(".form-group").find("#error-file-required").addClass("hidden")})}),e(document).on("click",".file-upload .upload-file-input",function(t){t.preventDefault();var a=0,n=e(".file").children(".form-group").length;if(0==n)return e("#error-file-empty").removeClass("hidden"),!1;if(e('input[name^="wel_file"]').each(function(){0==e(this).val()&&(e(this).closest(".form-group").find("#error-file-required").removeClass("hidden"),a++)}),a>0)return!1;e(this).attr("disabled","disabled"),e(".file-upload ._uploading").removeClass("hidden");var r=e(this).data("url"),i=e(".file-upload input[name=wel_id]").val(),l=new FormData(e("#form-event-info")[0]);l.append("wel_id",i),e.ajax({type:"POST",url:r,data:l,processData:!1,contentType:!1,success:function(t){e("._uploading").addClass("hidden"),0==t.status&&(e("#error-file-extension").removeClass("hidden"),e("#error-file-extension").html(t.msg),e("#error-file-extension").show()),
1==t.status&&e("#wel-file").load(location.href+" #wel-file>*",""),null==t.status&&(e("#modal-success-notification").find(".text-default").text("Tổng dung lượng file nhỏ hơn 25MB"),e("#modal-success-notification").find(".text-default").css("padding","5px"),e("#modal-success-notification").find(".modal-title").text(titleModal),e("#modal-success-notification").modal("show")),setTimeout(function(){e(".upload-file-input").removeAttr("disabled")},1e3)}})}),e(document).on("click",".delete-welfare-file",function(){var t=e(this).data("url");e("#modal-delete-welfare-file .btn-ok").data("url",t),e("#modal-delete-welfare-file .did").text(e(this).data("id")),e("#modal-delete-welfare-file").modal("show")}),e(document).on("click","#modal-delete-welfare-file .btn-ok",function(t){t.preventDefault();var a=e(this).data("url"),n=e("#modal-delete-welfare-file .did").text();e(".delete-welfare-file[data-id="+n+"]").find("._uploading").removeClass("hidden"),e.ajax({type:"POST",url:a,data:{_token:s,id:n},success:function(t){1==t.status&&e("#wel-file .welfare-file-upload .list-file").load(location.href+" #wel-file .welfare-file-upload .list-file>*","")}})}),e("#welfare-subject").keyup(function(){0===e(this).val().trim().length?e("#error-subject").removeClass("hidden"):e("#error-subject").addClass("hidden")}),e(document).on("click","#modal-success-send-mail .btn-confirm",function(t){e("#btn-send-mail").attr("disabled","disabled");var a=e(".send-mail-event #btn-send-mail").data("url"),n={};n.wel_id=e('input[name="email[wel_id]"]').val(),n.subject=e('input[name="email[subject]"]').val(),n.content=CKEDITOR.instances.content.getData(),t.preventDefault(),e.ajax({type:"POST",url:a,data:{_token:siteConfigGlobal.token,email:n},success:function(t){return 0==t.success?(e("#modal-warning-send-mail").find("p.text-default").addClass("hidden"),e("#modal-warning-send-mail").find("p.text-change").html(t.message),e("#modal-warning-send-mail").find("p.text-change").removeClass("hidden"),e("#modal-warning-send-mail").modal("show"),!1):void("ok"==t.ok&&(e("#modal-warning-send-mail").removeClass("modal-warning"),e("#modal-warning-send-mail").addClass("modal-success"),e("#modal-warning-send-mail").find("p.text-default").addClass("hidden"),e("#modal-warning-send-mail").find("p.text-change").html(t.message),e("#modal-warning-send-mail").find("p.text-change").removeClass("hidden"),e("#modal-warning-send-mail").modal("show")))}})}),e("#modal-warning-send-mail").on("hidden.bs.modal",function(){e(this).find("p.text-default").removeClass("hidden"),e(this).find("p.text-change").addClass("hidden"),e(this).addClass("modal-warning"),e(this).removeClass("modal-success"),e("#btn-send-mail").removeAttr("disabled")}),e(document).on("contextmenu","#users-table-emp-att tbody tr",function(t){var a=e('input[name="event[id]"]').val();return e("#modal-add-relatives #id, #modal-delete-relative-attached #id-relative-attach").val(e(this).attr("id")),e("#modal-add-relatives #emplid").val(e(this).attr("employee_id")),e("#modal-add-relatives #welid").val(a),e("#modal-add-relatives #nameEmpl").val(e(this).attr("emplname")),e(".confirm-relative-participation").data("welId",a),e(".confirm-relative-participation").data("emplId",e(this).attr("employee_id")),e(this).find(".edit-checkbox").is(":checked")?(e(".confirm-relative-participation").find(".text-default").addClass("hidden"),e(".confirm-relative-participation").find(".text-change").removeClass("hidden"),e(".confirm-relative-participation").data("value",0)):(e(".confirm-relative-participation").find(".text-default").removeClass("hidden"),e(".confirm-relative-participation").find(".text-change").addClass("hidden"),e(".confirm-relative-participation").data("value",1)),e("#users-table-emp-att tbody tr").css("background-color","#fff"),e(this).css("background-color","#ccc"),e(".radmenu").show(),e(".radmenu").css({left:t.pageX,top:t.pageY,overflow:"visible"}),!1}),e(document).on("click",".add-relative",function(){e("#modal-add-relatives").find("input[name=id]").val(""),e(".btn-add-wel-empl-relatives").removeAttr("disabled"),e("#modal-add-relatives").modal("show")}),e(document).on("click",".edit-relative",function(){var t=e(this).data("url"),a=e("#modal-add-relatives #id").val();e.ajax({type:"GET",url:t,data:{id:a},success:function(t){for(var a in t)e("#modal-add-relatives #"+a).val(t[a]);t.employee_id&&e(".relative_employee_id_attached").append('<option value="'+t.employee_id+'" selected="selected">'+t.employee_name+"</option>").trigger("change"),t.support_cost&&e("#fee_favorable_attached").val(t.support_cost),o(t.welfare_id,t.support_cost),e("#relation_name_id").append('<option value="'+t.relation_name_id+'" selected="selected">'+t.relation_name+"</option>").trigger("change"),""==t.card_id?(e("#modal-add-relatives").find("#not_card_id").prop("checked",!0),e("#modal-add-relatives").find(".label-card-id").html(j.replace("<em>*</em>","")),e(".input-relative_card_id").addClass("hidden")):e("#modal-add-relatives").find("#is_card_id").prop("checked",!0),e(".relative_employee_id_attached").parent().addClass("disabledbutton"),e(".btn-add-wel-empl-relatives").prop("disabled",!1),e("#modal-add-relatives").modal("show")}}),e("#modal-add-relatives").modal("show")}),e(document).on("submit","#form-add-wel-empl-relatives",function(t){t.preventDefault();var a=e(this).attr("action"),n=e("#modal-add-relatives :input"),r={};return n.each(function(){r[this.name]=e(this).val()}),!!e(this).valid()&&void e.ajax({type:"POST",url:a,data:{relatives:r,_token:siteConfigGlobal.token},success:function(t){0==t.status?e("#favorable-require-max").show():"ok"===t.status&&(e("#users-table-emp-att").DataTable().ajax.reload(),1==t.count?(e(".edit-relative").removeClass("hidden"),e(".remove-relative").removeClass("hidden")):(e(".edit-relative").addClass("hidden"),e(".remove-relative").addClass("hidden")),e(".confirm-relative-participation").removeClass("hidden"),e("#modal-add-relatives").modal("hide")),e(".btn-add-wel-empl-relatives").removeAttr("disabled")}})});var j=e(".label-card-id").html();e("#modal-add-relatives").on("hidden.bs.modal",function(){e(this).find("input[type=text]").val(""),e(this).find("#gender").prop("selectedIndex",0),e(this).find("#relation_name_id").prop("selectedIndex",0),e(this).find("#fee_favorable_attached").prop("selectedIndex",0),e(this).find("#is_card_id").prop("checked",!0),e(this).find(".label-card-id").html(j),e(this).find("p.error").hide(),e(this).find(".input-relative_card_id").removeClass("hidden"),e(".input-relative_card_id").find("#card_id").prop("readonly",!1),e(".input-relative_card_id").find("#custom-error-card-id").addClass("hidden"),e(".btn-add-wel-empl-relatives").removeAttr("disabled"),e(".relative_employee_id_attached").val("").trigger("change"),e(".relative_employee_id_attached").parent().removeClass("disabledbutton"),e("#modal-add-relatives").find("label[class=error]").hide()}),e("#modal-add-relatives").on("shown.bs.modal",function(){var t=e(this).data("list-select2");e(".relative_employee_id_attached").select2({ajax:{url:t,dataType:"json",delay:250,processResults:function(t){return{results:e.map(t,function(e){return{text:e.name,id:e.id}})}},cache:!0}}).on("change",function(){e(this).valid()}),e("#relation_name_id").select2()}),e(document).on("change","#fee_favorable_attached",function(){var t=e('input[name="welid"]').val(),a=e("#fee_favorable_attached").val();e("p.error").hide(),o(t,a)}),e(document).on("click",".remove-relative",function(){e("#modal-delete-relative-attached").modal("show")}),e(document).on("click","#modal-delete-relative-attached .btn-ok",function(){var t=e("#modal-delete-relative-attached").find("form").attr("action"),a=e("#modal-delete-relative-attached #id-relative-attach").val();e.ajax({type:"POST",url:t,data:{_token:siteConfigGlobal.token,welid:a},success:function(t){e("#users-table-emp-att").DataTable().ajax.reload(),1==t.count?(e(".edit-relative").removeClass("hidden"),e(".remove-relative").removeClass("hidden")):(e(".edit-relative").addClass("hidden"),e(".remove-relative").addClass("hidden"),e(".confirm-relative-participation").addClass("hidden"))}})}),e(document).on("click",".confirm-relative-participation",function(){var t=e("#users-table-emp-att").attr("link"),a={employee_id:e(this).data("emplId"),wel_id:e(this).data("welId"),name:"is_joined",value:e(this).data("value")};e.ajax({method:"GET",url:t,data:a,success:function(t){t?e("#users-table-emp-att").DataTable().ajax.reload(null,!1):alert("Error")}})}),e(document).click(function(t){e("#users-table-emp-att tbody tr").css("background-color","#fff"),e(".radmenu").hide(),e(".radmenu").css({overflow:"hidden"})}),e("#reset-list-purposes-welfare, #reset-list-group-welfare").on("click",function(){var t=e(this).parents().eq(1).find(".dataTables_filter"),a=e(this).parents().eq(1).find("table").DataTable();a.order([1,"desc"]).draw(),t.find("input").val("").keyup()}),e(".relative_employee_id").select2(),e(".myModal_group_event").on("shown.bs.modal",function(){var t=e(this).find("table").attr("id"),a=e(this).attr("route"),n=e("#"+t).DataTable({destroy:!0,pagingType:"full_numbers",processing:!1,serverSide:!0,ajax:a,scrollY:"200px",scrollCollapse:!0,paging:!0,fixedColumns:!0,bLengthChange:!1,oLanguage:dataLang,order:[[1,"desc"]],aoColumns:[{sWidth:"85%"},{sWidth:"15%"}],pagingType:"input"});e(window).trigger("resize"),e(this).find("input").val(""),e("#"+t+" tbody").on("click","tr td:not(:last-child)",setSelected),e(".modal-search .dataTables_filter").find("input").remove(),e(".modal-search .dataTables_filter").append('<input type="search" placeholder="" data-index="0">'),e(n.table().container()).on("keyup",".dataTables_filter input[data-index]",function(){n.column(0).search(this.value).draw()})}),e('input[type="search"]').css("pointer-events","auto"),e("#list-partner-group").on("shown.bs.modal",function(){var t=e(".table-partner-group").data("url");e(".table-partner-group").dataTable({destroy:!0,pagingType:"full_numbers",processing:!1,serverSide:!0,autoWidth:!1,select:!0,bLengthChange:!1,oLanguage:dataLang,ajax:t,order:[[0,"desc"]],aoColumns:[{sWidth:"75%"},{sWidth:"25%",bSortable:!1}],pagingType:"input"})}),e("#modal-list-partner").on("shown.bs.modal",function(){var t=e("#table-partner").data("url");e("#table-partner").dataTable({destroy:!0,pagingType:"full_numbers",processing:!1,serverSide:!0,autoWidth:!1,select:!0,bLengthChange:!1,oLanguage:dataLang,ajax:t,order:[[0,"desc"]],columnDefs:[{targets:"no-sort",orderable:!1}],aoColumns:[{sWidth:"20%"},{sWidth:"20%"},{sWidth:"15%"},{sWidth:"17%"},{sWidth:"15%"},{sWidth:"13%"}],pagingType:"input"})}),e(document).on("click",".delete-row-btn",function(){e("#table_wel_fee_more .dataTables_empty").removeClass("hidden"),e("#table_wel_fee_more thead, tbody").find("tr").removeClass("disableMouse"),e("#wel_fee_more").find("#addRow").show(),e("#row"+e(this).attr("rowid")).remove(),e("#addRow").show()}),changeTabs(),e(window).bind("hashchange",function(){changeTabs()}),e("#event-team-id").select2({minimumResultsForSearch:1/0}),e("#partner_type_id").select2({minimumResultsForSearch:1/0}),e("#welfare_group_id, #wel_purpose_id").select2(),e(".select2-selection__rendered").each(function(){var t=e(this);t.html(t.html().replace(/&nbsp;/g," "))}),e(document).on("change","#end_at_exec",function(){e("#start_at_exec").valid()}),e(document).on("change","#end_at_register",function(){e("#start_at_register").valid()}),e(document).on("change","#start_at_exec",function(){""!=e("#end_at_register").val()&&e("#end_at_register").valid()}),e(document).on("change","#start_at_register",function(){""!=e("#end_at_register").val()&&e("#end_at_register").valid()}),e(document).on("click",".reset-datatable",function(){}),e(document).on("keyup","#tab-employee-CMTND",function(){var t=e(this).val();t.length<=13?e(".error-CMTND-employee").addClass("hidden"):e(".error-CMTND-employee").removeClass("hidden")}),e(document).on("keyup","#tab-employee-phone",function(){var t=e(this).val();t.length<=13?e(".error-phone-employee").addClass("hidden"):e(".error-phone-employee").removeClass("hidden")}),e(document).on("change","input[name=is_card_id]",function(){var t=e(".label-card-id").html();if(e("#is_card_id").is(":checked")){var a=t+"<em>*</em>";e(".label-card-id").html(a),e(".input-relative_card_id").removeClass("hidden")}if(e("#not_card_id").is(":checked")){var a=t.replace("<em>*</em>","");e(".label-card-id").html(a),e(".input-relative_card_id").find("#card_id").val(""),e(".input-relative_card_id").addClass("hidden"),e(".input-relative_card_id").find("#custom-error-card-id").addClass("hidden")}}),e(document).on("keyup",".input-relative_card_id #card_id",function(){var t=e(this).val();0==t.trim().length?(e(".input-relative_card_id").find("#custom-error-card-id").removeClass("hidden"),e(".input-relative_card_id").find("#custom-error-card-id").show()):e(".input-relative_card_id").find("#custom-error-card-id").addClass("hidden")})});var rulesrelatives={name:{required:!0,rangelength:[1,50]},relation_name_id:{required:!0},gender:{required:!0},phone:{rangelength:[1,15],customphone:!0},relative_employee_id:{required:!0},relative_card_id:{required:!0,number:!0,rangelength:[1,12]},birthday:{required:!0},support_cost:{required:!0}},messagesrelatives={name:{required:textRequired,rangelength:errLengthInput.length50},relation_name_id:{required:textRequired},gender:{required:textRequired},phone:{rangelength:errLengthInput.length15},relative_employee_id:{required:textRequired},relative_card_id:{required:textRequired,number:errValidNumber,rangelength:errLengthInput.length12},birthday:{required:textRequired},support_cost:{required:textRequired}},validator=$("#form-add-wel-empl-relatives").validate({rules:rulesrelatives,messages:messagesrelatives,errorPlacement:function(e,t){t.hasClass("val-custom")?e.insertAfter(t.parent().find(".val-message")):t.parent(".input-group").length?e.insertAfter(t.parent()):e.insertAfter(t)}}),messages={"event[name]":{required:textRequired,rangelength:errLengthInput.length255},"event[start_at_plan]":{required:textRequired},"event[end_at_plan]":{required:textRequired},"event[wel_form_imp_id]":{required:textRequired},"event[start_at_exec]":{required:textRequired},"event[end_at_exec]":{required:textRequired},name:{required:textRequired,rangelength:errLengthInput.length50},code:{required:textRequired,rangelength:errLengthInput.length255},partner_type_id:{required:textRequired,rangelength:errLengthInput.length255},email:{rangelength:errLengthInput.length255,email:errValidEmail},rep_email:{rangelength:errLengthInput.length255,email:errValidEmail},rep_card_id:{number:errValidNumber},tax_code:{number:errValidNumber},"wel_partner[email]":{email:errValidEmail},"wel_partner[partner_id]":{required:textRequired},"wel_partner[fee_return]":{number:errValidNumber,rangelength:errLengthInput.length19},part_email:{email:errValidEmail},"wel_partner[rep_email]":{email:errValidEmail},fax:{number:errValidNumber},rep_card_id_date:{date:errValidDate},"wel_partner[rep_phone_company]":{rangelength:errLengthInput.length15},"wel_partner[rep_phone]":{rangelength:errLengthInput.length15},phone:{rangelength:errLengthInput.length15},rep_phone_home:{rangelength:errLengthInput.length15},rep_phone:{rangelength:errLengthInput.length15},rep_phone_company:{rangelength:errLengthInput.length15},"wel_fee[empl_offical_number]":{rangelength:errLengthInput.length5},event_team_id:{required:textRequired},"event[start_at_exec]":{lessThan:errAfterEndAtExec},"event[start_at_register]":{lessThan:errBeforeEndAtExec},"event[end_at_register]":{lessThan:errBeforeEndAtExec,greaterThan:errAfterEndAtExec}},rules={"event[name]":{required:!0,rangelength:[1,255]},"event[start_at_exec]":{required:!0},"event[end_at_exec]":{required:!0},"event[wel_form_imp_id]":{required:!0},name:{required:!0,rangelength:[1,50]},code:{required:!0,rangelength:[1,255]},partner_type_id:{required:!0,rangelength:[1,100]},email:{customemail:!0,rangelength:[1,100]},rep_email:{customemail:!0,rangelength:[1,100]},rep_card_id:{number:!0},tax_code:{number:!0},"wel_partner[email]":{customemail:!0},part_email:{customemail:!0},"wel_partner[fee_return]":{number:!0,rangelength:[1,19]},"wel_partner[rep_email]":{customemail:!0},"wel_partner[rep_phone_company]":{customphone:!0,rangelength:[1,15]},"wel_partner[rep_phone]":{customphone:!0,rangelength:[1,15]},phone:{customphone:!0,rangelength:[1,15]},fax:{number:!0},rep_phone_home:{customphone:!0,rangelength:[1,15]},rep_phone:{customphone:!0,rangelength:[1,15]},rep_phone_company:{customphone:!0,rangelength:[1,15]},rep_card_id_date:{date:!0},"wel_fee[empl_offical_number]":{rangelength:[1,5]},event_team_id:{required:!0},"event[start_at_exec]":{lessThan:"#end_at_exec"},"event[start_at_register]":{lessThan:"#start_at_exec"},"event[end_at_register]":{lessThan:"#start_at_exec",greaterThan:"#start_at_register"}};$.validator.addMethod("customphone",function(e,t){return this.optional(t)||/^(0|\+)[\d]{9,13}$/.test(e)},errValidPhone),$.validator.addMethod("customemail",function(e,t){return this.optional(t)||/^(?!.*\.{2})([a-zA-Z0-9])([a-zA-Z0-9_.+-])+([a-zA-Z0-9])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},errValidEmail),jQuery.validator.addMethod("greaterThan",function(e,t,a){return""==$(a).val()||""==e||(/Invalid|NaN/.test(new Date(e))?isNaN(e)&&isNaN($(a).val())||Number(e)>Number($(a).val()):new Date(e)>new Date($(a).val()))},"Must be greater than {0}."),jQuery.validator.addMethod("lessThan",function(e,t,a){return""==$(a).val()||""==e||(/Invalid|NaN/.test(new Date(e))?isNaN(e)&&isNaN($(a).val())||Number(e)<Number($(a).val()):new Date(e)<new Date($(a).val()))},"Must be less than {0}."),$(document).ready(function(){$(".js-example-basic-multiple").select2();var e={};e["form-event-info"]=$("#form-event-info").validate({rules:rules,messages:messages,lang:"vi",errorPlacement:function(e,t){t.hasClass("val-custom")?e.insertAfter(t.parent().find(".val-message")):t.hasClass("val-custom-input")?e.insertAfter(t.parent().parent().find(".val-message-input")):t.parent(".input-group").length?e.insertAfter(t.parent()):e.insertAfter(t)}}),$(".addPartner").validate({rules:rules,messages:messages,lang:"vi",errorPlacement:function(e,t){t.hasClass("val-custom")?e.insertAfter(t.parent().find(".val-message")):t.parent(".input-group").length?e.insertAfter(t.parent()):e.insertAfter(t)}}),$("#form-send-mail, #form-upload-file").validate({rules:rules,messages:messages,lang:"vi"}),$("#addPartnerGroup").validate({rules:rules,messages:messages,lang:"vi"}),$(document).on("click",".sendMailNotify",function(){var e=$(this).attr("data-url");bootbox.confirm({message:msgConfirmSendMail,className:"modal-warning",buttons:{confirm:{label:confirmYes},cancel:{label:confirmNo}},callback:function(t){t&&$.ajax({method:"POST",url:e,data:{id:$(this).attr("data-welId"),_token:_token},success:function(e){e.status===!1&&bootbox.alert({message:e.message,className:"modal-warning",buttons:{ok:{label:confirmYes}}}),e.status===!0&&bootbox.alert({message:e.message,className:"modal-success",buttons:{ok:{label:confirmYes}}})}})}})})});