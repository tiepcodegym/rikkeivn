function onlyUnique(e,t,a){return a.indexOf(e)===t}function select2Projects(e){ajaxSelect2(e,selectProjectMes)}function select2Branch(e){ajaxSelect2(e,selectBranchMes)}function ajaxSelect2(e,t){$(e).select2({ajax:{url:$(e).data("remote-url"),dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:5*t.page<e.total_count}}},cache:!0},placeholder:t,escapeMarkup:function(e){return e},minimumInputLength:3,maximumSelectionSize:5})}jQuery(document).ready(function(e){e(".project_sh-datetime").datetimepicker({useCurrent:!1,inline:!0,sideBySide:!0,format:"YYYY-MM-DD"}),e(".project_sh-datetime-btn").click(function(){var t=e(this);t.parents(".project_sh-datetime").find(".bootstrap-datetimepicker-widget").toggleClass("hidden")}),e(".project_sh-datetime .bootstrap-datetimepicker-widget").addClass("hidden"),e(".project_sh-datetime").on("dp.change",function(t){var a=e(this).closest(".form-label-left").find("textarea"),r=a.val();r||(r="");var n=r.replace(/ /g,"").split(/[\n;]+/).sort();n.indexOf(t.date.format("YYYY-MM-DD"))===-1?r=t.date.format("YYYY-MM-DD")+"; "+r:alert(duplicatedDateMes),r=r.trim(),a.val(r)}),e(".project-sh-textarea").on("change",function(t){var a=e(this).closest(".form-label-left").find("textarea"),r=a.val();r||(r="");for(var n=r.replace(/ /g,"").split(/[\n;]+/).sort(),i=[],c=0;c<n.length-1;c++)n[c+1]===n[c]&&i.push(n[c]);if(i.length>0){var o=n.filter(onlyUnique).join("; ");a.val(o),alert(duplicatedDateMes)}else r=r.trim()})}),select2Projects("#project-ot-18h"),select2Branch("#branch_time");