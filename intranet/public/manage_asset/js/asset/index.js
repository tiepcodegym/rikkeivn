function getUrlFilter(){var e=urlAsset;return e+="?asset_code="+$("#table_asset .filter-asset_code").val(),e+="&asset_name="+$("#table_asset .filter-asset_name").val(),e+="&category_name="+$("#table_asset .filter-category_name").val(),e+="&warehouse_name="+$("#table_asset .filter-warehouse_name").val(),e+="&manager_name="+$("#table_asset .filter-manager_name").val(),e+="&user_name="+$("#table_asset .filter-user_name").val(),e+="&state="+$("#table_asset .filter-state").val(),e+="&allocation_confirm="+$("#table_asset .filter-allocation_confirm").val(),e+="&employee_id="+$("#table_asset .filter-employee_id").val(),e+="&_configure="+$("#table_asset .filter-configure_additional").val(),e+="&_serial="+$("#table_asset .filter-serial_additional").val()}function myFunction(){document.getElementById("myDropdown").classList.toggle("show")}var pageLength=50;$(document).ready(function(){function e(e,a){e.checked?$(a).val("null"):$(a).val(""),t.ajax.url(getUrlFilter()).load()}var t=$("#table_asset").DataTable({processing:!0,lengthChange:!1,bFilter:!1,bDeferRender:!0,serverSide:!0,ajax:{url:urlAsset,type:"get",data:function(e){return e.ids=$("#id_asset_profile").val(),e}},pageLength:pageLength,order:[[4,"desc"]],columnDefs:[{targets:0,searchable:!1,orderable:!1,render:function(e,t,a,s){return'<input type="checkbox" class="item-checked" value="'+a.id+'" data-state="'+a.state_asset+'" name="asset_id">'}}],bDestroy:!0,ordering:!1,info:!0,autoWidth:!1,select:{style:"multi"},columns:[{data:"",name:""},{data:"",name:""},{data:"asset_code",name:"asset_code"},{data:"asset_name",name:"asset_name"},{data:"category_name",name:"category_name"},{data:"warehouse_name",name:"warehouse_name"},{data:"manager_name",name:"manager_name"},{data:"email",name:"email"},{data:"role_name",name:"role_name"},{data:"received_date",name:"received_date"},{data:"state",name:"state"},{data:"approver",name:"approver"},{data:"allocation_confirm",name:"allocation_confirm"},{data:"",name:""}],fnDrawCallback:function(){var e=t.page.info();$("#table_asset tbody tr").each(function(t){var a=$(this).find('td input[type="checkbox"]');$.inArray(a.val(),listItem)!==-1&&a.prop("checked",!0),$(this).find("td:nth-child(2)").not(".dataTables_empty").html(e.page*pageLength+t+1)})}});$("#table_asset thead tr.row-filter select").change(function(){t.ajax.url(getUrlFilter()).load()}),$("#table_asset thead tr.row-filter input[type=text]").keyup(function(e){var a=e.keyCode||e.which;13===a&&t.ajax.url(getUrlFilter()).load()}),$('#table_asset .dt-checkboxes-select-all input[type="checkbox"]').change(function(){$(this).is(":checked")?t.rows().select():t.rows().deselect()}),$("#checkConfigureNull").change(function(){e(this,".filter-configure_additional")}),$("#checkSerialNull").change(function(){e(this,".filter-serial_additional")})}),$("body").on("click",".btn-get-asset-information",function(){var e=$(this).val();$.ajax({url:urlAjaxGetAssetInformation,type:"GET",data:{listItem:listItem,stateModal:e,listState:listState},success:function(e){1===e.success?($("#form_get_asset_information").html(e.html),$("#modal_get_asset_information").modal("show")):0===e.success&&bootbox.alert({className:"modal-default",message:"<h4>"+e.messages+"</h4><br>"+(e.html?e.html:""),backdrop:!0,size:"large",buttons:{ok:{label:confirmYes}}})},error:function(){window.location.reload()}})});var listItem=[],listState=[];$("body").on("change","#table_asset input[type=checkbox]",function(){if($(this).is(":checked")){var e=$(this).attr("data-state");$.inArray(e,listState)===-1&&listState.push(e),$.inArray($(this).val(),listItem)===-1&&listItem.push($(this).val())}else listItem.splice($.inArray($(this).val(),listItem),1),listState.splice($.inArray($(this).val(),listState),1)}),$(document).ajaxComplete(function(){$(".check-all").is(":checked")&&($("table").find("input:checkbox").attr("checked","checked"),$.each($("input[name='asset_id']:checked"),function(){var e=$(this).attr("data-state");$.inArray(e,listState)===-1&&listState.push(e),$.inArray($(this).val(),listItem)===-1&&listItem.push($(this).val())})),$(".check-all").change(function(){$("table").find("input:checkbox").not(this).prop("checked",this.checked),$(this).is(":checked")?$.each($("input[name='asset_id']:checked"),function(){var e=$(this).attr("data-state");$.inArray(e,listState)===-1&&listState.push(e),$.inArray($(this).val(),listItem)===-1&&listItem.push($(this).val())}):(listItem=[],listState=[])})}),$("#table_asset thead").append($("#tbl_asset_2 thead").html());