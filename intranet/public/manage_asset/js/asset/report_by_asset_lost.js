function reportAssetLost(t,e,n,a,s){var o=e?e.name:"",r=[];r.push({stack:[{text:"Danh sách tài sản hỏng, mất",style:"header"},{text:"Từ ngày "+n+" đến ngày "+a,alignment:"center"}]}),r.push({text:"Team quản lý: "+o,style:"headerEmp"});var l={style:"tableAsset",width:"auto",table:{headerRows:1,widths:["auto",80,80,80,100,100,90,120],body:[]}};t.length>0?t.forEach(function(t,e){l.table.body.push([e+1,t.code,t.name,t.user_name,t.role_name,s[t.state],t.change_date,t.reason])}):l.table.body.push([{colSpan:8,text:"Không có dữ liệu",bold:!0}]),l.table.body.unshift(["STT","Mã tài sản","Tên tài sản","Người sử dụng","Chức vụ","Tình trạng","Ngày hỏng/mất","Lý do"]),r.push(l),r.push({style:"footer",columns:[{},{},{stack:[{text:"Ngày...tháng...năm......",style:"fontItalics"},{text:"NGƯỜI LẬP BIỂU",bold:!0},{text:"(Ký, ghi rõ họ tên)",style:"fontItalics"}]}],pageBreak:"after"}),delete r[r.length-1].pageBreak,pdfMake.createPdf({info:{title:"Báo cáo danh sách tài sản hỏng, mất"},content:r,styles:{headerEmp:{fontSize:13,bold:!0},tableAsset:{alignment:"center",margin:[0,10,0,0]},header:{fontSize:16,bold:!0,alignment:"center",margin:[0,40,0,0]},fontItalics:{italics:!0},footer:{margin:[0,20,0,0],alignment:"center"},toDate:{italics:!0,margin:[0,0,0,30]}},pageMargins:[50,30],pageOrientation:"landscape"}).open()}$(document).on("submit","#form_report_lost_and_broken",function(){var t=$(this);return $.ajax({url:urlReport,data:{data:t.serialize(),_token:_token},method:"POST",success:function(t){reportAssetLost(t.data,t.team,t.startDate,t.endDate,t.labelAsset),$("#report_lost_and_broken").modal("hide")}}),!1});