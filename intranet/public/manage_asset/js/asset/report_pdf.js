function reportPdf(e,t){var a=[];e.forEach(function(e){a.push({stack:[{text:"Báo cáo chi tiết tài sản theo nhân viên",style:"header"},{text:"Đến ngày "+t,style:"toDate",alignment:"center"}]}),a.push({text:"Tên nhân viên: "+e.employee_name,style:"headerEmp"}),a.push({text:"Chức vụ: "+e.role_name,style:"headerEmp"});var o={style:"tableAsset",width:"auto",table:{headerRows:1,widths:["auto",80,130,100,100,100,160],body:[]}};e.assets.length>0?e.assets.forEach(function(e,t){o.table.body.push([t+1,e.code,e.name,e.category,e.state_asset,e.received_date,e.specification])}):o.table.body.push([{colSpan:7,text:"Không có dữ liệu",bold:!0}]),o.table.body.unshift(["STT","Mã tài sản","Tên tài sản","Loại tài sản","Tình trạng","Ngày nhận","Quy cách tài sản"]),a.push(o),a.push({style:"footer",columns:[{},{},{stack:[{text:"Ngày...tháng...năm......",style:"fontItalics"},{text:"NGƯỜI LẬP BIỂU",bold:!0},{text:"(Ký, ghi rõ họ tên)",style:"fontItalics"}]}],pageBreak:"after"})}),delete a[a.length-1].pageBreak,pdfMake.createPdf({info:{title:"Báo cáo chi tiết tài sản theo nhân viên"},content:a,styles:{headerEmp:{fontSize:13,bold:!0},tableAsset:{alignment:"center",margin:[0,10,0,0]},header:{fontSize:16,bold:!0,alignment:"center",margin:[0,40,0,0]},fontItalics:{italics:!0},footer:{margin:[0,20,0,0],alignment:"center"},toDate:{italics:!0,margin:[0,0,0,30]}},pageMargins:[50,30],pageOrientation:"landscape"}).open()}$(document).on("submit",".form-report-by-employee",function(e){var t=tableReportByEmp.column(0).checkboxes.selected(),a=$(this).find('input[name="report_type"]').val(),o=!1,n="";return $.each(t,function(e,t){o=!0,n+=t+","}),o?($(".submit-report").prop("disabled",!0),$.ajax({url:urlReport,method:"POST",data:{data:$(this).serialize()+"&employees="+n,_token:_token},dataType:"JSON",success:function(e){e.data?(reportPdf(e.data,e.dateTo),$("#modalReport-"+a).modal("hide"),$(".form-report-by-employee #team_id_report ").val(teamDefault).change(),$(".submit-report").prop("disabled",!1)):bootbox.alert("Error system")}})):($("#no_employee-error").removeClass("hidden"),$(".submit-report").prop("disabled",!1)),!1}),$(document).on("change","#team_id_report",function(e){$.ajax({url:urlAjaxGetEmployeeToReport,type:"GET",data:{teamId:function(){return $("#team_id_report").val()}},success:function(e){$("#group_employees").html(e.html)},complete:function(){$('.report input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_minimal-blue"}),tableReportByEmp=$(".asset-emp-table-report").DataTable({paging:!0,lengthChange:!1,searching:!1,bDestroy:!0,ordering:!1,info:!0,autoWidth:!1,columnDefs:[{targets:0,checkboxes:{selectRow:!0}}],select:{style:"multi"},order:[[1,"asc"]]})}})});