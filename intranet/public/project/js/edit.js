function updateFlatResource(e,t){var r=0,a=0;for(var o in e){var i=e[o],d=$(".tr-project-"+i.id+" .flat_resource_col");if(d.length>0){if(d.find("span").text(i.flat_resource),null!==i.parent_id){var n=null;for(var s in e)if(e[s].id==i.parent_id){n=e[s];break}n?(d.attr("data-original-title",approvedText+": "+n.flat_resource),r+=n.flat_resource):r+=i.flat_resource}else r+=i.flat_resource;a+=i.flat_resource}}var l=$(".total_flat_resource"),c=parseInt(t)==MD_TYPE?1:2;l.hasClass("is-change-value")&&l.attr("data-original-title",approvedText+": "+r.toFixed(c)),l.text(a.toFixed(c))}function string_to_slug(e,t){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();var r={allow_slash:1};t=$.extend(r,t);var a="àáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷýđ·,:;",o="aaaaaaaaaaaaaaaaaeeeeeeeeeeeiiiiiooooooooooooooooouuuuuuuuuuuyyyyyd----";1==t.allow_slash&&(a+="/",o+="-");for(var i=0,d=a.length;i<d;i++)e=e.replace(new RegExp(a.charAt(i),"g"),o.charAt(i));return e=1==t.allow_slash?e.replace(/[^a-z0-9 -_]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"):e.replace(/[^a-z0-9 -_\/]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function slug_project_code(e){e=e.replace(/^\s+|\s+$/g,"");for(var t="àáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷýđÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶÝĐ·_,:;",r="aaaaaaaaaaaaaaaaaeeeeeeeeeeeiiiiiooooooooooooooooouuuuuuuuuuuyyyyydAAAAAAAAAAAAAAAAAEEEEEEEEEEEIIIIIOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYD-----",a=0,o=t.length;a<o;a++)e=e.replace(new RegExp(t.charAt(a),"g"),r.charAt(a));return e=e.replace(/[^a-zA-Z0-9 -\/]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function select2Same(){$(".select-same").select2({minimumResultsForSearch:-1})}function assignDefaultValue(e,t){return"undefined"==typeof t&&(t=null),"undefined"==typeof e&&(e=t),e}function showFormAddWorkorderApproved(e,t){if($(".error-validate-"+e).remove(),t=assignDefaultValue(t),selectSearchReload(),t==TYPE_DELIVERABLE){if($(".add-deliverable").data("requestRunning"))return;$(".add-deliverable").data("requestRunning",!0),url=urlCheckStage,data={_token:token,project_id:project_id},$.ajax({url:url,type:"post",data:data,dataType:"json",success:function(r){r.status||r.dontPermission||r.notFound?($("#modal-warning-notification .text-default").html(r.message),$("#modal-warning-notification").modal("show")):showFormAddWorkorder(e,t),RKfuncion.select2.init()},error:function(){$("#modal-warning-notification .text-default").html("error"),$("#modal-warning-notification").modal("show")},complete:function(){$(".add-deliverable").data("requestRunning",!1)}})}else showFormAddWorkorder(e,t)}function showFormAddWorkorder(e,t){$(".remove-"+e).removeClass("display-none"),$(".add-"+e).addClass("display-none"),$(".tr-add-"+e).addClass("display-none"),trElement=$(".tr-"+e).clone(),trElement.removeClass("display-none tr-"+e),index=$(".tr-"+e+"-new").length+1,t==TYPE_DELIVERABLE?(setTimeout(function(){$(".title-"+e).focus()},0),trElement.find(".title-"+e).attr("data-id",index).addClass("add-title-"+e+"-new-"+index),trElement.find(".committed_date-"+e).attr("data-id",index).addClass("add-committed_date-"+e+"-new-"+index),trElement.find(".re_commited_date-"+e).attr("data-id",index).addClass("add-re_commited_date-"+e+"-new-"+index),trElement.find(".actual_date-"+e).attr("data-id",index).addClass("add-actual_date-"+e+"-new-"+index),trElement.find(".change_request_by-"+e).attr("data-id",index).addClass("add-change_request_by-"+e+"-new-"+index),trElement.find(".stage-"+e).attr("data-id",index).addClass("add-stage-"+e+"-new-"+index),trElement.find(".note-"+e).attr("data-id",index).addClass("add-note-"+e+"-new-"+index)):t==TYPE_STAGE_AND_MILESTONE?(setTimeout(function(){$(".stage-"+e).focus()},0),trElement.find(".stage-"+e).attr("data-id",index).addClass("add-stage-"+e+"-new-"+index),trElement.find(".description-"+e).attr("data-id",index).addClass("add-description-"+e+"-new-"+index),trElement.find(".milestone-"+e).attr("data-id",index).addClass("add-milestone-"+e+"-new-"+index),trElement.find(".qua_gate_plan-"+e).attr("data-id",index).addClass("add-qua_gate_plan-"+e+"-new-"+index),trElement.find(".qua_gate_actual-"+e).attr("data-id",index).addClass("add-qua_gate_actual-"+e+"-new-"+index),trElement.find(".span-qua_gate_result-"+e).attr("data-id",index).addClass("add-qua_gate_result-"+e+"-new-"+index)):t==TYPE_TRAINING?(setTimeout(function(){$(".topic-"+e).focus()},0),trElement.find(".topic-"+e).attr("data-id",index).addClass("add-topic-"+e+"-new-"+index),trElement.find(".description-"+e).attr("data-id",index).addClass("add-description-"+e+"-new-"+index),trElement.find(".training-member-"+e).attr("data-id",index).addClass("add-training-member-"+e+"-new-"+index),trElement.find(".start_at-"+e).attr("data-id",index).addClass("add-start_at-"+e+"-new-"+index),trElement.find(".end_at-"+e).attr("data-id",index).addClass("add-end_at-"+e+"-new-"+index),trElement.find(".result-"+e).attr("data-id",index).addClass("add-result-"+e+"-new-"+index),trElement.find(".walver_criteria-"+e).attr("data-id",index).addClass("add-walver_criteria-"+e+"-new-"+index)):t==TYPE_CUSTOMER_COMMUNICATION?(setTimeout(function(){$(".contact_address-"+e).focus()},0),trElement.find(".contact_address-"+e).attr("data-id",index).addClass("add-contact_address-"+e+"-new-"+index),trElement.find(".responsibility-"+e).attr("data-id",index).addClass("add-responsibility-"+e+"-new-"+index),trElement.find(".customer_communication-member-"+e).attr("data-id",index).addClass("add-customer_communication-member-"+e+"-new-"+index),trElement.find(".customer_communication-role-"+e).attr("data-id",index).addClass("add-customer_communication-role-"+e+"-new-"+index)):t==TYPE_MEMBER_COMMUNICATION?(setTimeout(function(){$(".contact_address-"+e).focus()},0),trElement.find(".contact_address-"+e).attr("data-id",index).addClass("add-contact_address-"+e+"-new-"+index),trElement.find(".responsibility-"+e).attr("data-id",index).addClass("add-responsibility-"+e+"-new-"+index),trElement.find(".member_communication-member-"+e).attr("data-id",index).addClass("add-member_communication-member-"+e+"-new-"+index),trElement.find(".member_communication-role-"+e).attr("data-id",index).addClass("add-member_communication-role-"+e+"-new-"+index)):t==TYPE_SECURITY?(setTimeout(function(){$(".content-"+e).focus()},0),trElement.find(".content-"+e).attr("data-id",index).addClass("add-topic-"+e+"-new-"+index),trElement.find(".description-"+e).attr("data-id",index).addClass("add-description-"+e+"-new-"+index),trElement.find(".security-member-"+e).attr("data-id",index).addClass("add-security-member-"+e+"-new-"+index),trElement.find(".procedure-"+e).attr("data-id",index).addClass("add-procedure-"+e+"-new-"+index),trElement.find(".period-"+e).attr("data-id",index).addClass("add-period-"+e+"-new-"+index)):t==TYPE_COMMUNICATION?(setTimeout(function(){$(".content-"+e).focus()},0),trElement.find(".content-"+e).attr("data-id",index).addClass("add-content-"+e+"-new-"+index)):t==TYPE_EXTERNAL_INTERFACE?(setTimeout(function(){$(".name-"+e).focus()},0),trElement.find(".name-"+e).attr("data-id",index).addClass("add-name-"+e+"-new-"+index),trElement.find(".position-"+e).attr("data-id",index).addClass("add-position-"+e+"-new-"+index),trElement.find(".responsibilities-"+e).attr("data-id",index).addClass("add-responsibilities-"+e+"-new-"+index),trElement.find(".contact-"+e).attr("data-id",index).addClass("add-contact-"+e+"-new-"+index)):t==TYPE_TOOL_AND_INFRASTRUCTURE?(setTimeout(function(){$(".soft_hard_ware-"+e).focus()},0),trElement.find(".soft_hard_ware-"+e).attr("data-id",index).addClass("add-soft_hard_ware-"+e+"-new-"+index),trElement.find(".purpose-"+e).attr("data-id",index).addClass("add-purpose-"+e+"-new-"+index),trElement.find(".start-date-"+e).attr("data-id",index).addClass("add-start-date-"+e+"-new-"+index),trElement.find(".end-date-"+e).attr("data-id",index).addClass("add-end-date-"+e+"-new-"+index),trElement.find(".note-"+e).attr("data-id",index).addClass("add-note-"+e+"-new-"+index)):t==TYPE_ASSUMPTIONS?(setTimeout(function(){$(".description-"+e).focus()},0),trElement.find(".description-"+e).attr("data-id",index).addClass("add-description-"+e+"-new-"+index),trElement.find(".remark-"+e).attr("data-id",index).addClass("add-remark-"+e+"-new-"+index)):t==TYPE_CONSTRAINTS?(setTimeout(function(){$(".description-"+e).focus()},0),trElement.find(".description-"+e).attr("data-id",index).addClass("add-description-"+e+"-new-"+index),trElement.find(".remark-"+e).attr("data-id",index).addClass("add-remark-"+e+"-new-"+index)):t==TYPE_PROJECT_MEMBER?(trTotal=$(".tr-total-resource").clone(),$(".tr-total-resource").remove(),setTimeout(function(){$(".type-"+e).focus()},0),trElement.find(".type-"+e).attr("data-id",index).addClass("add-type-"+e+"-new-"+index),trElement.find(".employee_id-"+e).attr("data-id",index).addClass("add-employee_id-"+e+"-new-"+index),trElement.find(".start_at-"+e).attr("data-id",index).addClass("add-start_at-"+e+"-new-"+index),trElement.find(".end_at-"+e).attr("data-id",index).addClass("add-end_at-"+e+"-new-"+index),trElement.find(".effort-"+e).attr("data-id",index).addClass("add-effort-"+e+"-new-"+index),trElement.find(".prog-"+e).attr("data-id",index).addClass("add-prog-"+e+"-new-"+index)):(setTimeout(function(){$(".content-"+e).focus()},0),trElement.find(".content-"+e).attr("data-id",index).addClass("add-content-"+e+"-new-"+index),trElement.find(".note-"+e).attr("data-id",index).addClass("add-note-"+e+"-new-"+index)),t!=TYPE_STAGE_AND_MILESTONE&&t!=TYPE_DELIVERABLE&&t!=TYPE_PROJECT_MEMBER&&$("#table-"+e+" tr:last td:first").html($("#table-"+e+" tr").length-2),trElement.find(".remove-"+e).attr("data-id",index).addClass("remove-"+e+"-new"),trElement.find(".add-new-"+e).attr("data-id",index).addClass("add-"+e+"-new"),trElement.addClass("tr-"+e+"-"+index+" tr-"+e+"-new"),$("#table-"+e+" table tbody tr:last").after(trElement),t==TYPE_PROJECT_MEMBER&&(setTimeout(function(){$(".tr-project-member-new .select-search-add").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project-member-new .select-search-remote-member-add").each(function(){RKfuncion.select2.elementRemote($(this))}),$(".multiselect2-proj-add").multiselect({includeSelectAllOption:!1,numberDisplayed:1,nonSelectedText:RKVarPassGlobal.multiSelectTextNone,allSelectedText:RKVarPassGlobal.multiSelectTextAll,nSelectedText:RKVarPassGlobal.multiSelectTextSelectedShort,enableFiltering:!0,onDropdownShown:function(){RKfuncion.multiselect2.overfollow(this)},onDropdownHide:function(){RKfuncion.multiselect2.overfollowClose(this)}})},200),$("#table-"+e+" table tbody tr:last").after(trTotal)),t==TYPE_STAGE_AND_MILESTONE&&setTimeout(function(){$(".tr-stage-and-milestone-new select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_DELIVERABLE&&setTimeout(function(){$(".tr-deliverable-new select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_TRAINING&&setTimeout(function(){$(".tr-training-hidden select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_CRITICAL_DEPENDENCIES&&setTimeout(function(){$(".critical-assignee-select2-new").select2({ajax:{url:urlSearchEmployee,dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page,projectId:projectId}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1})}),t==TYPE_ASSUMPTION_CONSTRAIN&&setTimeout(function(){$(".assignee-assumption-assignee-select2-new").select2({ajax:{url:urlSearchEmployee,dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page,projectId:projectId}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1})}),1==index&&$(".save-or-draft-"+e).removeClass("display-none"),RKfuncion.select2.init()}function removeFormAddWorkorderApproved(e,t,r){r=assignDefaultValue(r);var a=$(t).data("id");$(".remove-"+e).addClass("display-none"),$(".add-"+e).removeClass("display-none"),$(".tr-add-"+e).removeClass("display-none"),trElement=$(".tr-"+e+"-new").remove(),r==TYPE_DELIVERABLE?($(".tr-deliverable-new .select2").removeClass("display-block"),$(".add-title-"+e+"-new-"+a).val(""),$(".add-committed_date-"+e+"-new-"+a).val(""),$(".add-actual_date-"+e+"-new-"+a).val(""),$(".add-stage-"+e+"-new-"+a).val(""),$(".add-note-"+e+"-new-"+a).val("")):r==TYPE_STAGE_AND_MILESTONE?($(".tr-stage-and-milestone-new .select2").removeClass("display-block"),$(".add-stage-"+e+"-new-"+a).val(""),$(".add-description-"+e+"-new-"+a).val(""),$(".add-milestone-"+e+"-new-"+a).val(""),$(".add-qua_gate_actual-"+e+"-new-"+a).val(""),$(".add-qua_gate_plan-"+e+"-new-"+a).val("")):r==TYPE_TRAINING?($(".add-topic-"+e+"-new-"+a).val(""),$(".add-description-"+e+"-new-"+a).val(""),$(".add-participants-"+e+"-new-"+a).val(""),$(".tr-training-new .select2").addClass("display-none"),$(".add-time-"+e+"-new-"+a).val(""),$(".add-walver_criteria-"+e+"-new-"+a).val("")):r==TYPE_CUSTOMER_COMMUNICATION?($(".add-customer-"+e+"-new-"+a).val(""),$(".add-contact_address-"+e+"-new-"+a).val(""),$(".tr-customer_communication-new .select2").addClass("display-none"),$(".add-responsibility-"+e+"-new-"+a).val("")):r==TYPE_COMMUNICATION_MEETING||r==TYPE_COMMUNICATION_REPORT||r==TYPE_COMMUNICATION_OTHER?($(".add-type-"+e+"-new-"+a).val(""),$(".add-method-"+e+"-new-"+a).val(""),$(".add-time-"+e+"-new-"+a).val(""),$(".add-information-"+e+"-new-"+a).val(""),$(".add-stakeholder-"+e+"-new-"+a).val("")):r==TYPE_SECURITY?($(".add-content-"+e+"-new-"+a).val(""),$(".add-description-"+e+"-new-"+a).val(""),$(".add-participants-"+e+"-new-"+a).val(""),$(".tr-security-new .select2").addClass("display-none"),$(".add-period-"+e+"-new-"+a).val(""),$(".add-procedure-"+e+"-new-"+a).val("")):r==TYPE_CONSTRAINTS||r==TYPE_ASSUMPTIONS?($(".add-description-"+e+"-new-"+a).val(""),$(".add-remark-"+e+"-new-"+a).val("")):r==TYPE_SKILL_REQUEST?($(".add-skill-"+e+"-new-"+a).val(""),$(".add-category-"+e+"-new-"+a).val(""),$(".add-course_name-"+e+"-new-"+a).val(""),$(".add-mode-"+e+"-new-"+a).val(""),$(".add-provider-"+e+"-new-"+a).val(""),$(".add-required_role-"+e+"-new-"+a).val(""),$(".add-hours-"+e+"-new-"+a).val(""),$(".add-level-"+e+"-new-"+a).val(""),$(".add-remark-"+e+"-new-"+a).val("")):r==TYPE_PROJECT_MEMBER?(trAdd=$(".tr-add-project-member").clone(),$(".tr-add-project-member").remove(),$("#table-"+e+" table tbody tr:last").after(trAdd),$(".tr-project-member-new .select2").removeClass("display-block"),$(".add-type-"+e+"-new-"+a).val($(".add-type-"+e+"-new-"+a+" option:first").val()),$(".add-employee_id-"+e+"-new-"+a).val($(".add-employee_id-"+e+"-new-"+a+" option:first").val()),$(".add-start_at-"+e+"-new-"+a).val(""),$(".add-end_at-"+e+"-new-"+a).val(""),$(".add-effort-"+e+"-new-"+a).val("")):r==TYPE_COMMUNICATION?$(".add-content-"+e+"-new-"+a).val(""):r==TYPE_EXTERNAL_INTERFACE?($(".add-name-"+e+"-new-"+a).val(""),$(".add-position-"+e+"-new-"+a).val(""),$(".add-responsibilities-"+e+"-new-"+a).val(""),$(".add-contact-"+e+"-new-"+a).val("")):r==TYPE_TOOL_AND_INFRASTRUCTURE?($(".tr-tool-and-infrastructure .select2").removeClass("display-block"),$(".add-soft_hard_ware-"+e+"-new-"+a).val(""),$(".add-purpose-"+e+"-new-"+a).val(""),$(".add-note-"+e+"-new-"+a).val(""),$(".add-start-date-"+e+"-new-"+a).val(""),$(".add-end-date-"+e+"-new-"+a).val("")):r==TYPE_WO_DEVICES_EXPENSE?($(".add-time-"+e+"-new-"+a).val(""),$(".add-amount-"+e+"-new-"+a).val(""),$(".add-description-"+e+"-new-"+a).val("")):($(".add-content-"+e+"-new-"+a).val(""),$(".add-expected_date-"+e+"-new-"+a).val("")),$(".error-"+e).remove()}function editWorkorderApproved(e,t,r){r=assignDefaultValue(r);var a=$(t).data("id");$(t).addClass("display-none"),$(".save-"+e+"-"+a).removeClass("display-none"),$(".delete-"+e+"-"+a).addClass("display-none"),$(".refresh-"+e+"-"+a).removeClass("display-none"),r==TYPE_DELIVERABLE?(setTimeout(function(){input=$(".input-title-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".title-"+e+"-"+a).addClass("display-none"),$(".input-title-"+e+"-"+a).removeClass("display-none"),$(".committed_date-"+e+"-"+a).addClass("display-none"),$(".re_commited_date-"+e+"-"+a).addClass("display-none"),$(".input-committed_date-"+e+"-"+a).removeClass("display-none"),$(".input-re_commited_date-"+e+"-"+a).removeClass("display-none"),$(".actual_date-"+e+"-"+a).addClass("display-none"),$(".input-actual_date-"+e+"-"+a).removeClass("display-none"),$(".stage-"+e+"-"+a).addClass("display-none"),$(".change_request_by-"+e+"-"+a).addClass("display-none"),$(".input-stage-"+e+"-"+a).removeClass("display-none"),$(".input-change_request_by-"+e+"-"+a).removeClass("display-none"),$(".note-"+e+"-"+a).addClass("display-none"),$(".input-note-"+e+"-"+a).removeClass("display-none")):r==TYPE_STAGE_AND_MILESTONE?(setTimeout(function(){input=$(".input-stage-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".stage-"+e+"-"+a).addClass("display-none"),$(".input-stage-"+e+"-"+a).removeClass("display-none"),$(".description-"+e+"-"+a).addClass("display-none"),$(".input-description-"+e+"-"+a).removeClass("display-none"),$(".milestone-"+e+"-"+a).addClass("display-none"),$(".input-milestone-"+e+"-"+a).removeClass("display-none"),$(".qua_gate_plan-"+e+"-"+a).addClass("display-none"),$(".input-qua_gate_plan-"+e+"-"+a).removeClass("display-none"),$(".qua_gate_actual-"+e+"-"+a).addClass("display-none"),$(".input-qua_gate_actual-"+e+"-"+a).removeClass("display-none"),$(".qua_gate_result-"+e+"-"+a).addClass("display-none"),$(".span-qua_gate_result-"+e+"-"+a).removeClass("display-none")):r==TYPE_TRAINING?(setTimeout(function(){input=$(".input-topic-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".topic-"+e+"-"+a).addClass("display-none"),$(".input-topic-"+e+"-"+a).removeClass("display-none"),$(".description-"+e+"-"+a).addClass("display-none"),$(".input-description-"+e+"-"+a).removeClass("display-none"),$(".participants-"+e+"-"+a).addClass("display-none"),$(".input-participants-"+e+"-"+a).removeClass("display-none"),$(".start_at-"+e+"-"+a).addClass("display-none"),$(".input-start_at-"+e+"-"+a).removeClass("display-none"),$(".end_at-"+e+"-"+a).addClass("display-none"),$(".input-end_at-"+e+"-"+a).removeClass("display-none"),$(".result-"+e+"-"+a).addClass("display-none"),$(".input-result-"+e+"-"+a).removeClass("display-none"),$(".walver_criteria-"+e+"-"+a).addClass("display-none"),$(".input-walver_criteria-"+e+"-"+a).removeClass("display-none")):r==TYPE_COMMUNICATION_MEETING||r==TYPE_COMMUNICATION_REPORT||r==TYPE_COMMUNICATION_OTHER?(setTimeout(function(){input=$(".input-type-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".type-"+e+"-"+a).addClass("display-none"),$(".input-type-"+e+"-"+a).removeClass("display-none"),$(".method-"+e+"-"+a).addClass("display-none"),$(".input-method-"+e+"-"+a).removeClass("display-none"),$(".time-"+e+"-"+a).addClass("display-none"),$(".input-time-"+e+"-"+a).removeClass("display-none"),$(".information-"+e+"-"+a).addClass("display-none"),$(".input-information-"+e+"-"+a).removeClass("display-none"),$(".stakeholder-"+e+"-"+a).addClass("display-none"),$(".input-stakeholder-"+e+"-"+a).removeClass("display-none")):r==TYPE_MEMBER_COMMUNICATION?(setTimeout(function(){input=$(".input-member-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".member-"+e+"-"+a).addClass("display-none"),$(".input-member-"+e+"-"+a).removeClass("display-none"),$(".role-"+e+"-"+a).addClass("display-none"),$(".input-role-"+e+"-"+a).removeClass("display-none"),$(".contact_address-"+e+"-"+a).addClass("display-none"),$(".input-contact_address-"+e+"-"+a).removeClass("display-none"),$(".responsibility-"+e+"-"+a).addClass("display-none"),$(".input-responsibility-"+e+"-"+a).removeClass("display-none")):r==TYPE_CUSTOMER_COMMUNICATION?(setTimeout(function(){input=$(".input-customer-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".customer-"+e+"-"+a).addClass("display-none"),$(".input-customer-"+e+"-"+a).removeClass("display-none"),$(".role-"+e+"-"+a).addClass("display-none"),$(".input-role-"+e+"-"+a).removeClass("display-none"),$(".contact_address-"+e+"-"+a).addClass("display-none"),$(".input-contact_address-"+e+"-"+a).removeClass("display-none"),$(".responsibility-"+e+"-"+a).addClass("display-none"),$(".input-responsibility-"+e+"-"+a).removeClass("display-none")):r==TYPE_SKILL_REQUEST?(setTimeout(function(){input=$(".input-skill-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".skill-"+e+"-"+a).addClass("display-none"),$(".input-skill-"+e+"-"+a).removeClass("display-none"),$(".category-"+e+"-"+a).addClass("display-none"),$(".input-category-"+e+"-"+a).removeClass("display-none"),$(".course_name-"+e+"-"+a).addClass("display-none"),$(".input-course_name-"+e+"-"+a).removeClass("display-none"),$(".mode-"+e+"-"+a).addClass("display-none"),$(".input-mode-"+e+"-"+a).removeClass("display-none"),$(".provider-"+e+"-"+a).addClass("display-none"),$(".input-provider-"+e+"-"+a).removeClass("display-none"),$(".required_role-"+e+"-"+a).addClass("display-none"),$(".input-required_role-"+e+"-"+a).removeClass("display-none"),$(".hours-"+e+"-"+a).addClass("display-none"),$(".input-hours-"+e+"-"+a).removeClass("display-none"),$(".level-"+e+"-"+a).addClass("display-none"),$(".input-level-"+e+"-"+a).removeClass("display-none"),$(".remark-"+e+"-"+a).addClass("display-none"),$(".input-remark-"+e+"-"+a).removeClass("display-none")):r==TYPE_SECURITY?(setTimeout(function(){input=$(".input-content-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".content-"+e+"-"+a).addClass("display-none"),$(".input-content-"+e+"-"+a).removeClass("display-none"),$(".description-"+e+"-"+a).addClass("display-none"),$(".input-description-"+e+"-"+a).removeClass("display-none"),$(".participants-"+e+"-"+a).addClass("display-none"),$(".input-participants-"+e+"-"+a).removeClass("display-none"),$(".period-"+e+"-"+a).addClass("display-none"),$(".input-period-"+e+"-"+a).removeClass("display-none"),$(".procedure-"+e+"-"+a).addClass("display-none"),$(".input-procedure-"+e+"-"+a).removeClass("display-none")):r==TYPE_ASSUMPTIONS||r==TYPE_CONSTRAINTS?(setTimeout(function(){input=$(".input-description-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".description-"+e+"-"+a).addClass("display-none"),$(".input-description-"+e+"-"+a).removeClass("display-none"),$(".remark-"+e+"-"+a).addClass("display-none"),$(".input-remark-"+e+"-"+a).removeClass("display-none")):r==TYPE_PROJECT_MEMBER?(setTimeout(function(){input=$(".input-type-"+e+"-"+a),input.focus()},0),$(".type-"+e+"-"+a).addClass("display-none"),$(".input-type-"+e+"-"+a).removeClass("display-none"),$(".employee_id-"+e+"-"+a).addClass("display-none"),$(".input-employee_id-"+e+"-"+a).removeClass("display-none"),$(".start_at-"+e+"-"+a).addClass("display-none"),$(".input-start_at-"+e+"-"+a).removeClass("display-none"),$(".end_at-"+e+"-"+a).addClass("display-none"),$(".input-end_at-"+e+"-"+a).removeClass("display-none"),$(".effort-"+e+"-"+a).addClass("display-none"),$(".input-effort-"+e+"-"+a).removeClass("display-none"),$(".prog-"+e+"-"+a).addClass("display-none"),$(".input-prog-"+e+"-"+a).removeClass("display-none"),$(".tr-project-"+a+" .proj-member-prog-lang > .btn-group").removeClass("display-none")):r==TYPE_COMMUNICATION?(setTimeout(function(){input=$(".input-content-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".content-"+e+"-"+a).addClass("display-none"),$(".input-content-"+e+"-"+a).removeClass("display-none")):r==TYPE_EXTERNAL_INTERFACE?(setTimeout(function(){input=$(".input-name-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".name-"+e+"-"+a).addClass("display-none"),$(".input-name-"+e+"-"+a).removeClass("display-none"),$(".position-"+e+"-"+a).addClass("display-none"),$(".input-position-"+e+"-"+a).removeClass("display-none"),$(".responsibilities-"+e+"-"+a).addClass("display-none"),$(".input-responsibilities-"+e+"-"+a).removeClass("display-none"),$(".contact-"+e+"-"+a).addClass("display-none"),$(".input-contact-"+e+"-"+a).removeClass("display-none")):r==TYPE_TOOL_AND_INFRASTRUCTURE?(setTimeout(function(){input=$(".input-soft_hard_ware-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".soft_hard_ware-"+e+"-"+a).addClass("display-none"),$(".input-soft_hard_ware-"+e+"-"+a).removeClass("display-none"),$(".purpose-"+e+"-"+a).addClass("display-none"),$(".input-purpose-"+e+"-"+a).removeClass("display-none"),$(".start-date-"+e+"-"+a).addClass("display-none"),$(".input-start-date-"+e+"-"+a).removeClass("display-none"),$(".end-date-"+e+"-"+a).addClass("display-none"),$(".input-end-date-"+e+"-"+a).removeClass("display-none"),$(".note-"+e+"-"+a).addClass("display-none"),$(".input-note-"+e+"-"+a).removeClass("display-none")):r==TYPE_WO_DEVICES_EXPENSE?(setTimeout(function(){input=$(".input-time-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".time-"+e+"-"+a).addClass("display-none"),$(".input-time-"+e+"-"+a).removeClass("display-none"),$(".amount-"+e+"-"+a).addClass("display-none"),$(".input-amount-"+e+"-"+a).removeClass("display-none"),$(".description-"+e+"-"+a).addClass("display-none"),$(".input-description-"+e+"-"+a).removeClass("display-none")):(setTimeout(function(){input=$(".input-content-"+e+"-"+a),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".content-"+e+"-"+a).addClass("display-none"),$(".input-content-"+e+"-"+a).removeClass("display-none"),$(".expected_date-"+e+"-"+a).addClass("display-none"),$(".input-expected_date-"+e+"-"+a).removeClass("display-none"))}function refreshWorkorderApproved(e,t,r){if(r=assignDefaultValue(r),id=$(t).data("id"),$(".error-validate-"+e+"-"+id).remove(),$(t).addClass("display-none"),$(".save-"+e+"-"+id).addClass("display-none"),$(".edit-"+e+"-"+id).removeClass("display-none"),$(".delete-"+e+"-"+id).removeClass("display-none"),$(".refresh-"+e+"-"+id).addClass("display-none"),r==TYPE_DELIVERABLE)$(".title-"+e+"-"+id).removeClass("display-none"),$(".input-title-"+e+"-"+id).val($(".title-"+e+"-"+id).text()),$(".input-title-"+e+"-"+id).addClass("display-none"),$(".committed_date-"+e+"-"+id).removeClass("display-none"),$(".input-committed_date-"+e+"-"+id).val($(".committed_date-"+e+"-"+id).text()),$(".input-committed_date-"+e+"-"+id).addClass("display-none"),$(".re_commited_date-"+e+"-"+id).removeClass("display-none"),$(".input-re_commited_date-"+e+"-"+id).val($(".re_commited_date-"+e+"-"+id).text()),$(".input-re_commited_date-"+e+"-"+id).addClass("display-none"),$(".actual_date-"+e+"-"+id).removeClass("display-none"),$(".input-actual_date-"+e+"-"+id).addClass("display-none"),$(".input-actual_date-"+e+"-"+id).val($(".actual_date-"+e+"-"+id).text()),$(".stage-"+e+"-"+id).removeClass("display-none"),$(".change_request_by-"+e+"-"+id).removeClass("display-none"),dataValue=$(".stage-"+e+"-"+id).data("value"),$(".input-stage-"+e+"-"+id).addClass("display-none"),$(".input-change_request_by-"+e+"-"+id).addClass("display-none"),dataValue?$(".input-stage-"+e+"-"+id).val(dataValue).trigger("change"):$(".input-stage-"+e+"-"+id).val($(".input-stage-"+e+"-"+id+" option:first").val()).trigger("change"),dataChangeRequest=$(".change_request_by-"+e+"-"+id).data("value"),dataChangeRequest?$(".input-change_request_by-"+e+"-"+id).val(dataChangeRequest).trigger("change"):$(".input-change_request_by-"+e+"-"+id).val($(".input-change_request_by-"+e+"-"+id+" option:first").val()).trigger("change"),$(".note-"+e+"-"+id).removeClass("display-none"),$(".input-note-"+e+"-"+id).addClass("display-none"),$(".input-note-"+e+"-"+id).val($(".note-"+e+"-"+id).text());else if(r==TYPE_STAGE_AND_MILESTONE)$(".stage-"+e+"-"+id).removeClass("display-none"),$(".input-stage-"+e+"-"+id).addClass("display-none"),$(".input-stage-"+e+"-"+id).val($(".stage-"+e+"-"+id).text()),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".milestone-"+e+"-"+id).removeClass("display-none"),$(".input-milestone-"+e+"-"+id).addClass("display-none"),$(".input-milestone-"+e+"-"+id).val($(".milestone-"+e+"-"+id).text()),$(".qua_gate_actual-"+e+"-"+id).removeClass("display-none"),$(".input-qua_gate_actual-"+e+"-"+id).addClass("display-none"),$(".qua_gate_actual-"+e+"-"+id).data("status")?$(".input-qua_gate_actual-"+e+"-"+id).val($(".qua_gate_actual-"+e+"-"+id).text()):$(".input-qua_gate_actual-"+e+"-"+id).val(""),$(".qua_gate_plan-"+e+"-"+id).removeClass("display-none"),$(".input-qua_gate_plan-"+e+"-"+id).addClass("display-none"),$(".input-qua_gate_plan-"+e+"-"+id).val($(".qua_gate_plan-"+e+"-"+id).text()),$(".qua_gate_actual-"+e+"-"+id).data("status")&&(text=$(".qua_gate_result-"+e+"-"+id).data("value")?"Pass":"Fail",$(".qua_gate_result-"+e+"-"+id).text(text)),$(".qua_gate_result-"+e+"-"+id).removeClass("display-none"),$(".span-qua_gate_result-"+e+"-"+id).addClass("display-none");else if(r==TYPE_TRAINING)$(".topic-"+e+"-"+id).removeClass("display-none"),$(".input-topic-"+e+"-"+id).addClass("display-none"),$(".input-topic-"+e+"-"+id).val($(".topic-"+e+"-"+id).text()),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".participants-"+e+"-"+id).removeClass("display-none"),$(".input-participants-"+e+"-"+id).addClass("display-none"),oldValue=$(".participants-"+e+"-"+id).attr("data-value"),arrayValue=oldValue.split(","),$(".input-participants-"+e+"-"+id).val(arrayValue),$(".start_at-"+e+"-"+id).removeClass("display-none"),$(".input-start_at-"+e+"-"+id).addClass("display-none"),$(".input-start_at-"+e+"-"+id).val($(".start_at-"+e+"-"+id).text()),$(".end_at-"+e+"-"+id).removeClass("display-none"),$(".input-end_at-"+e+"-"+id).addClass("display-none"),$(".input-end_at-"+e+"-"+id).val($(".end_at-"+e+"-"+id).text()),$(".result-"+e+"-"+id).removeClass("display-none"),$(".input-result-"+e+"-"+id).addClass("display-none"),oldValueResult=$(".result-"+e+"-"+id).attr("data-value"),$(".input-result-"+e+"-"+id).val(oldValueResult),$(".walver_criteria-"+e+"-"+id).removeClass("display-none"),$(".input-walver_criteria-"+e+"-"+id).addClass("display-none"),$(".input-walver_criteria-"+e+"-"+id).val($(".walver_criteria-"+e+"-"+id).text());else if(r==TYPE_COMMUNICATION_MEETING||r==TYPE_COMMUNICATION_REPORT||r==TYPE_COMMUNICATION_OTHER)$(".type-"+e+"-"+id).removeClass("display-none"),$(".input-type-"+e+"-"+id).addClass("display-none"),$(".input-type-"+e+"-"+id).val($(".type-"+e+"-"+id).text()),$(".method-"+e+"-"+id).removeClass("display-none"),$(".input-method-"+e+"-"+id).addClass("display-none"),$(".input-method-"+e+"-"+id).val($(".method-"+e+"-"+id).text()),$(".time-"+e+"-"+id).removeClass("display-none"),$(".input-time-"+e+"-"+id).addClass("display-none"),$(".input-time-"+e+"-"+id).val($(".time-"+e+"-"+id).text()),$(".information-"+e+"-"+id).removeClass("display-none"),$(".input-information-"+e+"-"+id).addClass("display-none"),$(".input-information-"+e+"-"+id).val($(".information-"+e+"-"+id).text()),$(".stakeholder-"+e+"-"+id).removeClass("display-none"),$(".input-stakeholder-"+e+"-"+id).addClass("display-none"),$(".input-stakeholder-"+e+"-"+id).val($(".stakeholder-"+e+"-"+id).text());else if(r==TYPE_MEMBER_COMMUNICATION)$(".contact_address-"+e+"-"+id).removeClass("display-none"),$(".input-contact_address-"+e+"-"+id).addClass("display-none"),$(".input-contact_address-"+e+"-"+id).val($(".contact_address-"+e+"-"+id).text()),$(".role-"+e+"-"+id).removeClass("display-none"),$(".input-role-"+e+"-"+id).addClass("display-none"),oldValueRole=$(".participants-"+e+"-"+id).attr("data-value"),
arrayValue=oldValueRole.split(","),$(".input-role-"+e+"-"+id).val(arrayValue),$(".member-"+e+"-"+id).removeClass("display-none"),$(".input-member-"+e+"-"+id).addClass("display-none"),oldValue=$(".member-"+e+"-"+id).attr("data-value"),$(".input-member-"+e+"-"+id).val(oldValue),$(".responsibility-"+e+"-"+id).removeClass("display-none"),$(".input-responsibility-"+e+"-"+id).addClass("display-none"),$(".input-responsibility-"+e+"-"+id).val($(".responsibility-"+e+"-"+id).text());else if(r==TYPE_CUSTOMER_COMMUNICATION)$(".contact_address-"+e+"-"+id).removeClass("display-none"),$(".input-contact_address-"+e+"-"+id).addClass("display-none"),$(".input-contact_address-"+e+"-"+id).val($(".contact_address-"+e+"-"+id).text()),$(".role-"+e+"-"+id).removeClass("display-none"),$(".input-role-"+e+"-"+id).addClass("display-none"),oldValueRole=$(".participants-"+e+"-"+id).attr("data-value"),arrayValue=oldValueRole.split(","),$(".input-role-"+e+"-"+id).val(arrayValue),$(".customer-"+e+"-"+id).removeClass("display-none"),$(".input-customer-"+e+"-"+id).addClass("display-none"),$(".input-customer-"+e+"-"+id).val($(".customer-"+e+"-"+id).text()),$(".responsibility-"+e+"-"+id).removeClass("display-none"),$(".input-responsibility-"+e+"-"+id).addClass("display-none"),$(".input-responsibility-"+e+"-"+id).val($(".responsibility-"+e+"-"+id).text());else if(r==TYPE_SECURITY)$(".content-"+e+"-"+id).removeClass("display-none"),$(".input-content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).val($(".content-"+e+"-"+id).text()),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".participants-"+e+"-"+id).removeClass("display-none"),$(".input-participants-"+e+"-"+id).addClass("display-none"),oldValue=$(".participants-"+e+"-"+id).attr("data-value"),arrayValue=oldValue.split(","),$(".input-participants-"+e+"-"+id).val(arrayValue),$(".period-"+e+"-"+id).removeClass("display-none"),$(".input-period-"+e+"-"+id).addClass("display-none"),$(".input-period-"+e+"-"+id).val($(".period-"+e+"-"+id).text()),$(".procedure-"+e+"-"+id).removeClass("display-none"),$(".input-procedure-"+e+"-"+id).addClass("display-none"),$(".input-procedure-"+e+"-"+id).val($(".procedure-"+e+"-"+id).text());else if(r==TYPE_ASSUMPTIONS||r==TYPE_CONSTRAINTS)$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".remark-"+e+"-"+id).removeClass("display-none"),$(".input-remark-"+e+"-"+id).addClass("display-none"),$(".input-remark-"+e+"-"+id).val($(".remark-"+e+"-"+id).text());else if(r==TYPE_SKILL_REQUEST)$(".skill-"+e+"-"+id).removeClass("display-none"),$(".input-skill-"+e+"-"+id).addClass("display-none"),$(".input-skill-"+e+"-"+id).val($(".skill-"+e+"-"+id).text()),$(".category-"+e+"-"+id).removeClass("display-none"),$(".input-category-"+e+"-"+id).addClass("display-none"),$(".input-category-"+e+"-"+id).val($(".category-"+e+"-"+id).text()),$(".course_name-"+e+"-"+id).removeClass("display-none"),$(".input-course_name-"+e+"-"+id).addClass("display-none"),$(".input-course_name-"+e+"-"+id).val($(".course_name-"+e+"-"+id).text()),$(".mode-"+e+"-"+id).removeClass("display-none"),$(".input-mode-"+e+"-"+id).addClass("display-none"),$(".input-mode-"+e+"-"+id).val($(".mode-"+e+"-"+id).text()),$(".provider-"+e+"-"+id).removeClass("display-none"),$(".input-provider-"+e+"-"+id).addClass("display-none"),$(".input-provider-"+e+"-"+id).val($(".provider-"+e+"-"+id).text()),$(".required_role-"+e+"-"+id).removeClass("display-none"),$(".input-required_role-"+e+"-"+id).addClass("display-none"),$(".input-required_role-"+e+"-"+id).val($(".required_role-"+e+"-"+id).text()),$(".level-"+e+"-"+id).removeClass("display-none"),$(".input-level-"+e+"-"+id).addClass("display-none"),$(".input-level-"+e+"-"+id).val($(".level-"+e+"-"+id).text()),$(".hours-"+e+"-"+id).removeClass("display-none"),$(".input-hours-"+e+"-"+id).addClass("display-none"),$(".input-hours-"+e+"-"+id).val($(".hours-"+e+"-"+id).text()),$(".remark-"+e+"-"+id).removeClass("display-none"),$(".input-remark-"+e+"-"+id).addClass("display-none"),$(".input-remark-"+e+"-"+id).val($(".remark-"+e+"-"+id).text());else if(r==TYPE_PROJECT_MEMBER){$(".type-"+e+"-"+id).removeClass("display-none"),$(".input-type-"+e+"-"+id).addClass("display-none"),$(".input-type-"+e+"-"+id).val($(".type-"+e+"-"+id).attr("data-value")),$(".employee_id-"+e+"-"+id).removeClass("display-none"),$(".input-employee_id-"+e+"-"+id).addClass("display-none"),$(".input-employee_id-"+e+"-"+id).val($(".employee_id-"+e+"-"+id).attr("data-value")),$(".start_at-"+e+"-"+id).removeClass("display-none"),$(".input-start_at-"+e+"-"+id).addClass("display-none"),$(".input-start_at-"+e+"-"+id).val($(".start_at-"+e+"-"+id).text()),$(".end_at-"+e+"-"+id).removeClass("display-none"),$(".input-end_at-"+e+"-"+id).addClass("display-none"),$(".input-end_at-"+e+"-"+id).val($(".end_at-"+e+"-"+id).text()),$(".effort-"+e+"-"+id).removeClass("display-none"),$(".input-effort-"+e+"-"+id).addClass("display-none"),$(".input-effort-"+e+"-"+id).val($(".effort-"+e+"-"+id).text()),$(".prog-"+e+"-"+id).removeClass("display-none"),$(".input-prog-"+e+"-"+id).addClass("display-none");var a=$(".prog-"+e+"-"+id).attr("data-value").split(",").map(Number);$("select.input-prog-"+e+"-"+id).multiselect("deselectAll").multiselect("select",a),$(".tr-project-"+id+" .proj-member-prog-lang > .btn-group").addClass("display-none")}else r==TYPE_COMMUNICATION?($(".content-"+e+"-"+id).removeClass("display-none"),$(".input-content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).val($(".content-"+e+"-"+id).text())):r==TYPE_EXTERNAL_INTERFACE?($(".name-"+e+"-"+id).removeClass("display-none"),$(".input-name-"+e+"-"+id).addClass("display-none"),$(".input-name-"+e+"-"+id).val($(".name-"+e+"-"+id).text()),$(".responsibilities-"+e+"-"+id).removeClass("display-none"),$(".input-responsibilities-"+e+"-"+id).addClass("display-none"),$(".input-responsibilities-"+e+"-"+id).val($(".responsibilities-"+e+"-"+id).text()),$(".position-"+e+"-"+id).removeClass("display-none"),$(".input-position-"+e+"-"+id).addClass("display-none"),$(".input-position-"+e+"-"+id).val($(".position-"+e+"-"+id).text()),$(".contact-"+e+"-"+id).removeClass("display-none"),$(".input-contact-"+e+"-"+id).addClass("display-none"),$(".input-contact-"+e+"-"+id).val($(".contact-"+e+"-"+id).text())):r==TYPE_TOOL_AND_INFRASTRUCTURE?($(".soft_hard_ware-"+e+"-"+id).removeClass("display-none"),$(".input-soft_hard_ware-"+e+"-"+id).addClass("display-none"),$(".input-soft_hard_ware-"+e+"-"+id).val($(".soft_hard_ware-"+e+"-"+id).text()),$(".purpose-"+e+"-"+id).removeClass("display-none"),$(".input-purpose-"+e+"-"+id).addClass("display-none"),$(".input-purpose-"+e+"-"+id).val($(".purpose-"+e+"-"+id).text()),$(".start-date-"+e+"-"+id).removeClass("display-none"),$(".input-start-date-"+e+"-"+id).addClass("display-none"),$(".input-start-date-"+e+"-"+id).val($(".start-date-"+e+"-"+id).text()),$(".end-date-"+e+"-"+id).removeClass("display-none"),$(".input-end-date-"+e+"-"+id).addClass("display-none"),$(".input-end-date-"+e+"-"+id).val($(".end-date-"+e+"-"+id).text()),$(".note-"+e+"-"+id).removeClass("display-none"),$(".input-note-"+e+"-"+id).addClass("display-none"),$(".input-note-"+e+"-"+id).val($(".note-"+e+"-"+id).text())):r==TYPE_WO_DEVICES_EXPENSE?($(".time-"+e+"-"+id).removeClass("display-none"),$(".input-time-"+e+"-"+id).addClass("display-none"),$(".input-stime-"+e+"-"+id).val($(".time-"+e+"-"+id).text()),$(".amount-"+e+"-"+id).removeClass("display-none"),$(".input-amount-"+e+"-"+id).addClass("display-none"),$(".input-amount-"+e+"-"+id).val($(".amount-"+e+"-"+id).text()),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text())):($(".content-"+e+"-"+id).removeClass("display-none"),$(".input-content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).val($(".content-"+e+"-"+id).text()),$(".expected_date-"+e+"-"+id).removeClass("display-none"),$(".input-expected_date-"+e+"-"+id).addClass("display-none"),$(".input-expected_date-"+e+"-"+id).val($(".expected_date-"+e+"-"+id).text()))}function saveWorkorderApproved(e,t,r,a){if(a=assignDefaultValue(a),id=$(t).data("id"),status=$(t).data("status"),$(".error-validate-"+e+"-"+id).remove(),$(".input-"+e+"-"+id).removeClass("error"),!$(t).data("requestRunning")){if($(t).data("requestRunning",!0),$(t).addClass("display-none"),$("#loading-item-"+a+"-"+id).removeClass("display-none"),a==TYPE_DELIVERABLE)stageOld=$(t).attr("data-stage"),title=$(".input-title-"+e+"-"+id).val(),committed_date=$(".input-committed_date-"+e+"-"+id).val(),re_commited_date=$(".input-re_commited_date-"+e+"-"+id).val(),actual_date=$(".input-actual_date-"+e+"-"+id).val(),change_request_by=$(".input-change_request_by-"+e+"-"+id).val(),stage=$(".input-stage-"+e+"-"+id).val(),note=$(".input-note-"+e+"-"+id).val(),data={_token:token,title_1:title,committed_date_1:committed_date,re_commited_date_1:re_commited_date,actual_date_1:actual_date,change_request_by_1:change_request_by,stage_1:stage,note_1:note,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id};else if(a==TYPE_STAGE_AND_MILESTONE)stage=$(".input-stage-"+e+"-"+id).val(),stageText=$(".input-stage-"+e+"-"+id+" option[value="+stage+"]").text(),description=$(".input-description-"+e+"-"+id).val(),milestone=$(".input-milestone-"+e+"-"+id).val(),qua_gate_actual=$(".input-qua_gate_actual-"+e+"-"+id).val(),qua_gate_plan=$(".input-qua_gate_plan-"+e+"-"+id).val(),qua_gate_result=$(".span-qua_gate_result-"+e+"-"+id+" input[name=qua_gate_result-"+id+"]:checked").val(),data={_token:token,stage_1:stage,description_1:description,milestone_1:milestone,qua_gate_actual_1:qua_gate_actual,qua_gate_plan_1:qua_gate_plan,qua_gate_result_1:qua_gate_result,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id};else if(a==TYPE_ASSUMPTIONS)description=$(".input-description-"+e+"-"+id).val(),remark=$(".input-remark-"+e+"-"+id).val(),data={_token:token,description_1:description,remark_1:remark,number_record:1,isEdit:!0,status:status,type:typeAssumption,project_id:project_id,id:id};else if(a==TYPE_COMMUNICATION_MEETING)typeProj=$(".input-type-"+e+"-"+id).val(),method=$(".input-method-"+e+"-"+id).val(),time=$(".input-time-"+e+"-"+id).val(),information=$(".input-information-"+e+"-"+id).val(),stakeholder=$(".input-stakeholder-"+e+"-"+id).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,number_record:1,isEdit:!0,status:status,type_task:typeMeetingCom,project_id:project_id,id:id};else if(a==TYPE_COMMUNICATION_REPORT)typeProj=$(".input-type-"+e+"-"+id).val(),method=$(".input-method-"+e+"-"+id).val(),time=$(".input-time-"+e+"-"+id).val(),information=$(".input-information-"+e+"-"+id).val(),stakeholder=$(".input-stakeholder-"+e+"-"+id).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,number_record:1,isEdit:!0,status:status,type_task:typeReportCom,project_id:project_id,id:id};else if(a==TYPE_COMMUNICATION_OTHER)typeProj=$(".input-type-"+e+"-"+id).val(),method=$(".input-method-"+e+"-"+id).val(),time=$(".input-time-"+e+"-"+id).val(),information=$(".input-information-"+e+"-"+id).val(),stakeholder=$(".input-stakeholder-"+e+"-"+id).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,number_record:1,isEdit:!0,status:status,type_task:typeOtherCom,project_id:project_id,id:id};else if(a==TYPE_CONSTRAINTS)description=$(".input-description-"+e+"-"+id).val(),remark=$(".input-remark-"+e+"-"+id).val(),data={_token:token,description_1:description,remark_1:remark,number_record:1,isEdit:!0,status:status,type:typeConstraints,project_id:project_id,id:id};else if(a==TYPE_SKILL_REQUEST)skill=$(".input-skill-"+e+"-"+id).val(),category=$(".input-category-"+e+"-"+id).val(),course_name=$(".input-course_name-"+e+"-"+id).val(),mode=$(".input-mode-"+e+"-"+id).val(),provider=$(".input-provider-"+e+"-"+id).val(),required_role=$(".input-required_role-"+e+"-"+id).val(),hours=$(".input-hours-"+e+"-"+id).val(),level=$(".input-level-"+e+"-"+id).val(),remark=$(".input-remark-"+e+"-"+id).val(),data={_token:token,skill_1:skill,category_1:category,course_name_1:course_name,mode_1:mode,provider_1:provider,required_role_1:required_role,hours_1:hours,level_1:level,remark_1:remark,number_record:1,isEdit:!0,project_id:project_id,id:id};else if(a==TYPE_TRAINING)topic=$(".input-topic-"+e+"-"+id).val(),description=$(".input-description-"+e+"-"+id).val(),participants=$(".input-participants-"+e+"-"+id).val(),start_at=$(".input-start_at-"+e+"-"+id).val(),end_at=$(".input-end_at-"+e+"-"+id).val(),result=$(".input-result-"+e+"-"+id).val(),time=$(".input-time-"+e+"-"+id).val(),walver_criteria=$(".input-walver_criteria-"+e+"-"+id).val(),data={_token:token,topic_1:topic,description_1:description,member_1:participants,start_at_1:start_at,end_at_1:end_at,result:result,walver_criteria_1:walver_criteria,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id};else if(a==TYPE_MEMBER_COMMUNICATION)employee=$(".input-member-"+e+"-"+id).val(),role=$(".input-role-"+e+"-"+id).val(),contact_address=$(".input-contact_address-"+e+"-"+id).val(),responsibility=$(".input-responsibility-"+e+"-"+id).val(),data={_token:token,employee_1:employee,role_1:role,contact_address_1:contact_address,responsibility_1:responsibility,type:typeMemberCommunication,number_record:1,isEdit:!0,project_id:project_id,id:id};else if(a==TYPE_CUSTOMER_COMMUNICATION)employee=$(".input-customer-"+e+"-"+id).val(),role=$(".input-role-"+e+"-"+id).val(),contact_address=$(".input-contact_address-"+e+"-"+id).val(),responsibility=$(".input-responsibility-"+e+"-"+id).val(),data={_token:token,employee_1:employee,role_1:role,contact_address_1:contact_address,responsibility_1:responsibility,type:typeCustomerCommunication,number_record:1,isEdit:!0,project_id:project_id,id:id};else if(a==TYPE_SECURITY)content=$(".input-content-"+e+"-"+id).val(),description=$(".input-description-"+e+"-"+id).val(),participants=$(".input-participants-"+e+"-"+id).val(),period=$(".input-period-"+e+"-"+id).val(),procedure=$(".input-procedure-"+e+"-"+id).val(),data={_token:token,content_1:content,description_1:description,member_1:participants,period_1:period,procedure_1:procedure,number_record:1,isEdit:!0,project_id:project_id,id:id};else if(a==TYPE_PROJECT_MEMBER)typeMember=$(".input-type-"+e+"-"+id).val(),employee_id=$(".input-employee_id-"+e+"-"+id).val(),start_at=$(".input-start_at-"+e+"-"+id).val(),end_at=$(".input-end_at-"+e+"-"+id).val(),effort=$(".input-effort-"+e+"-"+id).val(),projMemberProgLangs=$("select.input-prog-"+e+"-"+id).length?$("select.input-prog-"+e+"-"+id).val():$("input.input-prog-"+e+"-"+id).val(),data={_token:token,type:typeMember,employee_id:employee_id,start_at:start_at,end_at:end_at,effort:effort,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id,prog_langs:projMemberProgLangs};else if(a==TYPE_COMMUNICATION)content=$(".input-content-"+e+"-"+id).val(),data={_token:token,content_1:content,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id};else if(a==TYPE_EXTERNAL_INTERFACE)name=$(".input-name-"+e+"-"+id).val(),position=$(".input-position-"+e+"-"+id).val(),responsibilities=$(".input-responsibilities-"+e+"-"+id).val(),contact=$(".input-contact-"+e+"-"+id).val(),data={_token:token,name_1:name,position_1:position,responsibilities_1:responsibilities,contact_1:contact,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id};else if(a==TYPE_TOOL_AND_INFRASTRUCTURE)soft_ware_id=$(".input-soft_hard_ware-"+e+"-"+id).val(),soft_hard_ware=$(".input-soft_hard_ware-"+e+"-"+id+" option[value="+soft_ware_id+"]").text(),purpose=$(".input-purpose-"+e+"-"+id).val(),start_date=$(".input-start-date-"+e+"-"+id).val(),end_date=$(".input-end-date-"+e+"-"+id).val(),note=$(".input-note-"+e+"-"+id).val(),data={_token:token,soft_hard_ware_1:soft_hard_ware,soft_ware_id_1:soft_ware_id,purpose_1:purpose,start_date_1:start_date,end_date_1:end_date,note_1:note,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id},globalData=data,globalurl=r,globalClassName=e;else if(a==TYPE_WO_DEVICES_EXPENSE){date=$(".input-time-"+e+"-"+id).val(),amount=$(".input-amount-"+e+"-"+id).val().split(",");var o=parseFloat(amount[0].split(".").join(""));description=$(".input-description-"+e+"-"+id).val(),data={_token:token,time_1:date,amount_1:o,purpose_1:purpose,description_1:description,number_record:1,isEdit:!0,project_id:project_id,id:id}}else content=$(".input-content-"+e+"-"+id).val(),expected_date=$(".input-expected_date-"+e+"-"+id).val(),data={_token:token,content_1:content,expected_date_1:expected_date,number_record:1,isEdit:!0,status:status,project_id:project_id,id:id};$.ajax({url:r,type:"post",data:data,dataType:"json",success:function(t){t.status?(a==TYPE_DELIVERABLE&&(btnDeleteDeliverable=$(".delete-deliverable"),countDeliver=0,btnDeleteDeliverable.each(function(){$(this).attr("data-stage")==stageOld&&countDeliver++})),showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),dataSort=getDataColumSort(a),$(".workorder-"+e).html(t.content),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),a==TYPE_PROJECT_MEMBER&&($(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),iniTableSorter(dataSort),t.effort&&($(".team-size").html(t.effort.count),$(".effort-usage").html(t.effort.total),$(".effort-dev").html(t.effort.dev),$(".effort-pm").html(t.effort.pm),$(".effort-qa").html(t.effort.qa))),a==TYPE_ASSUMPTIONS&&$("#workorder_assumptions").html(t.content),a==TYPE_CONSTRAINTS&&$("#workorder_constraints").html(t.content),a==TYPE_CRITICAL_DEPENDENCIES&&$("#workorder_critical-dependencies").html(t.content),a==TYPE_SKILL_REQUEST&&$("#workorder_skill_request").html(t.content),a==TYPE_MEMBER_COMMUNICATION&&$("#workorder_member_communication").html(t.content),a!=TYPE_COMMUNICATION_MEETING&&a!=TYPE_COMMUNICATION_REPORT&&a!=TYPE_COMMUNICATION_OTHER||$("#workorder_communication").html(t.content),a==TYPE_CUSTOMER_COMMUNICATION&&$("#workorder_customer_communication").html(t.content),a==TYPE_STAGE_AND_MILESTONE&&($(".option-select-stage-"+id).text(stageText),$(".stage-name-"+id).text(stageText),$(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),classStageName=$(".stage-name-"+id),classStageName.each(function(e,t){$(this).hasClass("display-none")&&$(this).parent(".td-deliverable").find(".select2-container").addClass("display-block select2-container--focus")})),a==TYPE_DELIVERABLE&&($(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),countDeliver<=1&&$(".delete-stage-and-milestone-"+stageOld).removeClass("display-none"),$(".delete-stage-and-milestone-"+stage).addClass("display-none")),a==TYPE_WO_DEVICES_EXPENSE&&$("#table-derived-expenses input.time-datepicker").datepicker({format:"yyyy-mm",weekStart:1,todayHighlight:!0,autoclose:!0,viewMode:"months",minViewMode:"months"})):(t.message_error&&(t.message_error.title_1&&$(".input-title-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.title_1[0]+"</p>"),t.message_error.committed_date_1&&$(".input-committed_date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.committed_date_1[0]+"</p>"),t.message_error.actual_date_1&&$(".input-actual_date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.actual_date_1[0]+"</p>"),t.message_error.re_commited_date_1&&$(".input-re_commited_date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.re_commited_date_1[0]+"</p>"),t.message_error.change_request_by_1&&$(".input-change_request_by-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.change_request_by_1[0]+"</p>"),t.message_error.note_1&&$(".input-note-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.note_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-stage-"+id+" .td-stage .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.stage_1[0]+"</p>"),t.message_error.content_1&&$(".input-content-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.content_1[0]+"</p>"),t.message_error.description_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description">'+t.message_error.description_1[0]+"</p>"),t.message_error.topic_1&&$(".input-topic-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="topic">'+t.message_error.topic_1[0]+"</p>"),t.message_error.skill_1&&$(".input-skill-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="skill">'+t.message_error.skill_1[0]+"</p>"),t.message_error.category_1&&$(".input-category-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="category">'+t.message_error.category_1[0]+"</p>"),t.message_error.course_name_1&&$(".input-course_name-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="course_name">'+t.message_error.course_name_1[0]+"</p>"),t.message_error.mode_1&&$(".input-mode-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="mode">'+t.message_error.mode_1[0]+"</p>"),t.message_error.provider_1&&$(".input-provider-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="provider">'+t.message_error.provider_1[0]+"</p>"),t.message_error.required_role_1&&$(".input-required_role-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="required_role">'+t.message_error.required_role_1[0]+"</p>"),t.message_error.hours_1&&$(".input-hours-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="hours">'+t.message_error.hours_1[0]+"</p>"),t.message_error.level_1&&$(".input-level-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="level">'+t.message_error.level_1[0]+"</p>"),t.message_error.remark_1&&$(".input-remark-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="remark">'+t.message_error.remark_1[0]+"</p>"),t.message_error.customer_1&&$(".input-customer-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="customer">'+t.message_error.customer_1[0]+"</p>"),t.message_error.participants_1&&$(".input-participants-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="participants">'+t.message_error.participants_1[0]+"</p>"),t.message_error.role_member_communication_1&&$(".input-role-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="member_communication">'+t.message_error.role_member_communication_1[0]+"</p>"),t.message_error.role_customer_communication_1&&$(".input-role-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="customer_communication">'+t.message_error.role_customer_communication_1[0]+"</p>"),t.message_error.time_1&&$(".input-time-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="time">'+t.message_error.time_1[0]+"</p>"),t.message_error.milestone_1&&$(".input-milestone-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="milestone">'+t.message_error.milestone_1[0]+"</p>"),t.message_error.walver_criteria_1&&$(".input-walver_criteria-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="walver_criteria">'+t.message_error.walver_criteria_1[0]+"</p>"),t.message_error.name_1&&$(".input-name-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="name">'+t.message_error.name_1[0]+"</p>"),t.message_error.position_1&&$(".input-position-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="position">'+t.message_error.position_1[0]+"</p>"),t.message_error.responsibilities_1&&$(".input-responsibilities-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="responsibilities">'+t.message_error.responsibilities_1[0]+"</p>"),t.message_error.description_constraints_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description_constraints">'+t.message_error.description_constraints_1[0]+"</p>"),t.message_error.description_assumptions_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description_assumptions">'+t.message_error.description_assumptions_1[0]+"</p>"),t.message_error.description_security_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description_security">'+t.message_error.description_security_1[0]+"</p>"),t.message_error.period_security_1&&$(".input-period-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="period_security">'+t.message_error.period_security_1[0]+"</p>"),t.message_error.procedure_security_1&&$(".input-procedure-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="procedure_security">'+t.message_error.procedure_security_1[0]+"</p>"),t.message_error.contact_1&&$(".input-contact-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="contact">'+t.message_error.contact_1[0]+"</p>"),t.message_error.type_1&&$(".input-type-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="type">'+t.message_error.type_1[0]+"</p>"),t.message_error.method_1&&$(".input-method-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="method">'+t.message_error.method_1[0]+"</p>"),t.message_error.soft_hard_ware_1&&$(".input-soft_hard_ware-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="soft_hard_ware">'+t.message_error.soft_hard_ware_1[0]+"</p>"),t.message_error.purpose_1&&$(".input-purpose-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="purpose">'+t.message_error.purpose_1[0]+"</p>"),t.message_error.employee_id&&$(".tr-project-"+id+" .td-employee .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="employee_id">'+t.message_error.employee_id[0]+"</p>"),t.message_error.start_at&&$(".input-start_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="start_at">'+t.message_error.start_at[0]+"</p>"),t.message_error.end_at&&$(".input-end_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="end_at">'+t.message_error.end_at[0]+"</p>"),t.message_error.type&&$(".tr-project-"+id+" .td-type .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="type">'+t.message_error.type[0]+"</p>"),t.message_error.effort&&$(".input-effort-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="effort">'+t.message_error.effort[0]+"</p>"),t.message_error.qua_gate_plan_1&&$(".input-qua_gate_plan-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="effort">'+t.message_error.qua_gate_plan_1[0]+"</p>"),t.message_error.qua_gate_actual_1&&$(".input-qua_gate_actual-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="effort">'+t.message_error.qua_gate_actual_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-deliverable-"+id+" .td-deliverable .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.stage_1[0]+"</p>"),t.message_error.start_at_1&&$(".input-start_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="start_at">'+t.message_error.start_at_1[0]+"</p>"),t.message_error.end_at_1&&$(".input-end_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="end_at">'+t.message_error.end_at_1[0]+"</p>"),t.message_error.member_1&&$(".tr-training-"+id+" .td-training-member .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate">'+t.message_error.member_1[0]+"</p>"),t.message_error.member_1&&$(".tr-security-"+id+" .td-security-member .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate">'+t.message_error.member_1[0]+"</p>"),t.message_error.start_date_1&&$(".input-start-date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="start_date">'+t.message_error.start_date_1[0]+"</p>"),t.message_error.end_date_1&&$(".input-end-date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="end_date">'+t.message_error.end_date_1[0]+"</p>"),t.message_error.amount_1&&$(".input-amount-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="amount">'+t.message_error.amount_1[0]+"</p>")),a==TYPE_PROJECT_MEMBER&&t.message&&($("#modal-warning-notification .text-default").html(t.message),$("#modal-warning-notification").modal("show")),"undefined"!=typeof t.popuperror&&1==t.popuperror&&("undefined"!=typeof t.reload&&1==t.reload?window.location.reload():($(".warning-action").attr("data-noti",t.message_error),$(".warning-action").trigger("click"))),t.warning&&($(".show-warning").remove(),$(".end-date-"+e).after('<button class="show-warning hidden" type="button" data-noti="'+t.content+'"></button>'),$(".show-warning").addClass("warn-confirm").click()))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$(t).data("requestRunning",!1),$(t).removeClass("display-none"),$("#loading-item-"+a+"-"+id).addClass("display-none")}})}}function saveDraftWorkorderApproved(e,t,r,a){if(a=assignDefaultValue(a),$(".error-validate-"+e).remove(),!$(t).data("requestRunning")){if($(t).data("requestRunning",!0),dataId=$(t).data("id"),$(t).addClass("display-none"),$(".tr-"+e+"-new .loading-item-"+a).removeClass("display-none"),a==TYPE_DELIVERABLE)stageOld=$(t).attr("data-stage"),title=$(".add-title-"+e+"-new-"+dataId).val(),committed_date=$(".add-committed_date-"+e+"-new-"+dataId).val(),re_commited_date=$(".add-re_commited_date-"+e+"-new-"+dataId).val(),actual_date=$(".add-actual_date-"+e+"-new-"+dataId).val(),
stage=$(".add-stage-"+e+"-new-"+dataId).val(),note=$(".add-note-"+e+"-new-"+dataId).val(),change_request_by=$(".add-change_request_by-"+e+"-new-"+dataId).val(),data={_token:token,title_1:title,committed_date_1:committed_date,re_commited_date_1:re_commited_date,actual_date_1:actual_date,stage_1:stage,note_1:note,number_record:1,isAddNew:!0,project_id:project_id,change_request_by_1:change_request_by};else if(a==TYPE_STAGE_AND_MILESTONE)stage=$(".add-stage-"+e+"-new-"+dataId).val(),stageName=$(".add-stage-"+e+"-new-"+dataId+" option[value="+stage+"]").text(),description=$(".add-description-"+e+"-new-"+dataId).val(),milestone=$(".add-milestone-"+e+"-new-"+dataId).val(),qua_gate_actual=$(".add-qua_gate_actual-"+e+"-new-"+dataId).val(),qua_gate_plan=$(".add-qua_gate_plan-"+e+"-new-"+dataId).val(),qua_gate_result=$(".add-qua_gate_result-"+e+"-new-"+dataId+" input[name=qua_gate_result]:checked").val(),data={_token:token,stage_1:stage,description_1:description,milestone_1:milestone,qua_gate_actual_1:qua_gate_actual,qua_gate_plan_1:qua_gate_plan,qua_gate_result_1:qua_gate_result,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_ASSUMPTIONS)description=$(".add-description-"+e+"-new-"+dataId).val(),remark=$(".add-remark-"+e+"-new-"+dataId).val(),data={_token:token,description_1:description,remark_1:remark,number_record:1,isAddNew:!0,type:typeAssumption,project_id:project_id};else if(a==TYPE_CONSTRAINTS)description=$(".add-description-"+e+"-new-"+dataId).val(),remark=$(".add-remark-"+e+"-new-"+dataId).val(),data={_token:token,description_1:description,remark_1:remark,number_record:1,isAddNew:!0,type:typeConstraints,project_id:project_id};else if(a==TYPE_SKILL_REQUEST)skill=$(".add-skill-"+e+"-new-"+dataId).val(),category=$(".add-category-"+e+"-new-"+dataId).val(),course_name=$(".add-course_name-"+e+"-new-"+dataId).val(),mode=$(".add-mode-"+e+"-new-"+dataId).val(),provider=$(".add-provider-"+e+"-new-"+dataId).val(),required_role=$(".add-required_role-"+e+"-new-"+dataId).val(),hours=$(".add-hours-"+e+"-new-"+dataId).val(),level=$(".add-level-"+e+"-new-"+dataId).val(),remark=$(".add-remark-"+e+"-new-"+dataId).val(),data={_token:token,skill_1:skill,category_1:category,course_name_1:course_name,mode_1:mode,provider_1:provider,required_role_1:required_role,hours_1:hours,level_1:level,remark_1:remark,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_SECURITY)content=$(".add-content-"+e+"-new-"+dataId).val(),description=$(".add-description-"+e+"-new-"+dataId).val(),procedure=$(".add-procedure-"+e+"-new-"+dataId).val(),period=$(".add-period-"+e+"-new-"+dataId).val(),employee=$(".add-security-member-"+e+"-new-"+dataId).val(),data={_token:token,content_1:content,description_1:description,procedure_1:procedure,period_1:period,member_1:employee,number_record:1,isAddNew:!0,type:typeConstraints,project_id:project_id};else if(a==TYPE_TRAINING)topic=$(".add-topic-"+e+"-new-"+dataId).val(),description=$(".add-description-"+e+"-new-"+dataId).val(),participants=$(".add-training-member-"+e+"-new-"+dataId).val(),start_at=$(".add-start_at-"+e+"-new-"+dataId).val(),end_at=$(".add-end_at-"+e+"-new-"+dataId).val(),result=$(".add-result-"+e+"-new-"+dataId).val(),walver_criteria=$(".add-walver_criteria-"+e+"-new-"+dataId).val(),data={_token:token,topic_1:topic,description_1:description,member_1:participants,start_at_1:start_at,end_at_1:end_at,result:result,walver_criteria_1:walver_criteria,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_COMMUNICATION_MEETING)typeProj=$(".add-type-"+e+"-new-"+dataId).val(),method=$(".add-method-"+e+"-new-"+dataId).val(),time=$(".add-time-"+e+"-new-"+dataId).val(),information=$(".add-information-"+e+"-new-"+dataId).val(),stakeholder=$(".add-stakeholder-"+e+"-new-"+dataId).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,type_task:typeMeetingCom,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_COMMUNICATION_REPORT)typeProj=$(".add-type-"+e+"-new-"+dataId).val(),method=$(".add-method-"+e+"-new-"+dataId).val(),time=$(".add-time-"+e+"-new-"+dataId).val(),information=$(".add-information-"+e+"-new-"+dataId).val(),stakeholder=$(".add-stakeholder-"+e+"-new-"+dataId).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,type_task:typeReportCom,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_COMMUNICATION_OTHER)typeProj=$(".add-type-"+e+"-new-"+dataId).val(),method=$(".add-method-"+e+"-new-"+dataId).val(),time=$(".add-time-"+e+"-new-"+dataId).val(),information=$(".add-information-"+e+"-new-"+dataId).val(),stakeholder=$(".add-stakeholder-"+e+"-new-"+dataId).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,type_task:typeOtherCom,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_MEMBER_COMMUNICATION)employee=$(".add-member_communication-member-"+e+"-new-"+dataId).val(),role=$(".add-member_communication-role-"+e+"-new-"+dataId).val(),contact_address=$(".add-contact_address-"+e+"-new-"+dataId).val(),responsibility=$(".add-responsibility-"+e+"-new-"+dataId).val(),data={_token:token,employee_1:employee,contact_address_1:contact_address,role_1:role,type:typeMemberCommunication,responsibility_1:responsibility,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_CUSTOMER_COMMUNICATION)employee=$(".add-customer-"+e+"-new-"+dataId).val(),role=$(".add-customer_communication-role-"+e+"-new-"+dataId).val(),contact_address=$(".add-contact_address-"+e+"-new-"+dataId).val(),responsibility=$(".add-responsibility-"+e+"-new-"+dataId).val(),data={_token:token,employee_1:employee,contact_address_1:contact_address,role_1:role,type:typeCustomerCommunication,responsibility_1:responsibility,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_PROJECT_MEMBER)typeMember=$(".add-type-"+e+"-new-"+dataId).val(),employee_id=$(".add-employee_id-"+e+"-new-"+dataId).val(),start_at=$(".add-start_at-"+e+"-new-"+dataId).val(),end_at=$(".add-end_at-"+e+"-new-"+dataId).val(),effort=$(".add-effort-"+e+"-new-"+dataId).val(),projMemberProgLangs=$("select.add-prog-"+e+"-new-"+dataId).length?$("select.add-prog-"+e+"-new-"+dataId).val():$("input.add-prog-"+e+"-new-"+dataId).val(),data={_token:token,type:typeMember,employee_id:employee_id,start_at:start_at,end_at:end_at,effort:effort,number_record:1,isAddNew:!0,project_id:project_id,prog_langs:projMemberProgLangs};else if(a==TYPE_COMMUNICATION)content=$(".add-content-"+e+"-new-"+dataId).val(),data={_token:token,content_1:content,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_EXTERNAL_INTERFACE)name=$(".add-name-"+e+"-new-"+dataId).val(),position=$(".add-position-"+e+"-new-"+dataId).val(),responsibilities=$(".add-responsibilities-"+e+"-new-"+dataId).val(),contact=$(".add-contact-"+e+"-new-"+dataId).val(),data={_token:token,name_1:name,position_1:position,responsibilities_1:responsibilities,contact_1:contact,number_record:1,isAddNew:!0,project_id:project_id};else if(a==TYPE_WO_DEVICES_EXPENSE){date=$(".add-time-"+e+"-new-"+dataId).val(),amount=$(".add-amount-"+e+"-new-"+dataId).val().split(",");var o=parseFloat(amount[0].split(".").join(""));description=$(".add-description-"+e+"-new-"+dataId).val(),data={_token:token,time_1:date,amount_1:o,description_1:description,number_record:1,isAddNew:!0,project_id:project_id}}else a==TYPE_TOOL_AND_INFRASTRUCTURE?(soft_ware_id=$(".add-soft_hard_ware-"+e+"-new-"+dataId).val(),soft_hard_ware=$(".add-soft_hard_ware-"+e+"-new-"+dataId+" option[value="+soft_ware_id+"]").text(),purpose=$(".add-purpose-"+e+"-new-"+dataId).val(),note=$(".add-note-"+e+"-new-"+dataId).val(),start_date=$(".add-start-date-"+e+"-new-"+dataId).val(),end_date=$(".add-end-date-"+e+"-new-"+dataId).val(),data={_token:token,soft_hard_ware_1:soft_hard_ware,soft_ware_id_1:soft_ware_id,purpose_1:purpose,note_1:note,start_date_1:start_date,end_date_1:end_date,number_record:1,isAddNew:!0,project_id:project_id},globalData=data,globalurl=r,globalClassName=e):(content=$(".add-content-"+e+"-new-"+dataId).val(),expected_date=$(".expected_date-"+e).val(),data={_token:token,content_1:content,expected_date_1:expected_date,number_record:1,isAddNew:!0,project_id:project_id});$.ajax({url:r,type:"post",data:data,dataType:"json",success:function(t){t.status?(a==TYPE_DELIVERABLE&&(btnDeleteDeliverable=$(".delete-deliverable"),countDeliver=0,btnDeleteDeliverable.each(function(){$(this).attr("data-stage")==stageOld&&countDeliver++}),countDeliver<=1&&$(".delete-stage-and-milestone-"+stageOld).removeClass("display-none"),$(".delete-stage-and-milestone-"+stage).addClass("display-none")),dataColumn=getDataColumSort(a),showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),$(".workorder-"+e).html(t.content),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),a==TYPE_PROJECT_MEMBER&&($(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),iniTableSorter(dataColumn),t.effort&&($(".team-size").html(t.effort.count),$(".effort-usage").html(t.effort.total),$(".effort-dev").html(t.effort.dev),$(".effort-pm").html(t.effort.pm),$(".effort-qa").html(t.effort.qa))),a==TYPE_STAGE_AND_MILESTONE&&($(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),$(".select-stage-custom").append($("<option></option>").attr("value",t.id).text(stageName))),a==TYPE_DELIVERABLE&&$(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),a==TYPE_ASSUMPTIONS&&$("#workorder_assumptions").html(t.content),a==TYPE_CONSTRAINTS&&$("#workorder_constraints").html(t.content),a==TYPE_CRITICAL_DEPENDENCIES&&$("#workorder_critical-dependencies").html(t.content),a==TYPE_SECURITY&&$("#workorder_security").html(t.content),a==TYPE_SKILL_REQUEST&&$("#workorder_skill_request").html(t.content),a==TYPE_MEMBER_COMMUNICATION&&$("#workorder_member_communication").html(t.content),a!=TYPE_COMMUNICATION_MEETING&&a!=TYPE_COMMUNICATION_REPORT&&a!=TYPE_COMMUNICATION_OTHER||$("#workorder_communication").html(t.content),a==TYPE_CUSTOMER_COMMUNICATION&&$("#workorder_customer_communication").html(t.content)):(t.message_error&&(t.message_error.title_1&&$(".title-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="content">'+t.message_error.title_1[0]+"</p>"),t.message_error.committed_date_1&&$(".committed_date-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="content">'+t.message_error.committed_date_1[0]+"</p>"),t.message_error.actual_date_1&&$(".actual_date-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="content">'+t.message_error.actual_date_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-stage-and-milestone-new .td-stage .select2-container").after('<p class="word-break error-validate-'+e+' error-validate" for="type">'+t.message_error.stage_1[0]+"</p>"),t.message_error.skill_1&&$(".skill-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="skill">'+t.message_error.skill_1[0]+"</p>"),t.message_error.course_name_1&&$(".course_name-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="course_name">'+t.message_error.course_name_1[0]+"</p>"),t.message_error.category_1&&$(".category-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="category">'+t.message_error.category_1[0]+"</p>"),t.message_error.hours_1&&$(".hours-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="hours">'+t.message_error.hours_1[0]+"</p>"),t.message_error.level_1&&$(".level-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="level">'+t.message_error.level_1[0]+"</p>"),t.message_error.mode_1&&$(".mode-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="mode">'+t.message_error.mode_1[0]+"</p>"),t.message_error.provider_1&&$(".provider-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="provider">'+t.message_error.provider_1[0]+"</p>"),t.message_error.required_role_1&&$(".required_role-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="required_role">'+t.message_error.required_role_1[0]+"</p>"),t.message_error.remark_1&&$(".remark-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="remark">'+t.message_error.remark_1[0]+"</p>"),t.message_error.customer_1&&$(".customer-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="customer">'+t.message_error.customer_1[0]+"</p>"),t.message_error.content_1&&$(".content-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="content">'+t.message_error.content_1[0]+"</p>"),t.message_error.description_1&&$(".description-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="description">'+t.message_error.description_1[0]+"</p>"),t.message_error.description_constraints_1&&$(".description-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="description_constraints">'+t.message_error.description_constraints_1[0]+"</p>"),t.message_error.role_member_communication_1&&$(".tr-member_communication .td-member_communication-role .select2-container").after('<p class="word-break error-validate-'+e+' error-validate" for="member_communication">'+t.message_error.role_member_communication_1[0]+"</p>"),t.message_error.role_customer_communication_1&&$(".tr-customer_communication .td-customer_communication-role .select2-container").after('<p class="word-break error-validate-'+e+' error-validate" for="customer_communication">'+t.message_error.role_customer_communication_1[0]+"</p>"),t.message_error.description_assumptions_1&&$(".description-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="description_assumptions">'+t.message_error.description_assumptions_1[0]+"</p>"),t.message_error.description_security_1&&$(".description-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="description_security">'+t.message_error.description_security_1[0]+"</p>"),t.message_error.period_security_1&&$(".period-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="period_security">'+t.message_error.period_security_1[0]+"</p>"),t.message_error.procedure_security_1&&$(".procedure-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="procedure_security">'+t.message_error.procedure_security_1[0]+"</p>"),t.message_error.milestone_1&&$(".milestone-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="milestone">'+t.message_error.milestone_1[0]+"</p>"),t.message_error.topic_1&&$(".topic-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="topic">'+t.message_error.topic_1[0]+"</p>"),t.message_error.participants_1&&$(".participants-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="participants">'+t.message_error.participants_1[0]+"</p>"),t.message_error.time_1&&$(".time-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="time">'+t.message_error.time_1[0]+"</p>"),t.message_error.walver_criteria_1&&$(".walver_criteria-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="walver_criteria">'+t.message_error.walver_criteria_1[0]+"</p>"),t.message_error.name_1&&$(".name-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="name">'+t.message_error.name_1[0]+"</p>"),t.message_error.position_1&&$(".position-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="position">'+t.message_error.position_1[0]+"</p>"),t.message_error.responsibilities_1&&$(".responsibilities-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="responsibilities">'+t.message_error.responsibilities_1[0]+"</p>"),t.message_error.contact_1&&$(".contact-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="contact">'+t.message_error.contact_1[0]+"</p>"),t.message_error.soft_hard_ware_1&&$(".soft_hard_ware-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="soft_hard_ware">'+t.message_error.soft_hard_ware_1[0]+"</p>"),t.message_error.purpose_1&&$(".purpose-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="purpose">'+t.message_error.purpose_1[0]+"</p>"),t.message_error.employee_id&&$(".tr-project-member-new .td-employee .select2-container").after('<p class="word-break error-validate-'+e+' error-validate" for="employee_id">'+t.message_error.employee_id[0]+"</p>"),t.message_error.start_at&&$(".start_at-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="start_at">'+t.message_error.start_at[0]+"</p>"),t.message_error.end_at&&$(".end_at-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="end_at">'+t.message_error.end_at[0]+"</p>"),t.message_error.description&&$(".description-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="description">'+t.message_error.description[0]+"</p>"),t.message_error.effort&&$(".effort-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="effort">'+t.message_error.effort[0]+"</p>"),t.message_error.type_1&&$(".type-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="type">'+t.message_error.type_1[0]+"</p>"),t.message_error.method_1&&$(".method-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="method">'+t.message_error.method_1[0]+"</p>"),t.message_error.type&&$(".tr-project-member-new .td-type .select2-container").after('<p class="word-break error-validate-'+e+' error-validate" for="type">'+t.message_error.type[0]+"</p>"),t.message_error.qua_gate_actual_1&&$(".qua_gate_actual-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="qua_gate_actual">'+t.message_error.qua_gate_actual_1[0]+"</p>"),t.message_error.qua_gate_plan_1&&$(".qua_gate_plan-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="qua_gate_plan">'+t.message_error.qua_gate_plan_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-deliverable-new .td-deliverable .select2-container").after('<p class="word-break error-validate-'+e+' error-validate" for="type">'+t.message_error.stage_1[0]+"</p>"),t.message_error.start_at_1&&$(".start_at-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="start_at">'+t.message_error.start_at_1[0]+"</p>"),t.message_error.end_at_1&&$(".end_at-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="end_at">'+t.message_error.end_at_1[0]+"</p>"),t.message_error.member_1&&$(".tr-training-new .td-training-member .select2-container").after('<p class="word-break error-validate-'+e+' error-validate">'+t.message_error.member_1[0]+"</p>"),t.message_error.employee_1&&$(".tr-member_communication-new .td-member_communication-member").after('<p class="word-break error-validate-'+e+' error-validate">'+t.message_error.employee_1[0]+"</p>"),t.message_error.role_1&&$(".tr-member_communication-new .td-member_communication-role").after('<p class="word-break error-validate-'+e+' error-validate">'+t.message_error.role_1[0]+"</p>"),t.message_error.member_1&&$(".tr-security-new .td-security-member .select2-container").after('<p class="word-break error-validate-'+e+' error-validate">'+t.message_error.member_1[0]+"</p>"),t.message_error.start_date_1&&$(".start-date-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="start_date">'+t.message_error.start_date_1[0]+"</p>"),t.message_error.end_date_1&&$(".end-date-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="end_date">'+t.message_error.end_date_1[0]+"</p>"),t.message_error.amount_1&&$(".amount-"+e).after('<p class="word-break error-validate-'+e+' error-validate" for="amount">'+t.message_error.amount_1[0]+"</p>")),"undefined"!=typeof t.popuperror&&1==t.popuperror&&("undefined"!=typeof t.reload&&1==t.reload?window.location.reload():($(".warning-action").attr("data-noti",t.message_error),$(".warning-action").trigger("click"))),t.warning&&($(".show-warning").remove(),$(".end-date-"+e).after('<button class="show-warning hidden" type="button" data-noti="'+t.content+'"></button>'),$(".show-warning").addClass("warn-confirm").click()))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$(t).data("requestRunning",!1),$(t).removeClass("display-none"),$(".tr-"+e+"-new .loading-item-"+a).addClass("display-none")}})}}function deleteWorkorderApproved(e,t,r,a){var a=assignDefaultValue(a);$("#modal-delete-confirm-new").modal("show"),$("#modal-delete-confirm-new .btn-ok").data("type",a),$("#modal-delete-confirm-new .btn-ok").data("className",e),dataId=$(t).data("id"),displayTextDeleteConfirm(t),dataClassName=e,dataUrl=r,a==TYPE_DELIVERABLE&&(dataStage=$(t).attr("data-stage")),$(document).on("click","#modal-delete-confirm-new .btn-ok",function(){if(typeElement=$(this).data("type"),e=$(this).data("className"),a==typeElement){if($("#modal-delete-confirm-new").modal("hide"),$("#loading-item-"+typeElement+"-"+dataId).removeClass("display-none"),$(".delete-"+e).addClass("display-none"),$(".edit-"+e).addClass("display-none"),$(this).data("requestRunning"))return;$(this).data("requestRunning",!0),isDelete=!0,data={_token:token,project_id:project_id,id:dataId,type:a,isDelete:isDelete},$.ajax({url:dataUrl,type:"post",dataType:"json",data:data,success:function(t){if(t.status)a==TYPE_DELIVERABLE&&(btnDeleteDeliverable=$(".delete-deliverable"),countDeliver=0,btnDeleteDeliverable.each(function(){$(this).attr("data-stage")==dataStage&&countDeliver++})),dataSort=getDataColumSort(a),showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),$("#modal-delete-confirm-new .btn-ok").removeAttr("type"),$("#modal-delete-confirm-new .btn-ok").removeAttr("className"),$(".workorder-"+e).html(t.content),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),typeElement==TYPE_PROJECT_MEMBER&&($(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),iniTableSorter(dataSort),t.effort&&($(".team-size").html(t.effort.count),$(".effort-usage").html(t.effort.total),$(".effort-dev").html(t.effort.dev),$(".effort-pm").html(t.effort.pm),$(".effort-qa").html(t.effort.qa))),typeElement==TYPE_STAGE_AND_MILESTONE&&($(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),$(".select-stage-custom option[value='"+dataId+"']").remove()),typeElement==TYPE_DELIVERABLE&&($(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),countDeliver<=1&&$(".delete-stage-and-milestone-"+dataStage).removeClass("display-none")),typeElement==TYPE_RISK&&location.reload(),typeElement==TYPE_ASSUMPTIONS&&$("#workorder_assumptions").html(t.content),typeElement==TYPE_CONSTRAINTS&&$("#workorder_constraints").html(t.content),a==TYPE_CRITICAL_DEPENDENCIES&&$("#workorder_critical-dependencies").html(t.content),a==TYPE_SECURITY&&$("#workorder_security").html(t.content),a==TYPE_SKILL_REQUEST&&$("#workorder_skill_request").html(t.content),a==TYPE_MEMBER_COMMUNICATION&&$("#workorder_member_communication").html(t.content),a!=TYPE_COMMUNICATION_MEETING&&a!=TYPE_COMMUNICATION_REPORT&&a!=TYPE_COMMUNICATION_OTHER||$("#workorder_communication").html(t.content),a==TYPE_CUSTOMER_COMMUNICATION&&$("#workorder_customer_communication").html(t.content);else{if("undefined"!=typeof t.popuperror&&1==t.popuperror){if("undefined"!=typeof t.reload&&1==t.reload)return window.location.reload(),!0;$(".warning-action").attr("data-noti",t.message_error),$(".warning-action").trigger("click")}typeElement==TYPE_PROJECT_MEMBER&&t.message?($("#modal-warning-notification .text-default").html(t.message),$("#modal-warning-notification").modal("show"),$("#loading-item-"+typeElement+"-"+dataId).addClass("display-none"),$(".delete-"+e).removeClass("display-none"),$(".edit-"+e).removeClass("display-none")):($("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show"))}},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$("#modal-delete-confirm-new .btn-ok").data("requestRunning",!1)}})}})}function showFormAddWorkorderNotApproved(e,t){$(".error-validate-"+e).remove(),t=assignDefaultValue(t),selectSearchReload(),setTimeout(function(){t==TYPE_STAGE_AND_MILESTONE?$(".stage-"+e).focus():t==TYPE_TRAINING?$(".topic-"+e).focus():t==TYPE_PROJECT_MEMBER?$(".type-"+e).focus():t==TYPE_EXTERNAL_INTERFACE?$(".name-"+e).focus():t==TYPE_TOOL_AND_INFRASTRUCTURE?$(".soft_hard_ware-"+e).focus():t==TYPE_DELIVERABLE?$(".title-"+e).focus():t==TYPE_WO_DEVICES_EXPENSE?$(".time-"+e).focus():$(".content-"+e).focus()},0),$(".tr-"+e).removeClass("display-none"),$(".tr-add-"+e).addClass("display-none"),$(".button-submit-"+e).removeClass("display-none"),t!=TYPE_STAGE_AND_MILESTONE&&t!=TYPE_DELIVERABLE&&$("#table-"+e+" tr:last td:first").html($("#table-"+e+" tr").length-2),t==TYPE_STAGE_AND_MILESTONE&&setTimeout(function(){$(".tr-stage-and-milestone select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_TOOL_AND_INFRASTRUCTURE&&setTimeout(function(){$(".tr-tool-and-infrastructure select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_TRAINING&&setTimeout(function(){$(".tr-training-hidden select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_CUSTOMER_COMMUNICATION&&setTimeout(function(){$(".tr-customer_communication-hidden select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_MEMBER_COMMUNICATION&&setTimeout(function(){$(".tr-member_communication-hidden select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_SECURITY&&setTimeout(function(){$(".tr-security-hidden select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_DELIVERABLE&&setTimeout(function(){$(".tr-deliverable select").select2().on("select2:close",function(e){tabToChange(e)})}),t==TYPE_CRITICAL_DEPENDENCIES&&setTimeout(function(){$(".critical-assignee-select2-new").select2({ajax:{url:urlSearchEmployee,dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page,projectId:projectId}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1})}),t==TYPE_ASSUMPTION_CONSTRAIN&&setTimeout(function(){$(".assignee-assumption-assignee-select2-new").select2({ajax:{url:urlSearchEmployee,dataType:"json",delay:250,data:function(e){return{q:e.term,page:e.page,projectId:projectId}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:30*t.page<e.total_count}}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1})}),t==TYPE_WO_DEVICES_EXPENSE&&$("#table-derived-expenses input.time-datepicker").datepicker({format:"yyyy-mm",weekStart:1,todayHighlight:!0,autoclose:!0,viewMode:"months",minViewMode:"months"}),$(".slove-"+e+" .remove-"+e).removeClass("display-none"),$(".slove-"+e+" .add-"+e).addClass("display-none")}function deleteWorkorderNotApproved(e,t,r,a){a=assignDefaultValue(a),$("#modal-delete-confirm-new").modal("show"),$("#modal-delete-confirm-new .btn-ok").data("type",a),$("#modal-delete-confirm-new .btn-ok").data("className",e),displayTextDeleteConfirm(t),dataId=$(t).data("id"),dataClassName=e,dataUrl=r,$(document).on("click","#modal-delete-confirm-new .btn-ok",function(){if(typeElement=$(this).data("type"),e=$(this).data("className"),a==typeElement){if($("#loading-item-"+a+"-"+dataId).removeClass("display-none"),$(".delete-"+e+"-"+dataId).addClass("display-none"),$(".edit-"+e+"-"+dataId).addClass("display-none"),$("#modal-delete-confirm-new").modal("hide"),$(this).data("requestRunning"))return;$(this).data("requestRunning",!0),isDelete=!0,data={_token:token,project_id:project_id,id:dataId,type:a,isDelete:isDelete},$.ajax({url:dataUrl,type:"post",dataType:"json",data:data,success:function(t){t.status?(showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),$("#modal-delete-confirm-new .btn-ok").removeAttr("type"),$("#modal-delete-confirm-new .btn-ok").removeAttr("className"),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),$(".workorder-"+e).html(t.content),a==TYPE_PROJECT_MEMBER&&($(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),iniTableSorter()),a==TYPE_STAGE_AND_MILESTONE&&($(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),$(".select-stage-custom option[value='"+dataId+"']").remove()),a==TYPE_DELIVERABLE&&$(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),a==TYPE_RISK&&location.reload(),a==TYPE_ASSUMPTIONS&&$("#workorder_assumptions").html(t.content),a==TYPE_CONSTRAINTS&&$("#workorder_constraints").html(t.content),a==TYPE_CRITICAL_DEPENDENCIES&&$("#workorder_critical-dependencies").html(t.content),a==TYPE_SECURITY&&$("#workorder_security").html(t.content),a==TYPE_MEMBER_COMMUNICATION&&$("#workorder_member_communication").html(t.content),a!=TYPE_COMMUNICATION_MEETING&&a!=TYPE_COMMUNICATION_REPORT&&a!=TYPE_COMMUNICATION_OTHER||$("#workorder_communication").html(t.content),a==TYPE_CUSTOMER_COMMUNICATION&&$("#workorder_customer_communication").html(t.content)):($("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show"))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$("#modal-delete-confirm-new .btn-ok").data("requestRunning",!1)}})}})}function removeFormAddWorkorderNotApproved(e,t){t=assignDefaultValue(t),$(".slove-"+e+" .remove-"+e).addClass("display-none"),$(".slove-"+e+" .add-"+e).removeClass("display-none"),$(".tr-"+e).addClass("display-none"),$(".tr-add-"+e).removeClass("display-none"),$(".button-submit-"+e).addClass("display-none"),t==TYPE_STAGE_AND_MILESTONE?($(".stage-"+e).val($(".stage-"+e+" option:first").val()),$(".description-"+e).val(""),$(".milestone-"+e).val(""),$(".qua_gate_plan-"+e).val(""),$(".qua_gate_actual-"+e).val("")):t==TYPE_TRAINING?($(".topic-"+e).val(""),$(".description-"+e).val(""),$(".participants-"+e).val(""),$(".time-"+e).val(""),$(".walver_criteria-"+e).val("")):t==TYPE_CUSTOMER_COMMUNICATION?($(".customer-"+e).val(""),$(".role-"+e).val(""),$(".contact_address-"+e).val(""),$(".responsibility-"+e).val("")):t==TYPE_SECURITY?($(".add-content-"+e).val(""),$(".add-description-"+e).val(""),$(".add-participants-"+e).val(""),$(".add-period-"+e).val(""),$(".add-procedure-"+e).val("")):t==TYPE_ASSUMPTIONS||t==TYPE_CONSTRAINTS?($(".description-"+e).val(""),$(".remark-"+e).val("")):t==TYPE_COMMUNICATION_MEETING||t==TYPE_COMMUNICATION_REPORT||t==TYPE_COMMUNICATION_OTHER?($(".add-type-"+e).val(""),$(".add-method-"+e).val(""),$(".add-time-"+e).val(""),$(".add-information-"+e).val(""),$(".add-stakeholder-"+e).val("")):t==TYPE_SKILL_REQUEST?($(".skill-"+e).val(""),$(".category-"+e).val(""),$(".course_name-"+e).val(""),$(".mode-"+e).val(""),$(".provider-"+e).val(""),$(".required_role-"+e).val(""),$(".hours-"+e).val(""),$(".level-"+e).val(""),$(".remark-"+e).val("")):t==TYPE_PROJECT_MEMBER?($(".type-"+e).val($(".type-"+e+" option:first").val()),$(".employee_id-"+e).val($(".employee_id-"+e+" option:first").val()),$(".start_at-"+e).val(""),$(".end_at-"+e).val(""),$(".effort-"+e).val("")):t==TYPE_EXTERNAL_INTERFACE?($(".name-"+e).val(""),$(".position-"+e).val(""),$(".responsibilities-"+e).val(""),
$(".contact-"+e).val("")):t==TYPE_TOOL_AND_INFRASTRUCTURE?($(".soft_hard_ware-"+e).val($(".soft_hard_ware-"+e+" option:first").val()),$(".purpose-"+e).val(""),$(".note-"+e).val(""),$(".start-date-"+e).val(""),$(".end-date-"+e).val("")):t==TYPE_DELIVERABLE?($(".title-"+e).val(""),$(".committed_date-"+e).val(""),$(".actual_date-"+e).val(""),$(".stage-"+e).val($(".stage-"+e+" option:first").val()),$(".note-"+e).val("")):t==TYPE_WO_DEVICES_EXPENSE?($(".time-"+e).val(""),$(".amount-"+e).val(""),$(".description-"+e).val("")):($(".content-"+e).val(""),$(".expected_date-"+e).val("")),$(".error-"+e).remove()}function reloadTable(e,t){t=assignDefaultValue(t),$("#table-"+e).load(location.href+" #table-"+e),$(".remove-"+e).addClass("display-none"),$(".add-"+e).removeClass("display-none")}function saveWorkorderNotApproved(e,t,r,a){if(!$(t).data("requestRunning")){if($(t).data("requestRunning",!0),a=assignDefaultValue(a),id=$(t).data("id"),$(t).addClass("display-none"),$("#loading-item-"+a+"-"+id).removeClass("display-none"),$(".error-validate-"+e+"-"+id).remove(),a==TYPE_STAGE_AND_MILESTONE)stage=$(".input-stage-"+e+"-"+id).val(),stageName=$(".input-stage-"+e+"-"+id+" option[value="+stage+"]").text(),description=$(".input-description-"+e+"-"+id).val(),milestone=$(".input-milestone-"+e+"-"+id).val(),qua_gate_actual=$(".input-qua_gate_actual-"+e+"-"+id).val(),qua_gate_plan=$(".input-qua_gate_plan-"+e+"-"+id).val(),qua_gate_result=$(".span-qua_gate_result-"+e+"-"+id+" input[name=qua_gate_result-"+id+"]:checked").val(),data={_token:token,number_record:1,stage_1:stage,description_1:description,milestone_1:milestone,qua_gate_actual_1:qua_gate_actual,qua_gate_plan_1:qua_gate_plan,qua_gate_result_1:qua_gate_result,project_id:project_id,id:id};else if(a==TYPE_ASSUMPTIONS)description=$(".input-description-"+e+"-"+id).val(),remark=$(".input-remark-"+e+"-"+id).val(),data={_token:token,number_record:1,description_1:description,remark_1:remark,type:typeAssumption,project_id:project_id,id:id};else if(a==TYPE_CONSTRAINTS)description=$(".input-description-"+e+"-"+id).val(),remark=$(".input-remark-"+e+"-"+id).val(),data={_token:token,number_record:1,description_1:description,remark_1:remark,type:typeConstraints,project_id:project_id,id:id};else if(a==TYPE_COMMUNICATION_MEETING)typeProj=$(".input-type-"+e+"-"+id).val(),method=$(".input-method-"+e+"-"+id).val(),time=$(".input-time-"+e+"-"+id).val(),information=$(".input-information-"+e+"-"+id).val(),stakeholder=$(".input-stakeholder-"+e+"-"+id).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,number_record:1,type_task:typeMeetingCom,project_id:project_id,id:id};else if(a==TYPE_COMMUNICATION_REPORT)typeProj=$(".input-type-"+e+"-"+id).val(),method=$(".input-method-"+e+"-"+id).val(),time=$(".input-time-"+e+"-"+id).val(),information=$(".input-information-"+e+"-"+id).val(),stakeholder=$(".input-stakeholder-"+e+"-"+id).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,number_record:1,type_task:typeReportCom,project_id:project_id,id:id};else if(a==TYPE_COMMUNICATION_OTHER)typeProj=$(".input-type-"+e+"-"+id).val(),method=$(".input-method-"+e+"-"+id).val(),time=$(".input-time-"+e+"-"+id).val(),information=$(".input-information-"+e+"-"+id).val(),stakeholder=$(".input-stakeholder-"+e+"-"+id).val(),data={_token:token,type_1:typeProj,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,number_record:1,type_task:typeOtherCom,project_id:project_id,id:id};else if(a==TYPE_TRAINING)topic=$(".input-topic-"+e+"-"+id).val(),description=$(".input-description-"+e+"-"+id).val(),participants=$(".input-participants-"+e+"-"+id).val(),start_at=$(".input-start_at-"+e+"-"+id).val(),end_at=$(".input-end_at-"+e+"-"+id).val(),result=$(".input-result-"+e+"-"+id).val(),walver_criteria=$(".input-walver_criteria-"+e+"-"+id).val(),data={_token:token,number_record:1,topic_1:topic,description_1:description,member_1:participants,start_at_1:start_at,end_at_1:end_at,result:result,walver_criteria_1:walver_criteria,project_id:project_id,id:id};else if(a==TYPE_MEMBER_COMMUNICATION)member=$(".input-member-"+e+"-"+id).val(),role=$(".input-role-"+e+"-"+id).val(),contact_address=$(".input-contact_address-"+e+"-"+id).val(),responsibility=$(".input-responsibility-"+e+"-"+id).val(),data={_token:token,number_record:1,employee_1:member,role_1:role,type:typeMemberCommunication,contact_address_1:contact_address,responsibility_1:responsibility,project_id:project_id,id:id};else if(a==TYPE_CUSTOMER_COMMUNICATION)member=$(".input-customer-"+e+"-"+id).val(),role=$(".input-role-"+e+"-"+id).val(),contact_address=$(".input-contact_address-"+e+"-"+id).val(),responsibility=$(".input-responsibility-"+e+"-"+id).val(),data={_token:token,number_record:1,employee_1:member,role_1:role,type:typeCustomerCommunication,contact_address_1:contact_address,responsibility_1:responsibility,project_id:project_id,id:id};else if(a==TYPE_SKILL_REQUEST)skill=$(".input-skill-"+e+"-"+id).val(),category=$(".input-category-"+e+"-"+id).val(),course_name=$(".input-course_name-"+e+"-"+id).val(),mode=$(".input-mode-"+e+"-"+id).val(),provider=$(".input-provider-"+e+"-"+id).val(),required_role=$(".input-required_role-"+e+"-"+id).val(),hours=$(".input-hours-"+e+"-"+id).val(),level=$(".input-level-"+e+"-"+id).val(),remark=$(".input-remark-"+e+"-"+id).val(),data={_token:token,skill_1:skill,category_1:category,course_name_1:course_name,mode_1:mode,provider_1:provider,required_role_1:required_role,hours_1:hours,level_1:level,remark_1:remark,number_record:1,project_id:project_id,id:id};else if(a==TYPE_SECURITY)content=$(".input-content-"+e+"-"+id).val(),description=$(".input-description-"+e+"-"+id).val(),participants=$(".input-participants-"+e+"-"+id).val(),period=$(".input-period-"+e+"-"+id).val(),procedure=$(".input-procedure-"+e+"-"+id).val(),data={_token:token,number_record:1,content_1:content,description_1:description,member_1:participants,period_1:period,procedure_1:procedure,project_id:project_id,id:id};else if(a==TYPE_PROJECT_MEMBER)typeMember=$(".input-type-"+e+"-"+id).val(),start_at=$(".input-start_at-"+e+"-"+id).val(),end_at=$(".input-end_at-"+e+"-"+id).val(),effort=$(".input-effort-"+e+"-"+id).val(),employee_id=$(".input-employee_id-"+e+"-"+id).val(),data={_token:token,number_record:1,type:typeMember,start_at:start_at,end_at:end_at,effort:effort,project_id:project_id,employee_id:employee_id,id:id};else if(a==TYPE_COMMUNICATION)content=$(".input-content-"+e+"-"+id).val(),data={_token:token,number_record:1,content_1:content,project_id:project_id,id:id};else if(a==TYPE_EXTERNAL_INTERFACE)name=$(".input-name-"+e+"-"+id).val(),position=$(".input-position-"+e+"-"+id).val(),responsibilities=$(".input-responsibilities-"+e+"-"+id).val(),contact=$(".input-contact-"+e+"-"+id).val(),data={_token:token,number_record:1,name_1:name,position_1:position,responsibilities_1:responsibilities,contact_1:contact,project_id:project_id,id:id};else if(a==TYPE_DELIVERABLE)title=$(".input-title-"+e+"-"+id).val(),committed_date=$(".input-committed_date-"+e+"-"+id).val(),actual_date=$(".input-actual_date-"+e+"-"+id).val(),stage=$(".input-stage-"+e+"-"+id).val(),note=$(".input-note-"+e+"-"+id).val(),data={_token:token,number_record:1,title_1:title,committed_date_1:committed_date,actual_date_1:actual_date,stage_1:stage,note_1:note,project_id:project_id,id:id};else if(a==TYPE_TOOL_AND_INFRASTRUCTURE)soft_ware_id=$(".input-soft_hard_ware-"+e+"-"+id).val(),soft_hard_ware=$(".input-soft_hard_ware-"+e+"-"+id+" option[value="+soft_ware_id+"]").text(),purpose=$(".input-purpose-"+e+"-"+id).val(),note=$(".input-note-"+e+"-"+id).val(),start_date=$(".input-start-date-"+e+"-"+id).val(),end_date=$(".input-end-date-"+e+"-"+id).val(),data={_token:token,number_record:1,soft_hard_ware_1:soft_hard_ware,soft_ware_id_1:soft_ware_id,purpose_1:purpose,note_1:note,start_date_1:start_date,end_date_1:end_date,project_id:project_id,id:id},globalData=data,globalurl=r,globalClassName=e;else if(a==TYPE_WO_DEVICES_EXPENSE){date=$(".input-time-"+e+"-"+id).val(),amount=$(".input-amount-"+e+"-"+id).val().split(",");var o=parseFloat(amount[0].split(".").join(""));description=$(".input-description-"+e+"-"+id).val(),data={_token:token,number_record:1,time_1:date,amount_1:o,description_1:description,project_id:project_id,id:id}}else content=$(".input-content-"+e+"-"+id).val(),expected_date=$(".input-expected_date-"+e+"-"+id).val(),data={_token:token,number_record:1,content_1:content,expected_date_1:expected_date,project_id:project_id,id:id};r=r,$.ajax({url:r,type:"post",dataType:"json",data:data,success:function(t){t.status?(showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),$(".workorder-"+e).html(t.content),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),a==TYPE_PROJECT_MEMBER&&($(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),iniTableSorter()),a==TYPE_STAGE_AND_MILESTONE&&($(".stage-name-"+id).text(stageName),$(".option-select-stage-"+id).text(stageName),$(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),classStageName=$(".stage-name-"+id),classStageName.each(function(e,t){$(this).hasClass("display-none")&&$(this).parent(".td-deliverable").find(".select2-container").addClass("display-block select2-container--focus")})),a==TYPE_DELIVERABLE&&$(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),a==TYPE_ASSUMPTIONS&&$("#workorder_assumptions").html(t.content),a==TYPE_CONSTRAINTS&&$("#workorder_constraints").html(t.content),a==TYPE_CRITICAL_DEPENDENCIES&&$("#workorder_critical-dependencies").html(t.content),a==TYPE_SKILL_REQUEST&&$("#workorder_skill_request").html(t.content),a==TYPE_MEMBER_COMMUNICATION&&$("#workorder_member_communication").html(t.content),a!=TYPE_COMMUNICATION_MEETING&&a!=TYPE_COMMUNICATION_REPORT&&a!=TYPE_COMMUNICATION_OTHER||$("#workorder_communication").html(t.content),a==TYPE_CUSTOMER_COMMUNICATION&&$("#workorder_customer_communication").html(t.content),a==TYPE_WO_DEVICES_EXPENSE&&$("#table-derived-expenses input.time-datepicker").datepicker({format:"yyyy-mm",weekStart:1,todayHighlight:!0,autoclose:!0,viewMode:"months",minViewMode:"months"})):(t.message_error&&(t.message_error.content_1&&$(".input-content-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="content">'+t.message_error.content_1[0]+"</p>"),t.message_error.description_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description">'+t.message_error.description_1[0]+"</p>"),t.message_error.milestone_1&&$(".input-milestone-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="milestone">'+t.message_error.milestone_1[0]+"</p>"),t.message_error.topic_1&&$(".input-topic-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="topic">'+t.message_error.topic_1[0]+"</p>"),t.message_error.participants_1&&$(".input-participants-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="participants">'+t.message_error.participants_1[0]+"</p>"),t.message_error.time_1&&$(".input-time-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="time">'+t.message_error.time_1[0]+"</p>"),t.message_error.walver_criteria_1&&$(".input-walver_criteria-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="walver_criteria">'+t.message_error.walver_criteria_1[0]+"</p>"),t.message_error.description_constraints_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description_constraints">'+t.message_error.description_constraints_1[0]+"</p>"),t.message_error.description_assumptions_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description_assumptions">'+t.message_error.description_assumptions_1[0]+"</p>"),t.message_error.description_security_1&&$(".input-description-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="description_security">'+t.message_error.description_security_1[0]+"</p>"),t.message_error.period_security_1&&$(".input-period-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="period_security">'+t.message_error.period_security_1[0]+"</p>"),t.message_error.procedure_security_1&&$(".input-procedure-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="procedure_security">'+t.message_error.procedure_security_1[0]+"</p>"),t.message_error.contact_1&&$(".input-contact-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="contact">'+t.message_error.contact_1[0]+"</p>"),t.message_error.skill_1&&$(".input-skill-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="skill">'+t.message_error.skill_1[0]+"</p>"),t.message_error.category_1&&$(".input-category-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="category">'+t.message_error.category_1[0]+"</p>"),t.message_error.course_name_1&&$(".input-course_name-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="course_name">'+t.message_error.course_name_1[0]+"</p>"),t.message_error.mode_1&&$(".input-mode-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="mode">'+t.message_error.mode_1[0]+"</p>"),t.message_error.provider_1&&$(".input-provider-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="provider">'+t.message_error.provider_1[0]+"</p>"),t.message_error.required_role_1&&$(".input-required_role-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="required_role">'+t.message_error.required_role_1[0]+"</p>"),t.message_error.hours_1&&$(".input-hours-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="hours">'+t.message_error.hours_1[0]+"</p>"),t.message_error.level_1&&$(".input-level-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="level">'+t.message_error.level_1[0]+"</p>"),t.message_error.remark_1&&$(".input-remark-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="remark">'+t.message_error.remark_1[0]+"</p>"),t.message_error.customer_1&&$(".input-customer-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="customer">'+t.message_error.customer_1[0]+"</p>"),t.message_error.name_1&&$(".input-name-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="name">'+t.message_error.name_1[0]+"</p>"),t.message_error.position_1&&$(".input-position-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="position">'+t.message_error.position_1[0]+"</p>"),t.message_error.responsibilities_1&&$(".input-responsibilities-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="responsibilities">'+t.message_error.responsibilities_1[0]+"</p>"),t.message_error.soft_hard_ware&&$(".input-soft_hard_ware-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="soft_hard_ware">'+t.message_error.soft_hard_ware[0]+"</p>"),t.message_error.purpose&&$(".input-purpose-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="purpose">'+t.message_error.purpose[0]+"</p>"),t.message_error.title_1&&$(".input-title-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="title_1">'+t.message_error.title_1[0]+"</p>"),t.message_error.committed_date_1&&$(".input-committed_date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="committed_date_1">'+t.message_error.committed_date_1[0]+"</p>"),t.message_error.actual_date_1&&$(".input-actual_date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="actual_date_1">'+t.message_error.actual_date_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-stage-"+id+" .td-stage .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="stage_1">'+t.message_error.stage_1[0]+"</p>"),t.message_error.soft_hard_ware_1&&$(".input-soft_hard_ware-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="soft_hard_ware_1">'+t.message_error.soft_hard_ware_1[0]+"</p>"),t.message_error.purpose_1&&$(".input-purpose-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="purpose_1">'+t.message_error.purpose_1[0]+"</p>"),t.message_error.type&&$(".input-type-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="type">'+t.message_error.type[0]+"</p>"),t.message_error.type_1&&$(".input-type-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="type">'+t.message_error.type_1[0]+"</p>"),t.message_error.method_1&&$(".input-method-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="method">'+t.message_error.method_1[0]+"</p>"),t.message_error.employee_id&&$(".input-employee_id-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="employee_id">'+t.message_error.employee_id[0]+"</p>"),t.message_error.start_at&&$(".input-start_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="start_at">'+t.message_error.start_at[0]+"</p>"),t.message_error.end_at&&$(".input-end_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="end_at">'+t.message_error.end_at[0]+"</p>"),t.message_error.effort&&$(".input-effort-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="effort">'+t.message_error.effort[0]+"</p>"),t.message_error.qua_gate_plan_1&&$(".input-qua_gate_plan-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="qua_gate_plan_1">'+t.message_error.qua_gate_plan_1[0]+"</p>"),t.message_error.qua_gate_actual_1&&$(".input-qua_gate_actual-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="qua_gate_actual_1">'+t.message_error.qua_gate_actual_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-deliverable-"+id+" .td-deliverable .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="stage_1">'+t.message_error.stage_1[0]+"</p>"),t.message_error.role_member_communication_1&&$(".tr-member_communication-"+id+" .td-member_communication-role .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="member_communication">'+t.message_error.role_member_communication_1[0]+"</p>"),t.message_error.role_customer_communication_1&&$(".tr-customer_communication-"+id+" .td-customer_communication-role .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="customer_communication">'+t.message_error.role_customer_communication_1[0]+"</p>"),t.message_error.start_at_1&&$(".input-start_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="start_at">'+t.message_error.start_at_1[0]+"</p>"),t.message_error.end_at_1&&$(".input-end_at-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="end_at">'+t.message_error.end_at_1[0]+"</p>"),t.message_error.start_date_1&&$(".input-start-date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="start_date">'+t.message_error.start_date_1[0]+"</p>"),t.message_error.end_date_1&&$(".input-end-date-"+e+"-"+id).after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate" for="end_date">'+t.message_error.end_date_1[0]+"</p>"),t.message_error.member_1&&$(".tr-training-"+id+" .td-training-member .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate">'+t.message_error.member_1[0]+"</p>"),t.message_error.member_1&&$(".tr-security-"+id+" .td-security-member .select2-container").after('<p class="word-break error-validate-'+e+"-"+id+" error-"+e+' error-validate">'+t.message_error.member_1[0]+"</p>")),t.warning&&($(".show-warning").remove(),$(".end-date-"+e).after('<button class="show-warning hidden" type="button" data-noti="'+t.content+'"></button>'),$(".show-warning").addClass("warn-confirm").click()))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$(t).data("requestRunning",!1),$("#loading-item-"+a+"-"+id).addClass("display-none"),$(t).removeClass("display-none")}})}}function editWorkorderNotApproved(e,t,r){r=assignDefaultValue(r),id=$(t).data("id"),$(t).addClass("display-none"),$(".save-"+e+"-"+id).removeClass("display-none"),$(".delete-"+e+"-"+id).addClass("display-none"),$(".refresh-"+e+"-"+id).removeClass("display-none"),r==TYPE_STAGE_AND_MILESTONE?(setTimeout(function(){input=$(".input-stage-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".stage-"+e+"-"+id).addClass("display-none"),$(".input-stage-"+e+"-"+id).removeClass("display-none"),$(".description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).removeClass("display-none"),$(".milestone-"+e+"-"+id).addClass("display-none"),$(".input-milestone-"+e+"-"+id).removeClass("display-none"),$(".qua_gate_actual-"+e+"-"+id).addClass("display-none"),$(".input-qua_gate_actual-"+e+"-"+id).removeClass("display-none"),$(".qua_gate_plan-"+e+"-"+id).addClass("display-none"),$(".input-qua_gate_plan-"+e+"-"+id).removeClass("display-none"),$(".qua_gate_actual-"+e+"-"+id).data("status")&&($(".qua_gate_result-"+e+"-"+id).addClass("display-none"),$(".span-qua_gate_result-"+e+"-"+id).removeClass("display-none"))):r==TYPE_ASSUMPTIONS||r==TYPE_CONSTRAINTS?(setTimeout(function(){input=$(".input-description-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).removeClass("display-none"),$(".remark-"+e+"-"+id).addClass("display-none"),$(".input-remark-"+e+"-"+id).removeClass("display-none")):r==TYPE_TRAINING?(setTimeout(function(){input=$(".input-topic-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".topic-"+e+"-"+id).addClass("display-none"),$(".input-topic-"+e+"-"+id).removeClass("display-none"),$(".description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).removeClass("display-none"),$(".participants-"+e+"-"+id).addClass("display-none"),$(".input-participants-"+e+"-"+id).removeClass("display-none"),$(".start_at-"+e+"-"+id).addClass("display-none"),$(".input-start_at-"+e+"-"+id).removeClass("display-none"),$(".end_at-"+e+"-"+id).addClass("display-none"),$(".input-end_at-"+e+"-"+id).removeClass("display-none"),$(".result-"+e+"-"+id).addClass("display-none"),$(".input-result-"+e+"-"+id).removeClass("display-none"),$(".walver_criteria-"+e+"-"+id).addClass("display-none"),$(".input-walver_criteria-"+e+"-"+id).removeClass("display-none")):r==TYPE_COMMUNICATION_MEETING||r==TYPE_COMMUNICATION_REPORT||r==TYPE_COMMUNICATION_OTHER?(setTimeout(function(){input=$(".input-type-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".type-"+e+"-"+id).addClass("display-none"),$(".input-type-"+e+"-"+id).removeClass("display-none"),$(".method-"+e+"-"+id).addClass("display-none"),$(".input-method-"+e+"-"+id).removeClass("display-none"),$(".time-"+e+"-"+id).addClass("display-none"),$(".input-time-"+e+"-"+id).removeClass("display-none"),$(".information-"+e+"-"+id).addClass("display-none"),$(".input-information-"+e+"-"+id).removeClass("display-none"),$(".stakeholder-"+e+"-"+id).addClass("display-none"),$(".input-stakeholder-"+e+"-"+id).removeClass("display-none")):r==TYPE_MEMBER_COMMUNICATION?(setTimeout(function(){input=$(".input-member-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".member-"+e+"-"+id).addClass("display-none"),$(".input-member-"+e+"-"+id).removeClass("display-none"),$(".role-"+e+"-"+id).addClass("display-none"),$(".input-role-"+e+"-"+id).removeClass("display-none"),$(".contact_address-"+e+"-"+id).addClass("display-none"),$(".input-contact_address-"+e+"-"+id).removeClass("display-none"),$(".responsibility-"+e+"-"+id).addClass("display-none"),$(".input-responsibility-"+e+"-"+id).removeClass("display-none")):r==TYPE_CUSTOMER_COMMUNICATION?(setTimeout(function(){input=$(".input-customer-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".customer-"+e+"-"+id).addClass("display-none"),$(".input-customer-"+e+"-"+id).removeClass("display-none"),$(".role-"+e+"-"+id).addClass("display-none"),$(".input-role-"+e+"-"+id).removeClass("display-none"),$(".contact_address-"+e+"-"+id).addClass("display-none"),$(".input-contact_address-"+e+"-"+id).removeClass("display-none"),$(".responsibility-"+e+"-"+id).addClass("display-none"),$(".input-responsibility-"+e+"-"+id).removeClass("display-none")):r==TYPE_SKILL_REQUEST?(setTimeout(function(){input=$(".input-skill-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".skill-"+e+"-"+id).addClass("display-none"),$(".input-skill-"+e+"-"+id).removeClass("display-none"),$(".category-"+e+"-"+id).addClass("display-none"),$(".input-category-"+e+"-"+id).removeClass("display-none"),$(".course_name-"+e+"-"+id).addClass("display-none"),$(".input-course_name-"+e+"-"+id).removeClass("display-none"),$(".mode-"+e+"-"+id).addClass("display-none"),$(".input-mode-"+e+"-"+id).removeClass("display-none"),$(".provider-"+e+"-"+id).addClass("display-none"),$(".input-provider-"+e+"-"+id).removeClass("display-none"),$(".required_role-"+e+"-"+id).addClass("display-none"),$(".input-required_role-"+e+"-"+id).removeClass("display-none"),$(".hours-"+e+"-"+id).addClass("display-none"),$(".input-hours-"+e+"-"+id).removeClass("display-none"),$(".level-"+e+"-"+id).addClass("display-none"),$(".input-level-"+e+"-"+id).removeClass("display-none"),$(".remark-"+e+"-"+id).addClass("display-none"),$(".input-remark-"+e+"-"+id).removeClass("display-none")):r==TYPE_SECURITY?(setTimeout(function(){input=$(".input-content-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).removeClass("display-none"),$(".description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).removeClass("display-none"),$(".participants-"+e+"-"+id).addClass("display-none"),$(".input-participants-"+e+"-"+id).removeClass("display-none"),$(".period-"+e+"-"+id).addClass("display-none"),$(".input-period-"+e+"-"+id).removeClass("display-none"),$(".procedure-"+e+"-"+id).addClass("display-none"),$(".input-procedure-"+e+"-"+id).removeClass("display-none")):r==TYPE_PROJECT_MEMBER?(setTimeout(function(){input=$(".input-type-"+e+"-"+id),input.focus()},0),$(".type-"+e+"-"+id).addClass("display-none"),$(".input-type-"+e+"-"+id).removeClass("display-none"),$(".employee_id-"+e+"-"+id).addClass("display-none"),$(".input-employee_id-"+e+"-"+id).removeClass("display-none"),$(".start_at-"+e+"-"+id).addClass("display-none"),$(".input-start_at-"+e+"-"+id).removeClass("display-none"),$(".end_at-"+e+"-"+id).addClass("display-none"),$(".input-end_at-"+e+"-"+id).removeClass("display-none"),$(".effort-"+e+"-"+id).addClass("display-none"),$(".input-effort-"+e+"-"+id).removeClass("display-none")):r==TYPE_COMMUNICATION?(setTimeout(function(){input=$(".input-content-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).removeClass("display-none")):r==TYPE_TOOL_AND_INFRASTRUCTURE?(setTimeout(function(){input=$(".input-soft_hard_ware-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".soft_hard_ware-"+e+"-"+id).addClass("display-none"),$(".input-soft_hard_ware-"+e+"-"+id).removeClass("display-none"),$(".purpose-"+e+"-"+id).addClass("display-none"),$(".input-purpose-"+e+"-"+id).removeClass("display-none"),$(".start-date-"+e+"-"+id).addClass("display-none"),$(".input-start-date-"+e+"-"+id).removeClass("display-none"),$(".end-date-"+e+"-"+id).addClass("display-none"),$(".input-end-date-"+e+"-"+id).removeClass("display-none"),$(".note-"+e+"-"+id).addClass("display-none"),$(".input-note-"+e+"-"+id).removeClass("display-none")):r==TYPE_EXTERNAL_INTERFACE?(setTimeout(function(){input=$(".input-name-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".name-"+e+"-"+id).addClass("display-none"),$(".input-name-"+e+"-"+id).removeClass("display-none"),$(".position-"+e+"-"+id).addClass("display-none"),$(".input-position-"+e+"-"+id).removeClass("display-none"),$(".responsibilities-"+e+"-"+id).addClass("display-none"),$(".input-responsibilities-"+e+"-"+id).removeClass("display-none"),$(".contact-"+e+"-"+id).addClass("display-none"),$(".input-contact-"+e+"-"+id).removeClass("display-none")):r==TYPE_DELIVERABLE?(setTimeout(function(){input=$(".input-title-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".title-"+e+"-"+id).addClass("display-none"),$(".input-title-"+e+"-"+id).removeClass("display-none"),$(".committed_date-"+e+"-"+id).addClass("display-none"),$(".input-committed_date-"+e+"-"+id).removeClass("display-none"),$(".actual_date-"+e+"-"+id).addClass("display-none"),$(".input-actual_date-"+e+"-"+id).removeClass("display-none"),$(".stage-"+e+"-"+id).addClass("display-none"),$(".input-stage-"+e+"-"+id).removeClass("display-none"),$(".note-"+e+"-"+id).addClass("display-none"),$(".input-note-"+e+"-"+id).removeClass("display-none")):r==TYPE_WO_DEVICES_EXPENSE?(setTimeout(function(){input=$(".input-time-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".time-"+e+"-"+id).addClass("display-none"),$(".input-time-"+e+"-"+id).removeClass("display-none"),$(".amount-"+e+"-"+id).addClass("display-none"),$(".input-amount-"+e+"-"+id).removeClass("display-none"),$(".description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).removeClass("display-none")):(setTimeout(function(){input=$(".input-content-"+e+"-"+id),input.focus();var t=input.val();input.val(""),input.val(t)},0),$(".content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).removeClass("display-none"),$(".expected_date-"+e+"-"+id).addClass("display-none"),$(".input-expected_date-"+e+"-"+id).removeClass("display-none"))}function submitWorkorderNotApproved(e,t,r,a){if(!$(t).data("requestRunning")){if($(t).data("requestRunning",!0),a=assignDefaultValue(a),$(t).addClass("display-none"),$("#loading-item-"+a).removeClass("display-none"),$(".error-validate-add-"+e).remove(),r=r,a==TYPE_STAGE_AND_MILESTONE)stage=$(".stage-"+e).val(),stageName=$(".stage-"+e+" option[value="+stage+"]").text(),description=$(".description-"+e).val(),
milestone=$(".milestone-"+e).val(),qua_gate_actual=$(".qua_gate_actual-"+e).val(),qua_gate_plan=$(".qua_gate_plan-"+e).val(),qua_gate_result=$(".span-qua_gate_result-"+e+" input[name=qua_gate_result]:checked").val(),data={_token:token,stage_1:stage,description_1:description,milestone_1:milestone,qua_gate_actual_1:qua_gate_actual,qua_gate_plan_1:qua_gate_plan,qua_gate_result_1:qua_gate_result,number_record:1,project_id:project_id};else if(a==TYPE_ASSUMPTIONS)description=$(".description-"+e).val(),remark=$(".remark-"+e).val(),data={_token:token,number_record:1,description_1:description,remark_1:remark,type:typeAssumption,project_id:project_id};else if(a==TYPE_CONSTRAINTS)description=$(".description-"+e).val(),remark=$(".remark-"+e).val(),data={_token:token,number_record:1,description_1:description,remark_1:remark,type:typeConstraints,project_id:project_id};else if(a==TYPE_TRAINING)topic=$(".topic-"+e).val(),description=$(".description-"+e).val(),member=$(".training-member-"+e).val(),start_at=$(".start_at-"+e).val(),end_at=$(".end_at-"+e).val(),result=$(".result-"+e).val(),walver_criteria=$(".walver_criteria-"+e).val(),data={_token:token,number_record:1,topic_1:topic,description_1:description,member_1:member,start_at_1:start_at,end_at_1:end_at,result:result,walver_criteria_1:walver_criteria,project_id:project_id};else if(a==TYPE_COMMUNICATION_MEETING)typeCom=$(".type-"+e).val(),method=$(".method-"+e).val(),time=$(".time-"+e).val(),information=$(".information-"+e).val(),stakeholder=$(".stakeholder-"+e).val(),data={_token:token,number_record:1,type_1:typeCom,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,type_task:typeMeetingCom,project_id:project_id};else if(a==TYPE_COMMUNICATION_REPORT)typeCom=$(".type-"+e).val(),method=$(".method-"+e).val(),time=$(".time-"+e).val(),information=$(".information-"+e).val(),stakeholder=$(".stakeholder-"+e).val(),data={_token:token,number_record:1,type_1:typeCom,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,type_task:typeReportCom,project_id:project_id};else if(a==TYPE_COMMUNICATION_OTHER)typeCom=$(".type-"+e).val(),method=$(".method-"+e).val(),time=$(".time-"+e).val(),information=$(".information-"+e).val(),stakeholder=$(".stakeholder-"+e).val(),data={_token:token,number_record:1,type_1:typeCom,method_1:method,time_1:time,information_1:information,stakeholder_1:stakeholder,type_task:typeOtherCom,project_id:project_id};else if(a==TYPE_MEMBER_COMMUNICATION)employee=$(".member_communication-member-"+e).val(),role=$(".member_communication-role-"+e).val(),contact_address=$(".contact_address-"+e).val(),responsibility=$(".responsibility-"+e).val(),data={_token:token,number_record:1,employee_1:employee,role_1:role,type:typeMemberCommunication,contact_address_1:contact_address,responsibility_1:responsibility,project_id:project_id};else if(a==TYPE_CUSTOMER_COMMUNICATION)employee=$(".customer-"+e).val(),role=$(".customer_communication-role-"+e).val(),contact_address=$(".contact_address-"+e).val(),responsibility=$(".responsibility-"+e).val(),data={_token:token,number_record:1,employee_1:employee,role_1:role,type:typeCustomerCommunication,contact_address_1:contact_address,responsibility_1:responsibility,project_id:project_id};else if(a==TYPE_SKILL_REQUEST)skill=$(".skill-"+e).val(),category=$(".category-"+e).val(),course_name=$(".course_name-"+e).val(),mode=$(".mode-"+e).val(),provider=$(".provider-"+e).val(),required_role=$(".required_role-"+e).val(),hours=$(".hours-"+e).val(),level=$(".level-"+e).val(),remark=$(".remark-"+e).val(),data={_token:token,number_record:1,skill_1:skill,category_1:category,course_name_1:course_name,mode_1:mode,provider_1:provider,required_role_1:required_role,hours_1:hours,level_1:level,remark_1:remark,project_id:project_id};else if(a==TYPE_SECURITY)content=$(".content-"+e).val(),description=$(".description-"+e).val(),member=$(".security-member-"+e).val(),procedure=$(".procedure-"+e).val(),period=$(".period-"+e).val(),result=$(".result-"+e).val(),walver_criteria=$(".walver_criteria-"+e).val(),data={_token:token,number_record:1,content_1:content,description_1:description,member_1:member,procedure_1:procedure,period_1:period,project_id:project_id};else if(a==TYPE_PROJECT_MEMBER)typeMember=$(".type-"+e).val(),employee_id=$(".employee_id-"+e).val(),start_at=$(".start_at-"+e).val(),effort=$(".effort-"+e).val(),end_at=$(".end_at-"+e).val(),data={_token:token,number_record:1,type:typeMember,employee_id:employee_id,start_at:start_at,effort:effort,end_at:end_at,project_id:project_id};else if(a==TYPE_COMMUNICATION)content=$(".content-"+e).val(),data={_token:token,number_record:1,content_1:content,project_id:project_id};else if(a==TYPE_TOOL_AND_INFRASTRUCTURE)soft_ware_id=$(".soft_hard_ware-"+e).val(),soft_hard_ware=$(".soft_hard_ware-"+e+" option[value="+soft_ware_id+"]").text(),purpose=$(".purpose-"+e).val(),note=$(".note-"+e).val(),start_date=$(".start-date-"+e).val(),end_date=$(".end-date-"+e).val(),data={_token:token,number_record:1,soft_hard_ware_1:soft_hard_ware,soft_ware_id_1:soft_ware_id,purpose_1:purpose,note_1:note,start_date_1:start_date,end_date_1:end_date,project_id:project_id},globalData=data,globalurl=r,globalClassName=e;else if(a==TYPE_EXTERNAL_INTERFACE)name=$(".name-"+e).val(),position=$(".position-"+e).val(),responsibilities=$(".responsibilities-"+e).val(),contact=$(".contact-"+e).val(),data={_token:token,number_record:1,name_1:name,position_1:position,responsibilities_1:responsibilities,contact_1:contact,project_id:project_id};else if(a==TYPE_DELIVERABLE)title=$(".title-"+e).val(),committed_date=$(".committed_date-"+e).val(),actual_date=$(".actual_date-"+e).val(),stage=$(".stage-"+e).val(),note=$(".note-"+e).val(),data={_token:token,title_1:title,committed_date_1:committed_date,actual_date_1:actual_date,stage_1:stage,note_1:note,number_record:1,project_id:project_id};else if(a==TYPE_WO_DEVICES_EXPENSE){date=$(".time-"+e).val(),amount=$(".amount-"+e).val().split(",");var o=parseFloat(amount[0].split(".").join(""));description=$(".description-"+e).val(),data={_token:token,time_1:date,amount_1:o,description_1:description,number_record:1,project_id:project_id}}else content=$(".content-"+e).val(),expected_date=$(".expected_date-"+e).val(),data={_token:token,content_1:content,expected_date_1:expected_date,number_record:1,project_id:project_id};$.ajax({url:r,type:"post",data:data,success:function(t){t.status?($(".slove-"+e+" .remove-"+e).addClass("display-none"),$(".slove-"+e+" .add-"+e).removeClass("display-none"),showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),$(".workorder-"+e).html(t.content),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),a==TYPE_PROJECT_MEMBER&&($(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),iniTableSorter()),a==TYPE_STAGE_AND_MILESTONE&&($(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),$(".select-stage-custom").append($("<option></option>").attr("value",t.id).text(stageName))),a==TYPE_DELIVERABLE&&$(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),a==TYPE_ASSUMPTIONS&&$("#workorder_assumptions").html(t.content),a==TYPE_CONSTRAINTS&&$("#workorder_constraints").html(t.content),a==TYPE_CRITICAL_DEPENDENCIES&&$("#workorder_critical-dependencies").html(t.content),a==TYPE_SECURITY&&$("#workorder_security").html(t.content),a==TYPE_SKILL_REQUEST&&$("#workorder_skill_request").html(t.content),a==TYPE_MEMBER_COMMUNICATION&&$("#workorder_member_communication").html(t.content),a!=TYPE_COMMUNICATION_MEETING&&a!=TYPE_COMMUNICATION_REPORT&&a!=TYPE_COMMUNICATION_OTHER||$("#workorder_communication").html(t.content),a==TYPE_CUSTOMER_COMMUNICATION&&$("#workorder_customer_communication").html(t.content)):(t.message_error&&(t.message_error.content_1&&$(".content-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="content">'+t.message_error.content_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-stage-and-milestone .td-stage .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="stage">'+t.message_error.stage_1[0]+"</p>"),t.message_error.description&&$(".description-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="description">'+t.message_error.description[0]+"</p>"),t.message_error.description_constraints_1&&$(".description-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="description_constraints">'+t.message_error.description_constraints_1[0]+"</p>"),t.message_error.description_assumptions_1&&$(".description-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="description_assumptions">'+t.message_error.description_assumptions_1[0]+"</p>"),t.message_error.role_member_communication_1&&$(".tr-member_communication .td-member_communication-role .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="role_member_communication">'+t.message_error.role_member_communication_1[0]+"</p>"),t.message_error.role_customer_communication_1&&$(".tr-customer_communication .td-customer_communication-role .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="role_customer_communication">'+t.message_error.role_customer_communication_1[0]+"</p>"),t.message_error.description_security_1&&$(".description-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="description_security">'+t.message_error.description_security_1[0]+"</p>"),t.message_error.period_security_1&&$(".period-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="period_security">'+t.message_error.period_security_1[0]+"</p>"),t.message_error.procedure_security_1&&$(".procedure-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="procedure_security">'+t.message_error.procedure_security_1[0]+"</p>"),t.message_error.skill_1&&$(".skill-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="skill">'+t.message_error.skill_1[0]+"</p>"),t.message_error.category_1&&$(".category-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="category">'+t.message_error.category_1[0]+"</p>"),t.message_error.course_name_1&&$(".course_name-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="course_name">'+t.message_error.course_name_1[0]+"</p>"),t.message_error.mode_1&&$(".mode-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="mode">'+t.message_error.mode_1[0]+"</p>"),t.message_error.provider_1&&$(".provider-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="provider">'+t.message_error.provider_1[0]+"</p>"),t.message_error.remark_1&&$(".remark-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="remark">'+t.message_error.remark_1[0]+"</p>"),t.message_error.customer_1&&$(".customer-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="customer">'+t.message_error.customer_1[0]+"</p>"),t.message_error.required_role_1&&$(".required_role-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="required_role">'+t.message_error.required_role_1[0]+"</p>"),t.message_error.hours_1&&$(".hours-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="hours">'+t.message_error.hours_1[0]+"</p>"),t.message_error.level_1&&$(".level-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="level">'+t.message_error.level_1[0]+"</p>"),t.message_error.milestone&&$(".milestone-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="milestone">'+t.message_error.milestone[0]+"</p>"),t.message_error.topic_1&&$(".topic-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="topic">'+t.message_error.topic_1[0]+"</p>"),t.message_error.participants_1&&$(".participants-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="participants">'+t.message_error.participants_1[0]+"</p>"),t.message_error.time_1&&$(".time-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="time">'+t.message_error.time_1[0]+"</p>"),t.message_error.walver_criteria_1&&$(".walver_criteria-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="walver_criteria">'+t.message_error.walver_criteria_1[0]+"</p>"),t.message_error.name_1&&$(".name-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="name">'+t.message_error.name_1[0]+"</p>"),t.message_error.position_1&&$(".position-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="position">'+t.message_error.position_1[0]+"</p>"),t.message_error.responsibilities_1&&$(".responsibilities-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="responsibilities">'+t.message_error.responsibilities_1[0]+"</p>"),t.message_error.contact_1&&$(".contact-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="contact">'+t.message_error.contact_1[0]+"</p>"),t.message_error.soft_hard_ware&&$(".soft_hard_ware-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="soft_hard_ware">'+t.message_error.soft_hard_ware[0]+"</p>"),t.message_error.purpose&&$(".purpose-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="purpose">'+t.message_error.purpose[0]+"</p>"),t.message_error.title_1&&$(".title-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="title">'+t.message_error.title_1[0]+"</p>"),t.message_error.committed_date_1&&$(".committed_date-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="committed_date">'+t.message_error.committed_date_1[0]+"</p>"),t.message_error.actual_date_1&&$(".actual_date-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="actual_date">'+t.message_error.actual_date_1[0]+"</p>"),t.message_error.description_1&&$(".description-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="description">'+t.message_error.description_1[0]+"</p>"),t.message_error.milestone_1&&$(".milestone-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="milestone">'+t.message_error.milestone_1[0]+"</p>"),t.message_error.soft_hard_ware_1&&$(".soft_hard_ware_"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="soft_hard_ware">'+t.message_error.soft_hard_ware_1[0]+"</p>"),t.message_error.purpose_1&&$(".purpose-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="purpose">'+t.message_error.purpose_1[0]+"</p>"),t.message_error.type&&$(".type-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="type">'+t.message_error.type[0]+"</p>"),t.message_error.type_1&&$(".type-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="type">'+t.message_error.type_1[0]+"</p>"),t.message_error.method_1&&$(".method-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="method">'+t.message_error.method_1[0]+"</p>"),t.message_error.employee_id&&$(".employee_id-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="employee_id">'+t.message_error.employee_id[0]+"</p>"),t.message_error.start_at&&$(".start_at-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="start_at">'+t.message_error.start_at[0]+"</p>"),t.message_error.end_at&&$(".end_at-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="end_at">'+t.message_error.end_at[0]+"</p>"),t.message_error.effort&&$(".effort-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="effort">'+t.message_error.effort[0]+"</p>"),t.message_error.qua_gate_actual_1&&$(".qua_gate_actual-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="qua_gate_actual">'+t.message_error.qua_gate_actual_1[0]+"</p>"),t.message_error.qua_gate_plan_1&&$(".qua_gate_plan-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="qua_gate_plan">'+t.message_error.qua_gate_plan_1[0]+"</p>"),t.message_error.stage_1&&$(".tr-deliverable .td-deliverable .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="stage">'+t.message_error.stage_1[0]+"</p>"),t.message_error.start_at_1&&$(".start_at-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="start_at">'+t.message_error.start_at_1[0]+"</p>"),t.message_error.end_at_1&&$(".end_at-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="end_at">'+t.message_error.end_at_1[0]+"</p>"),t.message_error.member_1&&$(".tr-training .td-training-member .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'">'+t.message_error.member_1[0]+"</p>"),t.message_error.employee_1&&$(".tr-member_communication .td-member_communication-member .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'">'+t.message_error.employee_1[0]+"</p>"),t.message_error.role_1&&$(".tr-member_communication .td-member_communication-role .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'">'+t.message_error.role_1[0]+"</p>"),t.message_error.member_1&&$(".tr-security .td-security-member .select2-container").after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'">'+t.message_error.member_1[0]+"</p>"),t.message_error.start_date_1&&$(".start-date-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="start_date">'+t.message_error.start_date_1[0]+"</p>"),t.message_error.end_date_1&&$(".end-date-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="end_date">'+t.message_error.end_date_1[0]+"</p>"),t.message_error.amount_1&&$(".amount-"+e).after('<p class="word-break error-validate error-validate-add-'+e+" error-"+e+'" for="amount">'+t.message_error.amount_1[0]+"</p>")),t.warning&&($(".show-warning").remove(),$(".end-date-"+e).after('<button class="show-warning hidden" type="button" data-noti="'+t.content+'"></button>'),$(".show-warning").addClass("warn-confirm").click()))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$(t).data("requestRunning",!1),$("#loading-item-"+a).addClass("display-none"),$(t).removeClass("display-none")}})}}function refreshWorkorderNotApproved(e,t,r){r=assignDefaultValue(r),id=$(t).data("id"),$(".error-validate-"+e+"-"+id).remove(),$(t).addClass("display-none"),$(".save-"+e+"-"+id).addClass("display-none"),$(".edit-"+e+"-"+id).removeClass("display-none"),$(".delete-"+e+"-"+id).removeClass("display-none"),$(".refresh-"+e+"-"+id).addClass("display-none"),r==TYPE_DELIVERABLE?($(".title-"+e+"-"+id).removeClass("display-none"),$(".input-title-"+e+"-"+id).val($(".title-"+e+"-"+id).text()),$(".input-title-"+e+"-"+id).addClass("display-none"),$(".committed_date-"+e+"-"+id).removeClass("display-none"),$(".input-committed_date-"+e+"-"+id).val($(".committed_date-"+e+"-"+id).text()),$(".input-committed_date-"+e+"-"+id).addClass("display-none"),$(".actual_date-"+e+"-"+id).removeClass("display-none"),$(".input-actual_date-"+e+"-"+id).addClass("display-none"),$(".input-actual_date-"+e+"-"+id).val($(".actual_date-"+e+"-"+id).text()),$(".stage-"+e+"-"+id).removeClass("display-none"),$(".input-stage-"+e+"-"+id).addClass("display-none"),$(".input-stage-"+e+"-"+id).val($(".stage-"+e+"-"+id).text()),$(".note-"+e+"-"+id).removeClass("display-none"),$(".input-note-"+e+"-"+id).addClass("display-none"),$(".input-note-"+e+"-"+id).val($(".note-"+e+"-"+id).text())):r==TYPE_STAGE_AND_MILESTONE?($(".stage-"+e+"-"+id).removeClass("display-none"),$(".input-stage-"+e+"-"+id).addClass("display-none"),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".milestone-"+e+"-"+id).removeClass("display-none"),$(".input-milestone-"+e+"-"+id).addClass("display-none"),$(".input-milestone-"+e+"-"+id).val($(".milestone-"+e+"-"+id).text()),$(".qua_gate_actual-"+e+"-"+id).removeClass("display-none"),$(".input-qua_gate_actual-"+e+"-"+id).addClass("display-none"),$(".qua_gate_actual-"+e+"-"+id).data("status")?$(".input-qua_gate_actual-"+e+"-"+id).val($(".qua_gate_actual-"+e+"-"+id).text()):$(".input-qua_gate_actual-"+e+"-"+id).val(""),$(".qua_gate_plan-"+e+"-"+id).removeClass("display-none"),$(".input-qua_gate_plan-"+e+"-"+id).addClass("display-none"),$(".input-qua_gate_plan-"+e+"-"+id).val($(".qua_gate_plan-"+e+"-"+id).text()),$(".qua_gate_actual-"+e+"-"+id).data("status")&&(text=$(".qua_gate_result-"+e+"-"+id).data("value")?"Pass":"Fail",$(".qua_gate_result-"+e+"-"+id).text(text)),$(".qua_gate_result-"+e+"-"+id).removeClass("display-none"),$(".span-qua_gate_result-"+e+"-"+id).addClass("display-none"),$(".milestone-"+e+"-"+id).removeClass("display-none"),$(".input-milestone-"+e+"-"+id).addClass("display-none"),$(".input-milestone-"+e+"-"+id).val($(".milestone-"+e+"-"+id).text())):r==TYPE_TRAINING?($(".topic-"+e+"-"+id).removeClass("display-none"),$(".input-topic-"+e+"-"+id).addClass("display-none"),$(".input-topic-"+e+"-"+id).val($(".topic-"+e+"-"+id).text()),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".participants-"+e+"-"+id).removeClass("display-none"),$(".input-participants-"+e+"-"+id).addClass("display-none"),oldValue=$(".participants-"+e+"-"+id).attr("data-value"),arrayValue=oldValue.split(","),$(".input-participants-"+e+"-"+id).val(arrayValue),$(".start_at-"+e+"-"+id).removeClass("display-none"),$(".input-start_at-"+e+"-"+id).addClass("display-none"),$(".input-start_at-"+e+"-"+id).val($(".start_at-"+e+"-"+id).text()),$(".end_at-"+e+"-"+id).removeClass("display-none"),$(".input-end_at-"+e+"-"+id).addClass("display-none"),$(".input-end_at-"+e+"-"+id).val($(".end_at-"+e+"-"+id).text()),$(".result-"+e+"-"+id).removeClass("display-none"),$(".input-result-"+e+"-"+id).addClass("display-none"),oldValuResult=$(".result-"+e+"-"+id).attr("data-value"),$(".input-result-"+e+"-"+id).val(oldValuResult),$(".walver_criteria-"+e+"-"+id).removeClass("display-none"),$(".input-walver_criteria-"+e+"-"+id).addClass("display-none"),$(".input-walver_criteria-"+e+"-"+id).val($(".walver_criteria-"+e+"-"+id).text())):r==TYPE_COMMUNICATION_MEETING||r==TYPE_COMMUNICATION_REPORT||r==TYPE_COMMUNICATION_OTHER?($(".type-"+e+"-"+id).removeClass("display-none"),$(".input-type-"+e+"-"+id).addClass("display-none"),$(".input-type-"+e+"-"+id).val($(".type-"+e+"-"+id).text()),$(".method-"+e+"-"+id).removeClass("display-none"),$(".input-method-"+e+"-"+id).addClass("display-none"),$(".input-method-"+e+"-"+id).val($(".method-"+e+"-"+id).text()),$(".time-"+e+"-"+id).removeClass("display-none"),$(".input-time-"+e+"-"+id).addClass("display-none"),$(".input-time-"+e+"-"+id).val($(".time-"+e+"-"+id).text()),$(".information-"+e+"-"+id).removeClass("display-none"),$(".input-information-"+e+"-"+id).addClass("display-none"),$(".input-information-"+e+"-"+id).val($(".information-"+e+"-"+id).text()),$(".stakeholder-"+e+"-"+id).removeClass("display-none"),$(".input-stakeholder-"+e+"-"+id).addClass("display-none"),$(".input-stakeholder-"+e+"-"+id).val($(".stakeholder-"+e+"-"+id).text())):r==TYPE_MEMBER_COMMUNICATION?($(".member-"+e+"-"+id).removeClass("display-none"),$(".input-member-"+e+"-"+id).addClass("display-none"),oldValue=$(".member-"+e+"-"+id).attr("data-value"),$(".input-member-"+e+"-"+id).val(oldValue),$(".role-"+e+"-"+id).removeClass("display-none"),$(".input-role-"+e+"-"+id).addClass("display-none"),oldValueRole=$(".role-"+e+"-"+id).attr("data-value"),arrayValue=oldValueRole.split(","),$(".input-role-"+e+"-"+id).val(arrayValue),$(".contact_address-"+e+"-"+id).removeClass("display-none"),$(".input-contact_address-"+e+"-"+id).addClass("display-none"),$(".input-contact_address-"+e+"-"+id).val($(".contact_address-"+e+"-"+id).text()),$(".responsibility-"+e+"-"+id).removeClass("display-none"),$(".input-responsibility-"+e+"-"+id).addClass("display-none"),$(".input-responsibility-"+e+"-"+id).val($(".responsibility-"+e+"-"+id).text())):r==TYPE_CUSTOMER_COMMUNICATION?($(".customer-"+e+"-"+id).removeClass("display-none"),$(".input-customer-"+e+"-"+id).addClass("display-none"),$(".input-customer-"+e+"-"+id).val($(".customer-"+e+"-"+id).text()),$(".role-"+e+"-"+id).removeClass("display-none"),$(".input-role-"+e+"-"+id).addClass("display-none"),oldValueRole=$(".role-"+e+"-"+id).attr("data-value"),arrayValue=oldValueRole.split(","),$(".input-role-"+e+"-"+id).val(arrayValue),$(".contact_address-"+e+"-"+id).removeClass("display-none"),$(".input-contact_address-"+e+"-"+id).addClass("display-none"),$(".input-contact_address-"+e+"-"+id).val($(".contact_address-"+e+"-"+id).text()),$(".responsibility-"+e+"-"+id).removeClass("display-none"),$(".input-responsibility-"+e+"-"+id).addClass("display-none"),$(".input-responsibility-"+e+"-"+id).val($(".responsibility-"+e+"-"+id).text())):r==TYPE_SECURITY?($(".content-"+e+"-"+id).removeClass("display-none"),$(".input-content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).val($(".content-"+e+"-"+id).text()),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".participants-"+e+"-"+id).removeClass("display-none"),$(".input-participants-"+e+"-"+id).addClass("display-none"),oldValue=$(".participants-"+e+"-"+id).attr("data-value"),arrayValue=oldValue.split(","),$(".input-participants-"+e+"-"+id).val(arrayValue),$(".period-"+e+"-"+id).removeClass("display-none"),$(".input-period-"+e+"-"+id).addClass("display-none"),$(".input-period-"+e+"-"+id).val($(".period-"+e+"-"+id).text()),$(".procedure-"+e+"-"+id).removeClass("display-none"),$(".input-procedure-"+e+"-"+id).addClass("display-none"),$(".input-procedure-"+e+"-"+id).val($(".procedure-"+e+"-"+id).text())):r==TYPE_ASSUMPTIONS||r==TYPE_CONSTRAINTS?($(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text()),$(".remark-"+e+"-"+id).removeClass("display-none"),$(".input-remark-"+e+"-"+id).addClass("display-none"),$(".input-remark-"+e+"-"+id).val($(".remark-"+e+"-"+id).text())):r==TYPE_SKILL_REQUEST?($(".skill-"+e+"-"+id).removeClass("display-none"),$(".input-skill-"+e+"-"+id).addClass("display-none"),$(".input-skill-"+e+"-"+id).val($(".skill-"+e+"-"+id).text()),$(".category-"+e+"-"+id).removeClass("display-none"),$(".input-category-"+e+"-"+id).addClass("display-none"),$(".input-category-"+e+"-"+id).val($(".category-"+e+"-"+id).text()),$(".course_name-"+e+"-"+id).removeClass("display-none"),$(".input-course_name-"+e+"-"+id).addClass("display-none"),$(".input-course_name-"+e+"-"+id).val($(".course_name-"+e+"-"+id).text()),$(".mode-"+e+"-"+id).removeClass("display-none"),$(".input-mode-"+e+"-"+id).addClass("display-none"),$(".input-mode-"+e+"-"+id).val($(".mode-"+e+"-"+id).text()),$(".provider-"+e+"-"+id).removeClass("display-none"),$(".input-provider-"+e+"-"+id).addClass("display-none"),$(".input-provider-"+e+"-"+id).val($(".provider-"+e+"-"+id).text()),$(".required_role-"+e+"-"+id).removeClass("display-none"),$(".input-required_role-"+e+"-"+id).addClass("display-none"),$(".input-required_role-"+e+"-"+id).val($(".required_role-"+e+"-"+id).text()),$(".level-"+e+"-"+id).removeClass("display-none"),$(".input-level-"+e+"-"+id).addClass("display-none"),$(".input-level-"+e+"-"+id).val($(".level-"+e+"-"+id).text()),$(".hours-"+e+"-"+id).removeClass("display-none"),$(".input-hours-"+e+"-"+id).addClass("display-none"),$(".input-hours-"+e+"-"+id).val($(".hours-"+e+"-"+id).text()),$(".remark-"+e+"-"+id).removeClass("display-none"),$(".input-remark-"+e+"-"+id).addClass("display-none"),$(".input-remark-"+e+"-"+id).val($(".remark-"+e+"-"+id).text())):r==TYPE_PROJECT_MEMBER?($(".type-"+e+"-"+id).removeClass("display-none"),$(".input-type-"+e+"-"+id).addClass("display-none"),$(".input-type-"+e+"-"+id).val($(".type-"+e+"-"+id).attr("data-value")),$(".employee_id-"+e+"-"+id).removeClass("display-none"),$(".input-employee_id-"+e+"-"+id).addClass("display-none"),$(".input-employee_id-"+e+"-"+id).val($(".employee_id-"+e+"-"+id).attr("data-value")),$(".start_at-"+e+"-"+id).removeClass("display-none"),$(".input-start_at-"+e+"-"+id).addClass("display-none"),$(".input-start_at-"+e+"-"+id).val($(".start_at-"+e+"-"+id).text()),$(".end_at-"+e+"-"+id).removeClass("display-none"),$(".input-end_at-"+e+"-"+id).addClass("display-none"),$(".input-end_at-"+e+"-"+id).val($(".end_at-"+e+"-"+id).text()),$(".effort-"+e+"-"+id).removeClass("display-none"),$(".input-effort-"+e+"-"+id).addClass("display-none"),$(".input-effort-"+e+"-"+id).val($(".effort-"+e+"-"+id).text())):r==TYPE_COMMUNICATION?($(".content-"+e+"-"+id).removeClass("display-none"),$(".input-content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).val($(".content-"+e+"-"+id).text())):r==TYPE_EXTERNAL_INTERFACE?($(".name-"+e+"-"+id).removeClass("display-none"),$(".input-name-"+e+"-"+id).addClass("display-none"),$(".input-name-"+e+"-"+id).val($(".name-"+e+"-"+id).text()),$(".position-"+e+"-"+id).removeClass("display-none"),$(".input-position-"+e+"-"+id).addClass("display-none"),$(".input-position-"+e+"-"+id).val($(".position-"+e+"-"+id).text()),$(".responsibilities-"+e+"-"+id).removeClass("display-none"),$(".input-responsibilities-"+e+"-"+id).addClass("display-none"),$(".input-responsibilities-"+e+"-"+id).val($(".responsibilities-"+e+"-"+id).text()),$(".contact-"+e+"-"+id).removeClass("display-none"),$(".input-contact-"+e+"-"+id).addClass("display-none"),$(".input-contact-"+e+"-"+id).val($(".contact-"+e+"-"+id).text())):r==TYPE_TOOL_AND_INFRASTRUCTURE?($(".soft_hard_ware-"+e+"-"+id).removeClass("display-none"),$(".input-soft_hard_ware-"+e+"-"+id).addClass("display-none"),$(".start-date-"+e+"-"+id).removeClass("display-none"),$(".input-start-date-"+e+"-"+id).addClass("display-none"),$(".input-start-date-"+e+"-"+id).val($(".start-date-"+e+"-"+id).text()),$(".end-date-"+e+"-"+id).removeClass("display-none"),$(".input-end-date-"+e+"-"+id).addClass("display-none"),$(".input-end-date-"+e+"-"+id).val($(".end-date-"+e+"-"+id).text()),$(".purpose-"+e+"-"+id).removeClass("display-none"),$(".input-purpose-"+e+"-"+id).addClass("display-none"),$(".input-purpose-"+e+"-"+id).val($(".purpose-"+e+"-"+id).text()),$(".note-"+e+"-"+id).removeClass("display-none"),$(".input-note-"+e+"-"+id).addClass("display-none"),$(".input-note-"+e+"-"+id).val($(".note-"+e+"-"+id).text())):r==TYPE_WO_DEVICES_EXPENSE?($(".time-"+e+"-"+id).removeClass("display-none"),$(".input-time-"+e+"-"+id).addClass("display-none"),$(".input-soft_hard_ware-"+e+"-"+id).val($(".time-"+e+"-"+id).text()),
$(".amount-"+e+"-"+id).removeClass("display-none"),$(".input-amount-"+e+"-"+id).addClass("display-none"),$(".input-amount-"+e+"-"+id).val($(".amount-"+e+"-"+id).text()),$(".description-"+e+"-"+id).removeClass("display-none"),$(".input-description-"+e+"-"+id).addClass("display-none"),$(".input-description-"+e+"-"+id).val($(".description-"+e+"-"+id).text())):($(".content-"+e+"-"+id).removeClass("display-none"),$(".input-content-"+e+"-"+id).addClass("display-none"),$(".input-content-"+e+"-"+id).val($(".content-"+e+"-"+id).text()),$(".expected_date-"+e+"-"+id).removeClass("display-none"),$(".input-expected_date-"+e+"-"+id).addClass("display-none"),$(".input-expected_date-"+e+"-"+id).val($(".expected_date-"+e+"-"+id).text()))}function showOrHideButtonSubmitWorkorder(e){e?$(".submit-workorder").removeClass("display-none"):$(".submit-workorder").addClass("display-none")}function loadData(e,t){checkReloadPage(),load_data&&($('[data-toggle="tooltip"], .tooltip').tooltip("hide"),arrayValue=["summary","scope","orthers"],arrayValue.indexOf(t)==-1?$("#workorder-content-"+t+" .table-content-"+t).length||($spin=$('<p><i class="fa fa-2x fa-refresh fa-spin"></i></p>').prependTo(e),url=urlGetContentTable,data={_token:token,projectId:project_id,type:t},$.ajax({url:url,data:data,dataType:"json",type:"post",success:function(e){if(e.status){if(t==TYPE_PROJECT_MEMBER)return rkWoAllocation.init(e.data,$("#workorder-content-"+t)),!0;$("#workorder-content-"+t).html(e.content),$(document).tooltip({selector:".is-tooltip",placement:"top",trigger:"hover",animation:!1}),t==TYPE_STAGE_AND_MILESTONE&&$(".select-stage").select2(),t==TYPE_DELIVERABLE&&$(".select-stage-deliverable").select2()}},complete:function(){$spin.remove()}})):"summary"==t&&($("#manager_id").select2().on("select2:close",function(e){tabToChange(e)}),$("#state").select2().on("select2:close",function(e){tabToChange(e)}),$("#manager_id").select2().on("select2:close",function(e){tabToChange(e)}),$("#cust_contact_id").select2().on("select2:close",function(e){tabToChange(e)}),$(".select_leader_id").select2().on("select2:close",function(e){tabToChange(e)}),$("#level").select2().on("select2:close",function(e){tabToChange(e)}),$("#type").select2().on("select2:close",function(e){tabToChange(e)}),$valueTypeproject=$("#type").attr("data-original-title"),$("#type-project .select2-container").tooltip({title:$valueTypeproject}),$("#type-project .input-basic-info").hasClass("changed")&&$("#type-project .select2-selection").css("background","#f7f0cb"),$("#status-project .input-basic-info").hasClass("changed")&&$("#status-project .select2-selection").css("background","#f7f0cb"),$("#manager-project .input-basic-info").hasClass("changed")&&$("#manager-project .select2-selection").css("background","#f7f0cb"),$valueStatusproject=$("#state").attr("data-original-title"),$("#status-project .select2-container").tooltip({title:$valueStatusproject}),$valueManagerProject=$("#manager_id").attr("data-original-title"),$("#manager-project .select2-container").tooltip({title:$valueManagerProject}),$("#select-team #team_id").hasClass("changed")&&$("#select-team .multiselect").css("background","#f7f0cb"),$valueTeam=$("#team_id").attr("data-original-title"),$("#select-team .team-dropdown").tooltip({title:$valueTeam}),$valueLeader=$("#leader_id").attr("data-original-title"),$(".div-leader-id .select2-container").tooltip({title:$valueLeader}),$valueTypeMM=$("#type_mm").attr("data-original-title"),$('[same-id="type_mm"]').next(".select2-container").tooltip({title:$valueTypeMM}),$("#leader_id").hasClass("changed")&&$(".div-leader-id .select2-selection").css("background","#f7f0cb"),$("#type_mm").hasClass("changed")&&($("#type_mm").next(".select2-container").find(".select2-selection").css("background","#f7f0cb"),$('[same-id="'+$("#type_mm").attr("same-id")+'"]').next(".select2-container").find(".select2-selection").css("background","#f7f0cb"))))}function showFormEditQuality(e){$(".btn-edit-"+e).addClass("display-none"),$(".input-"+e).removeClass("display-none"),$(".btn-save-"+e).removeClass("display-none"),$(".btn-cancel-"+e).removeClass("display-none"),$(".btn-edit-"+e).addClass("display-none")}function hiddeFormEditQuality(e){oldValue=$(".edit-draft-"+e).text(),oldValue||(oldValue=$(".content-"+e+"-approved").text()),$(".input-"+e).val(oldValue.trim()),$(".btn-cancel-"+e).addClass("display-none"),$(".input-"+e).addClass("display-none"),$(".btn-edit-"+e).removeClass("display-none"),$(".btn-save-"+e).addClass("display-none"),$(".content-"+e+" .error-validate").remove()}function iniTableSorter(e){"undefined"==typeof e&&(e=4),$("#table-project-member table").tablesorter({sortList:[[e,0]],headers:{".no-sorter":{sorter:!1}},cssChildRow:"tablesorter-childRow"})}function getDataColumSort(e){if(e==TYPE_PROJECT_MEMBER)return $("#table-project-member table").find("th[aria-sort!=none]").attr("data-column")}function displayTextDeleteConfirm(e){modalConfirm=$("#modal-delete-confirm-new"),$(e).hasClass("fa-times")?(modalConfirm.find(".text-default").hide(),modalConfirm.find(".text-undo").hide(),modalConfirm.find(".text-change").show()):$(e).hasClass("fa-undo")?(modalConfirm.find(".text-default").hide(),modalConfirm.find(".text-undo").show(),modalConfirm.find(".text-change").hide()):(modalConfirm.find(".text-default").show(),modalConfirm.find(".text-undo").hide(),modalConfirm.find(".text-change").hide())}function tabToChange(e){var t=$(e.target);$(document).on("keydown.select2",function(e){if(9===e.which){var r=t.data("select2").$dropdown.find(".select2-results__option--highlighted");if(r){var a=r.data("data").id;t.val(a).trigger("change")}}}),setTimeout(function(){$(document).off("keydown.select2")},1)}function checkReloadPage(e){"undefined"!=typeof e?setInterval(function(){sendRequestIsChangeStatusWo(e)},3e4):sendRequestIsChangeStatusWo()}function sendRequestIsChangeStatusWo(e){var t={_token:token,status:statusWo,project_id:projectId};$.ajax({url:urlCheckIsChangeStatusWo,type:"post",data:t,dataType:"json",success:function(t){t.status&&($("#modal-warning-reload").is(":visible")||$("#modal-warning-reload").modal("show"),"undefined"==typeof e&&(load_data=!1))}})}function tabToChange(e){var t=$(e.target);$(document).on("keydown.select2",function(e){if(9===e.which){var r=t.data("select2").$dropdown.find(".select2-results__option--highlighted");if(r){var a=r.data("data").id;t.val(a).trigger("change")}}}),setTimeout(function(){$(document).off("keydown.select2")},1)}var projectEditConst={numberShowTeam:2},load_data=!0,hash=window.location.hash,globalTotalApproveCostDetail=0;if(hash){var splHash=hash.split("?");hash=splHash[0]}RKfuncion.multiselect2={overfollow:function(e){var t=e.$container.closest(".multiselect2-wrapper.flag-over-hidden");t.length&&t.height(t[0].scrollHeight)},overfollowClose:function(e){var t=e.$container.closest(".multiselect2-wrapper.flag-over-hidden");t.length&&t.removeAttr("style")}},jQuery(document).ready(function(e){selectSearchReload(),e("#status").multiselect({numberDisplayed:3,nonSelectedText:"",allSelectedText:"All",onDropdownHide:function(e){RKfuncion.filterGrid.filterRequest(this.$select)}})}),jQuery(document).ready(function(e){selectSearchReload(),e("#status_issue").multiselect({numberDisplayed:3,nonSelectedText:"",allSelectedText:"All",onDropdownHide:function(e){RKfuncion.filterGrid.filterRequest(this.$select)}})}),jQuery(document).ready(function(e){selectSearchReload(),e("#scope_scope").multiselect({numberDisplayed:7,nonSelectedText:"",allSelectedText:"All",enableFiltering:!0,onDropdownHide:function(e){RKfuncion.filterGrid.filterRequest(this.$select)}})});var xhrLoadCust=null;jQuery(document).ready(function(e){function t(){xhrLoadCust&&xhrLoadCust.abort();var t=[];"undefined"==typeof project_id&&(project_id=null);var r=e("#cust_contact_id"),a=e(this).val();return a?void setTimeout(function(){xhrLoadCust=e.ajax({url:urlGenCusByCompany,data:{_token:token,company_id:a,checkEdit:checkEdit,project_id:project_id,cust_contact_id:e("#cust_contact_id").val(),sale_id:e("#sale-selected").val()},dataType:"json",type:"post",success:function(a){e("#cust_contact_id").val(""),e("#sale_id").empty(),e("#sale-selected").val(""),a.status&&(a.customer.length>0&&e.each(a.customer,function(t,a){r.append(e("<option></option>").attr("value",a.id).text(a.name))}),a.saler.length>0&&(e.each(a.saler,function(r,a){e("#sale_id").append(e("<option selected></option>").attr("value",a.id).text(a.nickname)),t.push(a.id)}),e("#sale-selected").val(t)),e("#select_customer").html(a.content),e("#sale_id").select2("enable",!1),RKfuncion.select2.init({},e("#cust_contact_id")))},complete:function(){xhrLoadCust=null}},300)}):(r.val("").trigger("change"),!1)}function r(){e("#billable_effort-error-select").css("display","none"),e("#plan_effort_select-error").css("display","none"),e("#cost_approved_production_select-error").css("display","none")}function a(){var t=+globalTotalApproveCostDetail,r=+e("#cost_approved_production").val();return e("#type_mm").val()==TYPE_MD&&(r/=20),r>=t}if(e("#company_id").change(t),"undefined"!=typeof RKVarPassGlobal&&e("select.team-dev-tree").length){var o,i,d,n=RKfuncion.teamTree.init(RKVarPassGlobal.teamPath,RKVarPassGlobal.teamSelected);e.each(n,function(e,t){i=t.disabled?" disabled":"",d=t.selected?" selected":"",o+='<option value="'+t.id+'"'+i+d+">"+t.label+"</option>"}),e("select.team-dev-tree").append(o)}token=siteConfigGlobal.token,e("#cust_contact_id").select2().on("select2:close",function(e){tabToChange(e)}),e("#manager_id").select2().on("select2:close",function(e){tabToChange(e)}),e("#state").select2().on("select2:close",function(e){tabToChange(e)}),e("#cust_contact_id").select2().on("select2:close",function(e){tabToChange(e)}),e(".select_leader_id").select2().on("select2:close",function(e){tabToChange(e)}),e("#level").select2().on("select2:close",function(e){tabToChange(e)}),e("#type").select2().on("select2:close",function(e){tabToChange(e)}),e("[data-toggle='tooltip']").tooltip(),e(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),e(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),e(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),e(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),e(".training-member-select2").select2().on("select2:close",function(e){tabToChange(e)}),e("#company_id").select2().on("select2:close",function(e){tabToChange(e)}),e("#sale_id").prop("disabled","disabled"),e("#kind_id").select2().on("select2:close",function(e){tabToChange(e)}),e("#category").select2().on("select2:close",function(e){tabToChange(e)}),e("#classification").select2().on("select2:close",function(e){tabToChange(e)}),e("#business").select2().on("select2:close",function(e){tabToChange(e)}),e("#sub_sector").select2().on("select2:close",function(e){tabToChange(e)}),e("#cust_contact_id").select2().on("select2:close",function(e){tabToChange(e)}),e("body").on("focus",".date",function(t){e(this).datepicker({format:"yyyy-mm-dd",weekStart:1,todayHighlight:!0,autoclose:!0})}),$valueTypeproject=e("#type").attr("data-original-title"),e("#type-project .select2-container").tooltip({title:$valueTypeproject}),e("#type-project .input-basic-info").hasClass("changed")&&e("#type-project .select2-selection").css("background","#f7f0cb"),e("#status-project .input-basic-info").hasClass("changed")&&e("#status-project .select2-selection").css("background","#f7f0cb"),e("#manager-project .input-basic-info").hasClass("changed")&&e("#manager-project .select2-selection").css("background","#f7f0cb"),e("#select_kind .input-basic-info").hasClass("changed")&&e("#select_kind .select2-selection").css("background","#f7f0cb"),e("#select_category .input-basic-info").hasClass("changed")&&e("#select_category .select2-selection").css("background","#f7f0cb"),e("#select_classification .input-basic-info").hasClass("changed")&&e("#select_classification .select2-selection").css("background","#f7f0cb"),e("#select_business .input-basic-info").hasClass("changed")&&e("#select_business .select2-selection").css("background","#f7f0cb"),e("#select_sub_sector .input-basic-info").hasClass("changed")&&e("#select_sub_sector .select2-selection").css("background","#f7f0cb"),e("#select_cus_email .input-basic-info").hasClass("changed")&&e("#select_cus_email .form-control").css("background","#f7f0cb"),e("#select_cus_contact .input-basic-info").hasClass("changed")&&e("#select_cus_contact .form-control").css("background","#f7f0cb"),$valueStatusproject=e("#state").attr("data-original-title"),e("#status-project .select2-container").tooltip({title:$valueStatusproject}),$valueManagerProject=e("#manager_id").attr("data-original-title"),e("#manager-project .select2-container").tooltip({title:$valueManagerProject}),$valueTeam=e("#team_id").attr("data-original-title"),e("#select-team .team-dropdown").tooltip({title:$valueTeam}),$valueLeader=e("#leader_id").attr("data-original-title"),e(".div-leader-id .select2-container").tooltip({title:$valueLeader}),$valueTypeMM=e("#type_mm").attr("data-original-title"),e('[same-id="type_mm"]').next(".select2-container").tooltip({title:$valueTypeMM}),setTimeout(function(){var t=e("#team_id option:selected");return t.length>projectEditConst.numberShowTeam||(input="",t.each(function(t,r){0==t?input+=e(this).text().trim():input+=", "+e(this).text().trim()}),void(input.length?e("#select-team .team-dropdown .multiselect-selected-text").text(input):e("#select-team .team-dropdown .multiselect-selected-text").text(textChooseTeam)))}),e(".multiselect2").multiselect({includeSelectAllOption:!1,numberDisplayed:2,nonSelectedText:RKVarPassGlobal.multiSelectTextNone,allSelectedText:RKVarPassGlobal.multiSelectTextAll,nSelectedText:RKVarPassGlobal.multiSelectTextSelected,enableFiltering:!0,enableCaseInsensitiveFiltering:!0}),e("#select-team .team-dropdown").hover(function(){},function(){e('[data-toggle="tooltip"], .tooltip').tooltip("hide")}),e("#team_id").multiselect({includeSelectAllOption:!1,numberDisplayed:projectEditConst.numberShowTeam,nonSelectedText:textChooseTeam,allSelectedText:checkAll,nSelectedText:textTeam,enableFiltering:!0,onChange:function(t,r,a){e("#prog_langs-error").remove(),data={_token:token,value:e("#team_id").val(),project_id:projectId,checkEdit:checkEdit},e("#team_id-error").remove(),url=urlGenerateSelectLeader;var o=e('<i class="fa fa-refresh fa-spin form-control-feedback"></i>');o.css("right","25px"),o.insertAfter(e("#team_id")),e.ajax({url:url,type:"post",data:data,dataType:"json",success:function(t){t.status?(showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),e(".div-leader-id").html(t.content),e(".select_leader_id").select2().on("select2:close",function(e){tabToChange(e)}),t.result.isChange?e("#select-team .multiselect").css("background","#f7f0cb"):e("#select-team .multiselect").css("background","#fff"),$valueLeader=e("#leader_id").attr("data-original-title"),e(".div-leader-id .select2-container").tooltip({title:$valueLeader}),e("#leader_id").hasClass("changed")&&e(".div-leader-id .select2-selection").css("background","#f7f0cb")):(t.message_error.team_id&&e("#select-team .team-dropdown").after('<label id="team_id-error" class="error" for="team_id">'+t.message_error.team_id[0]+"</label>"),e(".div-leader-id").html(t.content))},complete:function(){o.remove()}});var i=e("#team_id option:selected");input="",leaderName="",i.each(function(t,r){0==t?(leaderName+=e(this).attr("data-leader-name"),input+=e(this).text().trim()):(leaderName+=", "+e(this).attr("data-leader-name"),input+=", "+e(this).text().trim())}),i.length<=projectEditConst.numberShowTeam&&setTimeout(function(){input.length&&(e("#select-team .btn-group .multiselect").attr("title",input),e("#select-team .btn-group .multiselect-selected-text").html(input))},10),i.length<4?setTimeout(function(){e("#group_director").val(leaderName)},10):e("#group_director").val(leaderName)}}),messages={name:{required:nameRequired,rangelength:nameMax,remote:nameUnique},"team_id[]":{required:teamRequired},company_id:{required:companyRequired},cust_contact_id:{required:customerRequired},sale_id:{required:saleRequired},start_at:{required:startAtRequired},end_at:{required:endAtRequired},schedule_link:{required:scheduleLinkRequired,url:scheduleLinkUrl,rangelength:nameMax,remote:scheduleLinkUnique},lineofcode_baseline:{number:baselineNumber},lineofcode_current:{number:currentNumber},id_redmine:{rangelength:idRemineMax,remote:idRemineUnique},id_git:{rangelength:idGitMax,remote:idGitUnique},id_svn:{rangelength:idSvnMax,remote:idSvnUnique},"except[leader_id]":{required:inputGroupLeader},billable_effort:{required:billableEffortRequired,number:billableEffortNumber},plan_effort:{required:planEffortRequired,number:planEffortNumber},cost_approved_production:{required:costApprovedProductionRequired,number:costApprovedProductionNumber},billable_effort_select:{required:billableEffortSelectRequired},plan_effort_select:{required:billableEffortSelectRequired},cost_approved_production_select:{required:billableEffortSelectRequired},kind_id:{required:kindIdRequired},category:{required:categoryRequired},classification:{required:classificationRequired},business:{required:businessRequired},sub_sector:{required:subSectorRequired},cus_email:{email:emailFormatRequired},cus_contact:{required:cusContactRequired}},rules={name:{required:!0,rangelength:[1,255],remote:{url:urlCheckExists,type:"post",data:{_token:token,name:"name",value:function(){return e("#name").val().trim()},table:TABLE_PROJECT,projectId:projectId}}},"team_id[]":{required:!0},company_id:{required:!0},cust_contact_id:{required:!0},sale_id:{required:!0},start_at:{required:!0,lessThan:'input[name^="end_at"'},end_at:{required:!0},schedule_link:{required:!0,rangelength:[1,255],url:!0,remote:{url:urlCheckExists,type:"post",data:{_token:token,name:"schedule_link",value:function(){return e("#schedule_link").val().trim()},table:TABLE_PROJECT_META,projectId:projectId}}},lineofcode_baseline:{number:!0,rangelength:[1,255]},lineofcode_current:{number:!0,rangelength:[1,255]},id_redmine:{rangelength:[1,100],remote:{url:checkExistsSourceServer,type:"post",data:{_token:token,name:"id_redmine",value:function(){return e("#id_redmine").val()},projectId:projectId}},validateIdRemine:!0},id_git:{rangelength:[1,100],remote:{url:checkExistsSourceServer,type:"post",data:{_token:token,name:"id_git",value:function(){return e("#id_git").val()},projectId:projectId}},validateIdGit:!0},id_svn:{rangelength:[1,100],remote:{url:checkExistsSourceServer,type:"post",data:{_token:token,name:"id_svn",value:function(){return e("#id_svn").val()},projectId:projectId}},validateIdSvn:!0},manager_id:{required:!0},"except[leader_id]":{required:!0},billable_effort:{required:!0,number:!0,greateThan:0},billable_effort_select:{required:!0},plan_effort:{required:!0,number:!0,greateThan:0},plan_effort_select:{required:!0},cost_approved_production:{required:!0,number:!0,greateThan:0},cost_approved_production_select:{required:!0},kind_id:{required:!0},category:{required:!0},classification:{required:!0},business:{required:!0},sub_sector:{required:!0},cus_email:{email:!0}},jQuery.validator.addMethod("greateThan",function(e,t,r){return e>r},valueGreaterThanZero),jQuery.validator.addMethod("lessThan",function(t,r,a){return!t||!e(a).val()||(this.optional(r)||t<=e(a).val())},startDateBefore),jQuery.validator.addMethod("validateIdRemine",function(t,r){return!e("#is_check_redmine").is(":checked")||!!e("#id_redmine").val().trim()},idRemineRequired),jQuery.validator.addMethod("validateIdGit",function(t,r){return!e("#is_check_git").is(":checked")||!!e("#id_git").val().trim()},idGitRequired),jQuery.validator.addMethod("validateIdSvn",function(t,r){return!e("#is_check_svn").is(":checked")||!!e("#id_svn").val().trim()},idSvnRequired),e("#create-project-form").validate({rules:rules,ignore:':hidden:not("#team_id, #sale_id, #sale-selected")',errorClass:"error",messages:messages,errorPlacement:function(e,t){"team_id[]"==t.attr("name")?e.insertAfter("#select-team .team-dropdown"):"sale_id[]"==t.attr("name")?e.insertAfter("#select-sales .team-dropdown"):"billable_effort"==t.attr("name")?e.insertAfter("#input-billable-effort .input-group"):"plan_effort"==t.attr("name")?e.insertAfter("#input-plan-effort .input-group"):"cost_approved_production"==t.attr("name")?e.insertAfter("#input-cost-approved-production .input-group"):"cust_contact_id"==t.attr("name")?e.insertAfter("#select_customer .select2-selection"):"billable_effort_select"==t.attr("name")?e.insertAfter("#input-billable-effort"):"plan_effort_select"==t.attr("name")?e.insertAfter("#input-plan-effort .input-group"):"cost_approved_production_select"==t.attr("name")?e.insertAfter("#input-cost-approved-production .input-group"):"company_id"==t.attr("name")?e.insertAfter("#select_company .select2-selection"):"kind_id"==t.attr("name")?e.insertAfter("#select_kind .select2-selection"):"category"==t.attr("name")?e.insertAfter("#select_category .select2-selection"):"classification"==t.attr("name")?e.insertAfter("#select_classification .select2-selection"):"business"==t.attr("name")?e.insertAfter("#select_business .select2-selection"):"sub_sector"==t.attr("name")?e.insertAfter("#select_sub_sector .select2-selection"):"cus_email"==t.attr("name")?e.insertAfter("#select_cus_email .form-control"):"cus_contact"==t.attr("name")?e.insertAfter("#select_cus_contact .form-control"):e.insertAfter(t)}}),e("#billable_effort_select").on("change",function(){r()}),e("#plan_effort_select").on("change",function(){r()}),e("#cost_approved_production_select").on("change",function(){r()});var s=[{field:"sale_id",messTab:saleRequiredTabBasic,mess:saleRequired},{field:"cust_contact_id",messTab:customerRequiredTabBasic,mess:customerRequired},{field:"company_id",messTab:companyRequiredTabBasic,mess:companyRequired},{field:"cost_approved_production",messTab:approvedProdCostRequiredTabBasic,mess:approvedProdCostRequired},{field:"kind_id",messTab:kindRequiredTabBasic,mess:kindIdRequired},{field:"category",messTab:categoryRequiredTabBasic,mess:categoryRequired},{field:"classification ",messTab:classificationRequiredTabBasic,mess:classificationRequired},{field:"business",messTab:businessRequiredTabBasic,mess:businessRequired},{field:"sub_sector",messTab:subSectorRequiredTabBasic,mess:subSectorRequired}];e(".open-modal-wo-submit").click(function(){for(var t=[],r=0;r<s.length;r++){var o=s[r],i=e("#"+o.field),d=i.val();if(i.removeClass("error"),!d){i.addClass("error"),t.push(o.messTab);var n=i.parent().parent();n.find("#"+o.field+"-error").remove(),n.append('<label id="'+o.field+'-error" class="error" for="'+o.field+'">'+o.mess+"</label>")}e("#prog_langs").removeClass("error")}var l=e("#cust_contact_id").val();return""===l&&(e("#select_customer").next("#cust_contact_id-error").remove(),e("#select_customer .select2-selection").after('<label id="cust_contact_id-error" class="error" for="cust_contact_id">'+customerRequired+"</label>")),a()||t.push(approveCostInvalidTabBasic),t.length>0?(e("#modal-warning-notification").modal("show"),e("#modal-warning-notification .modal-body .text-default").html(t.join("<br />")),!1):void e("#modal-wo-submit").modal("show")});for(var l=0;l<s.length;l++)e("#"+s[l].field).change(function(){var t=e(this).val();null!=t&&e(this).removeClass("error")});setInterval(function(){var t=e("#sale_id").parent().parent(),r=e("#company_id").parent().parent();t.find("#sale_id-error").remove(),r.find("#company_id-error").remove(),e("#sale_id").hasClass("error")&&t.append('<label id="sale_id-error" class="error" for="sale_id">'+saleRequired+"</label>"),e("#company_id").hasClass("error")&&r.append('<label id="company_id-error" class="error" for="company_id">'+companyRequired+"</label>")},100),e("#modal-warning-reload").on("hidden.bs.modal",function(){location.reload()}),e(document).on("change",".qua_gate_actual-stage-and-milestone",function(t){t.preventDefault(),e(this).val()?e(".span-qua_gate_result-stage-and-milestone").hasClass("display-none")&&(e(".span-qua_gate_result-stage-and-milestone").removeClass("display-none"),e(".qua_gate_result-stage-and-milestone").addClass("display-none")):e(".span-qua_gate_result-stage-and-milestone").hasClass("display-none")||(e(".span-qua_gate_result-stage-and-milestone").addClass("display-none"),e(".qua_gate_result-stage-and-milestone").removeClass("display-none"))}),e(document).on("change",".input-qua_gate_actual",function(t){id=e(this).data("id"),t.preventDefault(),e(this).val()?e(".span-qua_gate_result-stage-and-milestone-"+id).hasClass("display-none")&&(e(".qua_gate_result-stage-and-milestone-"+id).addClass("display-none"),e(".span-qua_gate_result-stage-and-milestone-"+id).removeClass("display-none")):(e(".qua_gate_result-stage-and-milestone-"+id).data("status")||e(".qua_gate_result-stage-and-milestone-"+id).text("NA"),e(".qua_gate_result-stage-and-milestone-"+id).hasClass("display-none")&&(e(".qua_gate_result-stage-and-milestone-"+id).removeClass("display-none"),e(".span-qua_gate_result-stage-and-milestone-"+id).addClass("display-none")))}),e(document).on("change",".input-project-wo-note",function(t){name=e(this).attr("name"),value=e(this).val(),data={data:{}},data.data[name]=value,data._token=token,data.id=project_id,url=urlUpdateNote,e.ajax({url:url,type:"post",dataType:"json",data:data,success:function(t){t.status||(e("#modal-warning-notification .text-default").html(messageError),e("#modal-warning-notification").modal("show"))},error:function(){e("#modal-warning-notification .text-default").html(messageError),e("#modal-warning-notification").modal("show")}})}),e(document).on("click",".radio-toggle-click",function(t){var r=e(this),a=e(this).attr("name"),o=e(this).attr("value"),i=r.attr("data-id");data={},data.name=a,data.value=o,data._token=token,data.project_id=project_id,url=urlEditBasicInfo,data.isSourceServer=!0,e.ajax({url:url,type:"post",dataType:"json",data:data,success:function(t){e(".radio-toggle-click-show-"+a).addClass("display-none"),e(".radio-"+i).removeClass("display-none")}})}),e(document).on("click",".edit-strategy",function(t){e(this).addClass("display-none"),e(".refresh-strategy").removeClass("display-none"),e(".content-strategy").addClass("display-none"),e(".input-content-strategy").removeClass("display-none"),setTimeout(function(){input=e(".input-content-strategy"),input.focus();var t=input.val();input.val(""),input.val(t)},0)}),e(document).on("click",".refresh-strategy",function(t){e(this).addClass("display-none"),e(".edit-strategy").removeClass("display-none"),e(".input-content-strategy").addClass("display-none"),e(".content-strategy").removeClass("display-none")}),e(document).on("change",".input-content-strategy",function(t){e(".error-validate-input-content-strategy").remove(),val=e(this).val(),data={_token:token,content:val,project_id:project_id},url=urlAddQualityPlan,e.ajax({url:url,type:"post",dataType:"json",data:data,success:function(t){t.status?(e(".edit-strategy").removeClass("display-none"),e(".refresh-strategy").addClass("display-none"),e(".input-content-strategy").addClass("display-none"),e(".content-strategy").removeClass("display-none"),e(".content-strategy").text(val)):e(".input-content-strategy").after('<p class="word-break error-validate error-validate-input-content-strategy" for="input-content-strategy">'+t.message_error.content[0]+"</p>")},error:function(){e("#modal-warning-notification .text-default").html(messageError),e("#modal-warning-notification").modal("show")}})}),e(".input-endat").datepicker({autoclose:!0}),e("body").on("focus",".input-endat",function(t){e(this).datepicker({autoclose:!0})}),e(document).on("click",".btn-edit-end-at",function(t){e(this).addClass("display-none"),e(".input-endat").removeClass("display-none"),e(".btn-save-end-at").removeClass("display-none"),e(".btn-cancel-end-at").removeClass("display-none"),e(".btn-edit-end-at").addClass("display-none")}),e(document).on("click",".btn-cancel-end-at",function(t){oldValue=e(".edit-draft-end-date").text(),oldValue||(oldValue=e(".content-endat-approved").text()),e(".input-endat").val(oldValue.trim()),e(this).addClass("display-none"),e(".input-endat").addClass("display-none"),e(".btn-edit-end-at").removeClass("display-none"),e(".btn-save-end-at").addClass("display-none")}),e(document).on("click",".btn-save-end-at",function(t){if(e(".error-validate-performance-arroved").remove(),!e(this).data("requestRunning")){e(this).data("requestRunning",!0);var r=e(this),a=e(".input-endat").val();workorderApproved.performance?(data={_token:token,project_id:project_id,end_at:a},id=e(".input-endat").attr("data-id"),"undefined"!=typeof id?(data.id=id,data.isEdit=!0):data.isAddNew=!0):data={_token:token,project_id:project_id,end_at:a},url=urlAddPerformance,e.ajax({url:url,type:"post",dataType:"json",data:data,success:function(t){t.status?(e("#table-performance .content-end-date").html(t.content),showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit),t.duration&&e(".duration").html(t.duration)):t.message_error.end_at&&e(".input-endat").after('<p class="word-break error-validate error-validate-performance-arroved" for="input-endat">'+t.message_error.end_at[0]+"</p>")},error:function(){e("#modal-warning-notification .text-default").html(messageError),e("#modal-warning-notification").modal("show")},complete:function(){r.data("requestRunning",!1)}})}}),e(document).on("click",".btn-edit-billable_effort",function(e){showFormEditQuality("billable_effort")}),e(document).on("click",".btn-cancel-billable_effort",function(e){hiddeFormEditQuality("billable_effort")}),e(document).on("click",".btn-edit-plan_effort",function(e){showFormEditQuality("plan_effort")}),e(document).on("click",".btn-cancel-plan_effort",function(e){hiddeFormEditQuality("plan_effort")}),e(document).on("click",".btn-save-quality",function(t){var r=e(this);r.data("requestRunning")||(r.data("requestRunning",!0),name=r.attr("data-name"),e(".error-validate-"+name).remove(),value=e("#table-quality ."+name).val(),url=urlAddQuality,data={data:{}},id=e("#table-quality ."+name).attr("data-id"),"undefined"!=typeof id?(e(".error-validate-"+name+"-"+id).remove(),data.id=id,data.isEdit=!0):(e(".error-validate-"+name).remove(),data.isAddNew=!0),data._token=token,data.data[name]=value,data.data.type=name,data.project_id=project_id,e.ajax({url:url,type:"post",dataType:"json",data:data,success:function(t){t.status?(e(".content-"+name).html(t.content),showOrHideButtonSubmitWorkorder(t.isCheckShowSubmit)):(t.message_error.billable_effort&&e(".content-"+name+" .input-add-quality").after('<p class="word-break error-validate">'+t.message_error.billable_effort[0]+"</p>"),t.message_error.plan_effort&&e(".content-"+name+" .input-add-quality").after('<p class="word-break error-validate">'+t.message_error.plan_effort[0]+"</p>"))},error:function(){e("#modal-warning-notification .text-default").html(messageError),e("#modal-warning-notification").modal("show")},complete:function(){r.data("requestRunning",!1)}}))}),e(".flex-text").flexText(),RKfuncion.keepStatusTab.init(),e('#workorder a[data-toggle="tab"]').on("shown.bs.tab",function(t){var r=e(e(t.target).attr("href")),a=e(t.target).attr("href").replace(/(\#|\?|\=|\&|\:|\/)/g,"");loadData(r,a)}),e('#project-over >ul >li > a[data-toggle="tab"]').on("shown.bs.tab",function(t){"#workorder"==e(t.target).attr("href")&&tabActiveWO&&"undefined"!=typeof project_id&&(tabs=e(".wo-tab-content #"+tabActiveWO),loadData(tabs,tabActiveWO))}),"workorder"==tabActive&&(hash&&e('ul.nav a[href="'+hash+'"]').tab("show")?(tabs=e(".wo-tab-content "+hash),loadData(tabs,hash.replace(/(\#|\?|\=|\&|\:|\/)/g,""))):tabActiveWO&&"undefined"!=typeof project_id&&(tabs=e(".wo-tab-content #"+tabActiveWO),loadData(tabs,tabActiveWO))),e(document).on("change","select.select-proj-member-type",function(t){var r=e(this);r.val()==RKVarPassGlobal.memberTypeDev||r.val()==RKVarPassGlobal.memberTypeLeader||r.val()==RKVarPassGlobal.memberTypeSubPm||r.val()==RKVarPassGlobal.memberTypePm?r.closest("tr").find("td.td-prog .proj-member-prog-lang .btn-group,td.td-prog .proj-member-prog-lang .prog-project-member").removeClass("hidden"):r.closest("tr").find("td.td-prog .proj-member-prog-lang .btn-group, td.td-prog .proj-member-prog-lang .prog-project-member").addClass("hidden");
}),e(".active-summary").click(function(){url=urlGetALlPmOfProjectByAjax,token=siteConfigGlobal.token,data={_token:token,project_id:projectId},e.ajax({url:url,type:"post",data:data,dataType:"json",success:function(t){var r=managerId;if(e("#manager_id").empty(),t.allPmActive){var a=new Option("","");e("#manager_id").append(a),e.each(t.allPmActive,function(t,a){var o=a.email,i=o.match(/^([^@]*)@/),d=i?i[1]:null,n=new Option(a.name+" ("+d+")",a.id);r==a.id?e("#manager_id").append(n):e("#manager_id").append(n)})}t.currentPm&&e("#manager_id").val(t.currentPm).trigger("change")}})})}),$(document).on("click",".show-content-table",function(e){var t=$(this).data("type");if($("#loading-"+t).removeClass("display-none"),$("#workorder-content-"+t+" .table-content-"+t).length)$("#workorder-content-"+t+" .table-content-"+t).removeClass("display-none"),$(".add-or-edit-"+t).show(),$(this).addClass("display-none"),$(".hide-content-table-"+t).removeClass("display-none");else{if(buttonThis=$(this),buttonThis.data("requestRunning"))return;buttonThis.data("requestRunning",!0),url=urlGetContentTable,data={_token:token,projectId:project_id,type:t},$.ajax({url:url,data:data,dataType:"json",type:"post",success:function(e){e.status&&(e.content.error?($("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show"),$("#workorder-content-"+t).html(e.content.content)):$("#workorder-content-"+t).html(e.content),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),t==TYPE_PROJECT_MEMBER&&($(".employee_id_select2").select2().on("select2:close",function(e){tabToChange(e)}),$(".tr-project .type-project-member").select2().on("select2:close",function(e){tabToChange(e)}),iniTableSorter()),t==TYPE_STAGE_AND_MILESTONE&&$(".select-stage").select2().on("select2:close",function(e){tabToChange(e)}),t==TYPE_DELIVERABLE&&$(".select-stage-deliverable").select2().on("select2:close",function(e){tabToChange(e)}),t==TYPE_WO_DEVICES_EXPENSE&&$("#table-derived-expenses input.time-datepicker").datepicker({format:"yyyy-mm",weekStart:1,todayHighlight:!0,autoclose:!0,viewMode:"months",minViewMode:"months"}))},complete:function(){buttonThis.data("requestRunning",!1),$("#loading-"+t).addClass("display-none")}})}}),$(document).on("click",".hide-content-table",function(e){type=$(this).data("type"),$(".table-content-"+type).addClass("display-none"),$(this).addClass("display-none"),$(".show-content-table-"+type).removeClass("display-none"),$(".add-or-edit-"+type).hide()}),$(document).on("change",".input-basic-info",function(e){var t=$(this);if(!t.data("requestRunning")){t.data("requestRunning",!0),t.removeClass("error");var r=null;r=t.is(":checkbox")?t.is(":checked")?t.val():null:t.val(),name=t.attr("id"),id=t.attr("data-id"),$indicator=$('<i class="fa fa-refresh fa-spin form-control-feedback"></i>');var a=$("#team_id").val();if(t.hasClass("not-approved")?isApproved=!1:isApproved=!0,"undefined"==typeof name&&(name=t.attr("same-id")),$("#"+name+"-error").remove(),$parent=t.parent(),data={},data.name=name,data.value=r,data._token=token,data.isApproved=isApproved,data.team=a,"undefined"!=typeof id&&(data.id=id),"start_at"==name&&(input="end_at",valueEndAt=$("#end_at").val(),data[input]=valueEndAt),"end_at"==name&&(input="start_at",valueStartAt=$("#start_at").val(),data[input]=valueStartAt),data.project_id=project_id,"close_date"==name&&(input="close_date",valueCloseDate=$("#close_date").val(),data[input]=valueCloseDate),url=urlEditBasicInfo,t.prop("disabled",!0),$('[data-toggle="tooltip"], .tooltip').tooltip("hide"),$parent.hasClass("input-group")){data.isQuality=!0,$rightAddon=$parent.find(".form-control + .input-group-addon");var o=$rightAddon.outerWidth()+15;$indicator.css("right",o+"px")}else t.hasClass("scope")&&(data.isScope=!0),$indicator.css("right","25px");t.hasClass("id-source-server")&&(data.isSourceServer=!0,$indicator.css("top","70px")),$indicator.insertAfter(t),t.hasClass("select2-hidden-accessible")&&$parent.find(".select2-selection__arrow").addClass("display-none"),$.ajax({url:url,type:"post",dataType:"json",data:data,success:function(e){if(e.hasOwnProperty("data")&&e.data.hasOwnProperty("total_cost_approve_detail")&&(globalTotalApproveCostDetail=e.data.total_cost_approve_detail?e.data.total_cost_approve_detail:0),e.status){if(e.result.duration&&$(".duration").html(e.result.duration),showOrHideButtonSubmitWorkorder(e.isCheckShowSubmit),isApproved){var a=$('[same-id="'+t.attr("same-id")+'"]');e.result.isChange?t.hasClass("select2-hidden-accessible")?($parent.find(".select2-selection").css("background","#f7f0cb"),a.length>0&&a.parent().find(".select2-selection").css("background","#f7f0cb")):(t.addClass("changed"),a.length>0&&a.addClass("changed")):t.hasClass("select2-hidden-accessible")?$parent.find(".select2-selection").css("background","#fff"):t.removeClass("changed")}var o=e.result.flat_resources;"undefined"!=typeof o&&o&&updateFlatResource(o,r)}else e.message_error.name&&t.after('<label id="name-error" class="error" for="name">'+e.message_error.name[0]+"</label>"),e.message_error.end_at&&t.after('<label id="end_at-error" class="error" for="end_at">'+e.message_error.end_at[0]+"</label>"),e.message_error.start_at&&t.after('<label id="start_at-error" class="error" for="start_at">'+e.message_error.start_at[0]+"</label>"),e.message_error.billable_effort&&$parent.after('<label id="billable_effort-error" class="error" for="billable_effort">'+e.message_error.billable_effort[0]+"</label>"),e.message_error.plan_effort&&$parent.after('<label id="plan_effort-error" class="error" for="plan_effort">'+e.message_error.plan_effort[0]+"</label>"),e.message_error.cost_approved_production&&($("#cost_approved_production").addClass("error"),$("#cost_approved_production-error").remove(),$parent.after('<label id="cost_approved_production-error" class="error" for="cost_approved_production">'+e.message_error.cost_approved_production[0]+"</label>")),e.message_error.lineofcode_baseline&&t.after('<label id="lineofcode_baseline-error" class="error" for="lineofcode_baseline">'+e.message_error.lineofcode_baseline[0]+"</label>"),e.message_error.lineofcode_current&&t.after('<label id="lineofcode_current-error" class="error" for="lineofcode_current">'+e.message_error.lineofcode_current[0]+"</label>"),e.message_error.id_git_external&&t.after('<label id="id_git_external-error" class="error" for="id_git_external">'+e.message_error.id_git_external[0]+"</label>"),e.message_error.id_redmine_external&&t.after('<label id="id_redmine_external-error" class="error" for="id_redmine_external">'+e.message_error.id_redmine_external[0]+"</label>"),e.message_error.schedule_link&&t.after('<label id="schedule_link-error" class="error" for="schedule_link">'+e.message_error.schedule_link[0]+"</label>"),"undefined"!=typeof e.popuperror&&1==e.popuperror&&("undefined"!=typeof e.reload&&1==e.reload?window.location.reload():$("#modal-task-close").modal("show"))},complete:function(){t.data("requestRunning",!1),t.prop("disabled",!1),t.removeAttr("data-requestRunning"),$indicator.remove(),t.hasClass("select2-hidden-accessible")&&$parent.find(".select2-selection__arrow").removeClass("display-none"),$valueTypeMM=$("#type_mm").attr("data-original-title"),"type_mm"===name&&$("#cost_approved_production").trigger("change"),setTimeout(function(){$('[same-id="type_mm"]').next(".select2-container").tooltip({title:$valueTypeMM})},300)}})}}),$(document).on("click",".delete-performance",function(e){workorderApproved.project_member?deleteWorkorderApproved("performance",this,urlAddPerformance):deleteWorkorderNotApproved("performance",this,urlAddPerformance)}),$(document).on("change",".input-reason-change-workorder",function(){id=$(this).data("id"),value=$(this).val(),data={_token:token,id:id,reason:value,project_id:project_id},url=urlUpdateReason,$.ajax({url:url,type:"post",dataType:"json",data:data,success:function(e){e.status||($("#modal-warning-notification .text-default").html(e.message),$("#modal-warning-notification").modal("show"))},error:function(){$("#modal-warning-notification .text-default").html(data.message),$("#modal-warning-notification").modal("show")}})}),$(document).on("click",".edit-cm-plan",function(){dataId=$(this).data("id"),$(".flex-text-"+dataId).flexText(),$(".content-cm-plan-"+dataId).addClass("display-none"),$(".input-cm-plan-"+dataId).removeClass("display-none"),$(".save-cm-plan-"+dataId).removeClass("display-none"),$(this).addClass("display-none"),$(".delete-cm-plan-"+dataId).addClass("display-none"),$(".refresh-cm-plan-"+dataId).removeClass("display-none"),$(".input-cm-plan-"+dataId).parent().addClass("display-block"),setTimeout(function(){input=$(".input-cm-plan-"+dataId),input.focus();var e=input.val();input.val(""),input.val(e)},0)}),$(document).on("click",".refresh-cm-plan",function(){dataId=$(this).data("id"),$(this).addClass("display-none"),$(".error-validate-cm-plan-"+dataId).remove(),$(".content-cm-plan-"+dataId).removeClass("display-none"),$(".input-cm-plan-"+dataId).addClass("display-none"),$(".input-cm-plan-"+dataId).val($(".content-cm-plan-"+dataId).text()),$(".save-cm-plan-"+dataId).addClass("display-none"),$(".delete-cm-plan-"+dataId).removeClass("display-none"),$(".edit-cm-plan-"+dataId).removeClass("display-none"),$(".input-cm-plan-"+dataId).parent().removeClass("display-block"),$(".content-cm-plan-"+dataId).height()>57?$(".input-cm-plan-"+dataId).height($(".content-cm-plan-"+dataId).height()):$(".input-cm-plan-"+dataId).height(57)}),$(document).on("click",".add-cm-plan",function(){$(".div-cm-plan-hidden").removeClass("display-none"),$(".div-cm-plan-hidden .flex-text-wrap").addClass("display-block"),setTimeout(function(){input=$(".input-cm-plan-add"),input.focus();var e=input.val();input.val(""),input.val(e)},0),$(this).addClass("display-none")}),$(document).on("click",".remove-cm-plan",function(){$(".div-cm-plan-hidden").addClass("display-none"),$(".input-cm-plan-add").val(""),$(".add-cm-plan").removeClass("display-none"),$(".error-validate-cm-plan").remove()}),$(document).on("click",".save-cm-plan",function(){$(this).data("requestRunning")||(element=$(this),$(this).data("requestRunning",!0),$(this).addClass("display-none"),id=$(this).data("id"),"undefined"!=typeof id?($(".error-validate-cm-plan-"+id).remove(),val=$(".input-cm-plan-"+id).val(),data={_token:token,content:val,project_id:project_id,id:id,isEdit:!0},$("#loading-item-cmplan-"+id).removeClass("display-none")):($(".error-validate-cm-plan").remove(),val=$(".input-cm-plan-add").val(),data={_token:token,content:val,project_id:project_id,isAddNew:!0},$("#loading-item-cmplan").removeClass("display-none")),url=urlAddCMPlan,$.ajax({url:url,type:"post",dataType:"json",data:data,success:function(e){e.status?($(".workorder-cm-plan").html(e.content),showOrHideButtonSubmitWorkorder(e.isCheckShowSubmit)):e.message_error.content&&("undefined"!=typeof id?$(".cm-plan-"+id+" div:last").after('<p class="word-break error-validate error-validate-cm-plan-'+id+'" for="input-cm-plan-'+id+'">'+e.message_error.content[0]+"</p>"):$(".div-cm-plan-hidden .cm-plan > textarea").after('<p class="word-break error-validate error-validate-cm-plan" for="input-cm-plan">'+e.message_error.content[0]+"</p>"))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){element.data("requestRunning",!1),element.removeClass("display-none"),"undefined"!=typeof id?$("#loading-item-cmplan-"+id).addClass("display-none"):$("#loading-item-cmplan").addClass("display-none")}}))}),$(document).on("click",".delete-cm-plan",function(e){$("#modal-delete-confirm-new").modal("show"),displayTextDeleteConfirm(element),dataUrl=urlAddCMPlan,$(document).on("click","#modal-delete-confirm-new .btn-ok",function(){$("#modal-delete-confirm-new").modal("hide"),$(this).data("requestRunning")||($(this).data("requestRunning",!0),isDelete=!0,data={_token:token,project_id:project_id,id:dataId,isDelete:isDelete},$.ajax({url:dataUrl,type:"post",dataType:"json",data:data,success:function(e){e.status?(showOrHideButtonSubmitWorkorder(e.isCheckShowSubmit),$(".div-cm-plan-"+dataId).remove()):($("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show"))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$("#modal-delete-confirm-new .btn-ok").data("requestRunning",!1)}}))})}),$(document).on("keypress",".input-cm-plan",function(){$(this).height("100%")}),$(document).on("click",".delete-quality",function(e){$("#modal-delete-confirm-new").modal("show"),dataId=$(this).data("id"),dataUrl=urlAddQuality,$(document).on("click","#modal-delete-confirm-new .btn-ok",function(){$("#modal-delete-confirm-new").modal("hide"),$(this).data("requestRunning")||($(this).data("requestRunning",!0),isDelete=!0,data={_token:token,project_id:project_id,id:dataId,isDelete:isDelete},$.ajax({url:dataUrl,type:"post",dataType:"json",data:data,success:function(e){e.status?($(".workorder-quality").html(e.content),showOrHideButtonSubmitWorkorder(e.isCheckShowSubmit)):($("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show"))},error:function(){$("#modal-warning-notification .text-default").html(messageError),$("#modal-warning-notification").modal("show")},complete:function(){$("#modal-delete-confirm-new .btn-ok").data("requestRunning",!1)}}))})}),$(document).on("click",".add-critical-dependencies",function(e){workorderApproved.critical_dependencies?showFormAddWorkorderApproved("critical-dependencies",TYPE_CRITICAL_DEPENDENCIES):showFormAddWorkorderNotApproved("critical-dependencies",TYPE_CRITICAL_DEPENDENCIES)}),$(document).on("click",".remove-critical-dependencies",function(e){workorderApproved.critical_dependencies?removeFormAddWorkorderApproved("critical-dependencies",this,TYPE_CRITICAL_DEPENDENCIES):removeFormAddWorkorderNotApproved("critical-dependencies",TYPE_CRITICAL_DEPENDENCIES)}),$(document).on("click",".delete-critical-dependencies",function(e){workorderApproved.critical_dependencies?deleteWorkorderApproved("critical-dependencies",this,urlAddCriticalDepenrencies,TYPE_CRITICAL_DEPENDENCIES):deleteWorkorderNotApproved("critical-dependencies",this,urlAddCriticalDepenrencies,TYPE_CRITICAL_DEPENDENCIES)}),$(document).on("click",".save-critical-dependencies",function(){workorderApproved.critical_dependencies?saveWorkorderApproved("critical-dependencies",this,urlAddCriticalDepenrencies,TYPE_CRITICAL_DEPENDENCIES):saveWorkorderNotApproved("critical-dependencies",this,urlAddCriticalDepenrencies,TYPE_CRITICAL_DEPENDENCIES)}),$(document).on("click",".edit-critical-dependencies",function(){workorderApproved.critical_dependencies?editWorkorderApproved("critical-dependencies",this,TYPE_CRITICAL_DEPENDENCIES):editWorkorderNotApproved("critical-dependencies",this,TYPE_CRITICAL_DEPENDENCIES)}),$(document).on("click",".refresh-critical-dependencies",function(){workorderApproved.critical_dependencies?refreshWorkorderApproved("critical-dependencies",this,TYPE_CRITICAL_DEPENDENCIES):refreshWorkorderNotApproved("critical-dependencies",this,TYPE_CRITICAL_DEPENDENCIES)}),$(document).on("click",".add-new-critical-dependencies",function(){workorderApproved.critical_dependencies?saveDraftWorkorderApproved("critical-dependencies",this,urlAddCriticalDepenrencies,TYPE_CRITICAL_DEPENDENCIES):submitWorkorderNotApproved("critical-dependencies",this,urlAddCriticalDepenrencies,TYPE_CRITICAL_DEPENDENCIES)}),$(document).on("click",".add-assumption-constrains",function(e){workorderApproved.critical_dependencies?showFormAddWorkorderApproved("assumption-constrains",TYPE_ASSUMPTION_CONSTRAIN):showFormAddWorkorderNotApproved("assumption-constrains",TYPE_ASSUMPTION_CONSTRAIN)}),$(document).on("click",".remove-assumption-constrains",function(e){workorderApproved.critical_dependencies?removeFormAddWorkorderApproved("assumption-constrains",this,TYPE_ASSUMPTION_CONSTRAIN):removeFormAddWorkorderNotApproved("assumption-constrains",TYPE_ASSUMPTION_CONSTRAIN)}),$(document).on("click",".delete-assumption-constrains",function(e){workorderApproved.critical_dependencies?deleteWorkorderApproved("assumption-constrains",this,urlAddAssumptionConstrain,TYPE_ASSUMPTION_CONSTRAIN):deleteWorkorderNotApproved("assumption-constrains",this,urlAddAssumptionConstrain,TYPE_ASSUMPTION_CONSTRAIN)}),$(document).on("click",".save-assumption-constrains",function(){workorderApproved.critical_dependencies?saveWorkorderApproved("assumption-constrains",this,urlAddAssumptionConstrain,TYPE_ASSUMPTION_CONSTRAIN):saveWorkorderNotApproved("assumption-constrains",this,urlAddAssumptionConstrain,TYPE_ASSUMPTION_CONSTRAIN)}),$(document).on("click",".edit-assumption-constrains",function(){workorderApproved.critical_dependencies?editWorkorderApproved("assumption-constrains",this,TYPE_ASSUMPTION_CONSTRAIN):editWorkorderNotApproved("assumption-constrains",this,TYPE_ASSUMPTION_CONSTRAIN)}),$(document).on("click",".refresh-assumption-constrains",function(){workorderApproved.critical_dependencies?refreshWorkorderApproved("assumption-constrains",this,TYPE_ASSUMPTION_CONSTRAIN):refreshWorkorderNotApproved("assumption-constrains",this,TYPE_ASSUMPTION_CONSTRAIN)}),$(document).on("click",".add-new-assumption-constrains",function(){workorderApproved.critical_dependencies?saveDraftWorkorderApproved("assumption-constrains",this,urlAddAssumptionConstrain,TYPE_ASSUMPTION_CONSTRAIN):submitWorkorderNotApproved("assumption-constrains",this,urlAddAssumptionConstrain,TYPE_ASSUMPTION_CONSTRAIN)}),$(document).on("click","#sync_project_allocation",function(){var e=$(this).data("id");$(this).prop("disabled",!0),e&&$.ajax({url:urlSyncTeamAllocation,type:"post",data:{projectId:e},dataType:"text",success:function(e){window.location.reload()},error:function(){alert("ajax fail to fetch data")}})}),$(document).on("click",".sync_report_example",function(){var e=$(this).data("id");$(this).prop("disabled",!0),e&&$.ajax({url:urlSyncReportExample,type:"post",data:{projectId:e},dataType:"text",success:function(e){window.location.reload()},error:function(){alert("ajax fail to fetch data")}})}),$(document).on("click",".add-risk",function(){var e=$(this),t=e.data("project-id");$(".add-risk").prop("disabled",!0),e.find("i.fa-plus").removeClass("fa-plus").addClass("fa-refresh").addClass("fa-spin"),$.ajax({url:urlEditRisk,type:"get",data:{projectId:t},dataType:"text",success:function(e){BootstrapDialog.show({title:modalRiskTitle,cssClass:"risk-dialog",message:$("<div></div>").html(e),closable:!1,buttons:[{id:"btn-close",icon:"fa fa-close",label:"Close",cssClass:"btn-primary",autospin:!1,action:function(e){e.close()}},{id:"btn-save",icon:"glyphicon glyphicon-check",label:"Save",cssClass:"btn-primary",autospin:!1,action:function(e){$(".form-riks-detail").submit()}}]})},error:function(){alert("ajax fail to fetch data")},complete:function(){e.find("i.fa-refresh").addClass("fa-plus").removeClass("fa-refresh").removeClass("fa-spin"),$(".add-risk").prop("disabled",!1)}})}),$(document).on("click",".add-issue",function(){var e=$(this);e.data("project-id");$(".add-issue").prop("disabled",!0),e.find("i.fa-plus").removeClass("fa-plus").addClass("fa-refresh").addClass("fa-spin"),$.ajax({url:urlEditIssue,type:"get",data:{projectId:projectId},dataType:"text",success:function(e){BootstrapDialog.show({title:modalIssueTitle,cssClass:"task-dialog",message:$("<div></div>").html(e),closable:!1,buttons:[{id:"btn-close",icon:"fa fa-close",label:"Close",cssClass:"btn-primary",autospin:!1,action:function(e){e.close()}},{id:"btn-save",icon:"glyphicon glyphicon-check",label:"Save",cssClass:"btn-primary",autospin:!1,action:function(e){$(".form-issue-detail").submit()}}]})},error:function(){alert("ajax fail to fetch data")},complete:function(){e.find("i.fa-refresh").addClass("fa-plus").removeClass("fa-refresh").removeClass("fa-spin"),$(".add-issue").prop("disabled",!1)}})}),$(document).on("click",".remove-risk",function(e){workorderApproved.risk?removeFormAddWorkorderApproved("risk",this,TYPE_RISK):removeFormAddWorkorderNotApproved("risk",TYPE_RISK)}),$(document).on("click",".delete-risk",function(e){workorderApproved.risk?deleteWorkorderApproved("risk",this,urlAddRisk,TYPE_RISK):deleteWorkorderNotApproved("risk",this,urlAddRisk,TYPE_RISK)}),$(document).on("click",".delete-issue",function(){$("#modal-delete-confirm-issue").modal("show");var e=$(this).attr("data-id");$("#modal-delete-confirm-issue").find(".btn-submit").attr("data-id",e)}),$(document).on("click","#modal-delete-confirm-issue .btn-submit",function(){$("#modal-delete-confirm-issue").modal("hide");var e=$(this).attr("data-id");$.ajax({url:urlDeleteIssue,type:"post",data:{issueId:e},success:function(t){$("tr[data-id='"+e+"']").remove()},error:function(){alert("ajax fail to fetch data")}})}),$(document).on("click",".save-risk",function(){});var iconClassEdit="fa-pencil-square-o",iconClassView="fa-eye";$(document).on("click",".edit-risk",function(){var e=$(this),t=e.data("id"),r=!0;e.hasClass(iconClassEdit)?e.removeClass(iconClassEdit):(e.removeClass(iconClassView),r=!1),e.find("i.fa-refresh").removeClass("hidden");var a=$(this).data("redirect");"undefined"==typeof a&&a===!1&&(a=""),$.ajax({url:urlEditRisk,type:"get",data:{riskId:t,redirectUrl:a},dataType:"text",success:function(t){var r=[];r.push({id:"btn-close",icon:"fa fa-close",label:RKVarPassGlobal.textClose,cssClass:"btn-primary",autospin:!1,action:function(e){e.close()}}),0==e.data("view")&&r.push({id:"btn-save",icon:"glyphicon glyphicon-check",label:RKVarPassGlobal.textSave,cssClass:"btn-primary",autospin:!1,action:function(e){$(".form-riks-detail").submit()}}),BootstrapDialog.show({title:modalRiskTitle,cssClass:"risk-dialog",message:$("<div></div>").html(t),closable:!1,buttons:r})},error:function(){alert("ajax fail to fetch data")},complete:function(){r?e.addClass(iconClassEdit):e.addClass(iconClassView),e.find("i.fa-refresh").addClass("hidden")}})}),$(document).on("click",".edit-nc",function(){var e=$(this),t=e.data("id"),r=!0;e.hasClass(iconClassEdit)?e.removeClass(iconClassEdit):(e.removeClass(iconClassView),r=!1),e.find("i.fa-refresh").removeClass("hidden");var a=$(this).data("redirect");"undefined"==typeof a&&a===!1&&(a=""),$.ajax({url:urlEditNc,type:"get",data:{ncId:t,redirectUrl:a},dataType:"text",success:function(t){var r=[];r.push({id:"btn-close",icon:"fa fa-close",label:RKVarPassGlobal.textClose,cssClass:"btn-primary",autospin:!1,action:function(e){e.close()}}),0==e.data("view")&&r.push({id:"btn-save",icon:"glyphicon glyphicon-check",label:RKVarPassGlobal.textSave,cssClass:"btn-primary",autospin:!1,action:function(e){$(".form-nc-detail").submit()}}),BootstrapDialog.show({title:modalNcTitle,cssClass:"task-dialog",message:$("<div></div>").html(t),closable:!1,buttons:r})},error:function(){alert("ajax fail to fetch data")},complete:function(){r?e.addClass(iconClassEdit):e.addClass(iconClassView),e.find("i.fa-refresh").addClass("hidden")}})}),$(document).on("click",".refresh-risk",function(){workorderApproved.risk?refreshWorkorderApproved("risk",this,TYPE_RISK):refreshWorkorderNotApproved("risk",this,TYPE_RISK)}),$(document).on("click",".add-new-risk",function(){workorderApproved.risk?saveDraftWorkorderApproved("risk",this,urlAddRisk,TYPE_RISK):submitWorkorderNotApproved("risk",this,urlAddRisk,TYPE_RISK)}),$(document).on("click",".add-stage-and-milestone",function(e){workorderApproved.stage_and_milestone?showFormAddWorkorderApproved("stage-and-milestone",TYPE_STAGE_AND_MILESTONE):showFormAddWorkorderNotApproved("stage-and-milestone",TYPE_STAGE_AND_MILESTONE)}),$(document).on("click",".remove-stage-and-milestone",function(e){workorderApproved.stage_and_milestone?removeFormAddWorkorderApproved("stage-and-milestone",this,TYPE_STAGE_AND_MILESTONE):removeFormAddWorkorderNotApproved("stage-and-milestone",TYPE_STAGE_AND_MILESTONE)}),$(document).on("click",".delete-stage-and-milestone",function(e){workorderApproved.stage_and_milestone?deleteWorkorderApproved("stage-and-milestone",this,urlAddStageAndMilestone,TYPE_STAGE_AND_MILESTONE):deleteWorkorderNotApproved("stage-and-milestone",this,urlAddStageAndMilestone,TYPE_STAGE_AND_MILESTONE)}),$(document).on("click",".save-stage-and-milestone",function(){workorderApproved.stage_and_milestone?saveWorkorderApproved("stage-and-milestone",this,urlAddStageAndMilestone,TYPE_STAGE_AND_MILESTONE):saveWorkorderNotApproved("stage-and-milestone",this,urlAddStageAndMilestone,TYPE_STAGE_AND_MILESTONE)}),$(document).on("click",".edit-stage-and-milestone",function(e){e.preventDefault(),id=$(this).data("id"),$(".tr-stage-"+id+" .select2").addClass("display-block"),workorderApproved.stage_and_milestone?editWorkorderApproved("stage-and-milestone",this,TYPE_STAGE_AND_MILESTONE):editWorkorderNotApproved("stage-and-milestone",this,TYPE_STAGE_AND_MILESTONE)}),$(document).on("click",".refresh-stage-and-milestone",function(e){e.preventDefault(),id=$(this).data("id"),$(".tr-stage-"+id+" .select2").removeClass("display-block"),workorderApproved.stage_and_milestone?refreshWorkorderApproved("stage-and-milestone",this,TYPE_STAGE_AND_MILESTONE):refreshWorkorderNotApproved("stage-and-milestone",this,TYPE_STAGE_AND_MILESTONE)}),$(document).on("click",".add-new-stage-and-milestone",function(){workorderApproved.stage_and_milestone?saveDraftWorkorderApproved("stage-and-milestone",this,urlAddStageAndMilestone,TYPE_STAGE_AND_MILESTONE):submitWorkorderNotApproved("stage-and-milestone",this,urlAddStageAndMilestone,TYPE_STAGE_AND_MILESTONE)}),$(document).on("click",".add-member_communication",function(e){workorderApproved.member_communication?showFormAddWorkorderApproved("member_communication",TYPE_MEMBER_COMMUNICATION):showFormAddWorkorderNotApproved("member_communication",TYPE_MEMBER_COMMUNICATION)}),$(document).on("click",".remove-member_communication",function(e){workorderApproved.member_communication?removeFormAddWorkorderApproved("member_communication",this,TYPE_MEMBER_COMMUNICATION):removeFormAddWorkorderNotApproved("member_communication",TYPE_MEMBER_COMMUNICATION)}),$(document).on("click",".delete-member_communication",function(e){workorderApproved.member_communication?deleteWorkorderApproved("member_communication",this,urlAddMemberCommunication,TYPE_MEMBER_COMMUNICATION):deleteWorkorderNotApproved("member_communication",this,urlAddMemberCommunication,TYPE_MEMBER_COMMUNICATION)}),$(document).on("click",".save-member_communication",function(){workorderApproved.member_communication?saveWorkorderApproved("member_communication",this,urlAddMemberCommunication,TYPE_MEMBER_COMMUNICATION):saveWorkorderNotApproved("member_communication",this,urlAddMemberCommunication,TYPE_MEMBER_COMMUNICATION)}),$(document).on("click",".edit-member_communication",function(){id=$(this).data("id"),$(".tr-member_communication-"+id+" select").select2().on("select2:close",function(e){tabToChange(e)}),workorderApproved.member_communication?editWorkorderApproved("member_communication",this,TYPE_MEMBER_COMMUNICATION):editWorkorderNotApproved("member_communication",this,TYPE_MEMBER_COMMUNICATION)}),$(document).on("click",".refresh-member_communication",function(){id=$(this).data("id"),$(".tr-member_communication-"+id+" .select2").addClass("display-none"),workorderApproved.member_communication?refreshWorkorderApproved("member_communication",this,TYPE_MEMBER_COMMUNICATION):refreshWorkorderNotApproved("member_communication",this,TYPE_MEMBER_COMMUNICATION)}),$(document).on("click",".add-new-member_communication",function(){workorderApproved.member_communication?saveDraftWorkorderApproved("member_communication",this,urlAddMemberCommunication,TYPE_MEMBER_COMMUNICATION):submitWorkorderNotApproved("member_communication",this,urlAddMemberCommunication,TYPE_MEMBER_COMMUNICATION)}),$(document).on("click",".add-customer_communication",function(e){workorderApproved.customer_communication?showFormAddWorkorderApproved("customer_communication",TYPE_CUSTOMER_COMMUNICATION):showFormAddWorkorderNotApproved("customer_communication",TYPE_CUSTOMER_COMMUNICATION)}),$(document).on("click",".remove-customer_communication",function(e){workorderApproved.customer_communication?removeFormAddWorkorderApproved("customer_communication",this,TYPE_CUSTOMER_COMMUNICATION):removeFormAddWorkorderNotApproved("customer_communication",TYPE_CUSTOMER_COMMUNICATION)}),$(document).on("click",".delete-customer_communication",function(e){workorderApproved.customer_communication?deleteWorkorderApproved("customer_communication",this,urlAddCustomerCommunication,TYPE_CUSTOMER_COMMUNICATION):deleteWorkorderNotApproved("customer_communication",this,urlAddCustomerCommunication,TYPE_CUSTOMER_COMMUNICATION)}),$(document).on("click",".save-customer_communication",function(){workorderApproved.customer_communication?saveWorkorderApproved("customer_communication",this,urlAddCustomerCommunication,TYPE_CUSTOMER_COMMUNICATION):saveWorkorderNotApproved("customer_communication",this,urlAddCustomerCommunication,TYPE_CUSTOMER_COMMUNICATION)}),$(document).on("click",".edit-customer_communication",function(){id=$(this).data("id"),$(".tr-customer_communication-"+id+" select").select2().on("select2:close",function(e){tabToChange(e)}),workorderApproved.customer_communication?editWorkorderApproved("customer_communication",this,TYPE_CUSTOMER_COMMUNICATION):editWorkorderNotApproved("customer_communication",this,TYPE_CUSTOMER_COMMUNICATION)}),$(document).on("click",".refresh-customer_communication",function(){id=$(this).data("id"),$(".tr-customer_communication-"+id+" .select2").addClass("display-none"),workorderApproved.customer_communication?refreshWorkorderApproved("customer_communication",this,TYPE_CUSTOMER_COMMUNICATION):refreshWorkorderNotApproved("customer_communication",this,TYPE_CUSTOMER_COMMUNICATION)}),$(document).on("click",".add-new-customer_communication",function(){workorderApproved.customer_communication?saveDraftWorkorderApproved("customer_communication",this,urlAddCustomerCommunication,TYPE_CUSTOMER_COMMUNICATION):submitWorkorderNotApproved("customer_communication",this,urlAddCustomerCommunication,TYPE_CUSTOMER_COMMUNICATION)}),$(document).on("click",".add-training",function(e){workorderApproved.training?showFormAddWorkorderApproved("training",TYPE_TRAINING):showFormAddWorkorderNotApproved("training",TYPE_TRAINING)}),$(document).on("click",".remove-training",function(e){workorderApproved.training?removeFormAddWorkorderApproved("training",this,TYPE_TRAINING):removeFormAddWorkorderNotApproved("training",TYPE_TRAINING)}),$(document).on("click",".delete-training",function(e){workorderApproved.training?deleteWorkorderApproved("training",this,urlAddTraining,TYPE_TRAINING):deleteWorkorderNotApproved("training",this,urlAddTraining,TYPE_TRAINING)}),$(document).on("click",".save-training",function(){workorderApproved.training?saveWorkorderApproved("training",this,urlAddTraining,TYPE_TRAINING):saveWorkorderNotApproved("training",this,urlAddTraining,TYPE_TRAINING)}),$(document).on("click",".edit-training",function(){id=$(this).data("id"),$(".tr-training-"+id+" select").select2().on("select2:close",function(e){tabToChange(e)}),workorderApproved.training?editWorkorderApproved("training",this,TYPE_TRAINING):editWorkorderNotApproved("training",this,TYPE_TRAINING)}),$(document).on("click",".refresh-training",function(){id=$(this).data("id"),$(".tr-training-"+id+" .select2").addClass("display-none"),workorderApproved.training?refreshWorkorderApproved("training",this,TYPE_TRAINING):refreshWorkorderNotApproved("training",this,TYPE_TRAINING)}),$(document).on("click",".add-new-training",function(){workorderApproved.training?saveDraftWorkorderApproved("training",this,urlAddTraining,TYPE_TRAINING):submitWorkorderNotApproved("training",this,urlAddTraining,TYPE_TRAINING)}),$(document).on("click",".add-communication_meeting",function(e){workorderApproved.communication_meeting?showFormAddWorkorderApproved("communication_meeting",TYPE_COMMUNICATION_MEETING):showFormAddWorkorderNotApproved("communication_meeting",TYPE_COMMUNICATION_MEETING);
}),$(document).on("click",".remove-communication_meeting",function(e){workorderApproved.communication_meeting?removeFormAddWorkorderApproved("communication_meeting",this,TYPE_COMMUNICATION_MEETING):removeFormAddWorkorderNotApproved("communication_meeting",TYPE_COMMUNICATION_MEETING)}),$(document).on("click",".delete-communication_meeting",function(e){workorderApproved.communication_meeting?deleteWorkorderApproved("communication_meeting",this,urlAddProjCommunication,TYPE_COMMUNICATION_MEETING):deleteWorkorderNotApproved("communication_meeting",this,urlAddProjCommunication,TYPE_COMMUNICATION_MEETING)}),$(document).on("click",".save-communication_meeting",function(){workorderApproved.communication_meeting?saveWorkorderApproved("communication_meeting",this,urlAddProjCommunication,TYPE_COMMUNICATION_MEETING):saveWorkorderNotApproved("communication_meeting",this,urlAddProjCommunication,TYPE_COMMUNICATION_MEETING)}),$(document).on("click",".edit-communication_meeting",function(){id=$(this).data("id"),workorderApproved.communication_meeting?editWorkorderApproved("communication_meeting",this,TYPE_COMMUNICATION_MEETING):editWorkorderNotApproved("communication_meeting",this,TYPE_COMMUNICATION_MEETING)}),$(document).on("click",".refresh-communication_meeting",function(){id=$(this).data("id"),workorderApproved.communication_meeting?refreshWorkorderApproved("communication_meeting",this,TYPE_COMMUNICATION_MEETING):refreshWorkorderNotApproved("communication_meeting",this,TYPE_COMMUNICATION_MEETING)}),$(document).on("click",".add-new-communication_meeting",function(){workorderApproved.communication_meeting?saveDraftWorkorderApproved("communication_meeting",this,urlAddProjCommunication,TYPE_COMMUNICATION_MEETING):submitWorkorderNotApproved("communication_meeting",this,urlAddProjCommunication,TYPE_COMMUNICATION_MEETING)}),$(document).on("click",".add-communication_report",function(e){workorderApproved.communication_report?showFormAddWorkorderApproved("communication_report",TYPE_COMMUNICATION_REPORT):showFormAddWorkorderNotApproved("communication_report",TYPE_COMMUNICATION_REPORT)}),$(document).on("click",".remove-communication_report",function(e){workorderApproved.communication_report?removeFormAddWorkorderApproved("communication_report",this,TYPE_COMMUNICATION_REPORT):removeFormAddWorkorderNotApproved("communication_report",TYPE_COMMUNICATION_REPORT)}),$(document).on("click",".delete-communication_report",function(e){workorderApproved.communication_report?deleteWorkorderApproved("communication_report",this,urlAddProjCommunication,TYPE_COMMUNICATION_REPORT):deleteWorkorderNotApproved("communication_report",this,urlAddProjCommunication,TYPE_COMMUNICATION_REPORT)}),$(document).on("click",".save-communication_report",function(){workorderApproved.communication_report?saveWorkorderApproved("communication_report",this,urlAddProjCommunication,TYPE_COMMUNICATION_REPORT):saveWorkorderNotApproved("communication_report",this,urlAddProjCommunication,TYPE_COMMUNICATION_REPORT)}),$(document).on("click",".edit-communication_report",function(){id=$(this).data("id"),workorderApproved.communication_report?editWorkorderApproved("communication_report",this,TYPE_COMMUNICATION_REPORT):editWorkorderNotApproved("communication_report",this,TYPE_COMMUNICATION_REPORT)}),$(document).on("click",".refresh-communication_report",function(){id=$(this).data("id"),workorderApproved.communication_report?refreshWorkorderApproved("communication_report",this,TYPE_COMMUNICATION_REPORT):refreshWorkorderNotApproved("communication_report",this,TYPE_COMMUNICATION_REPORT)}),$(document).on("click",".add-new-communication_report",function(){workorderApproved.communication_report?saveDraftWorkorderApproved("communication_report",this,urlAddProjCommunication,TYPE_COMMUNICATION_REPORT):submitWorkorderNotApproved("communication_report",this,urlAddProjCommunication,TYPE_COMMUNICATION_REPORT)}),$(document).on("click",".add-communication_other",function(e){workorderApproved.communication_other?showFormAddWorkorderApproved("communication_other",TYPE_COMMUNICATION_OTHER):showFormAddWorkorderNotApproved("communication_other",TYPE_COMMUNICATION_OTHER)}),$(document).on("click",".remove-communication_other",function(e){workorderApproved.communication_other?removeFormAddWorkorderApproved("communication_other",this,TYPE_COMMUNICATION_OTHER):removeFormAddWorkorderNotApproved("communication_other",TYPE_COMMUNICATION_OTHER)}),$(document).on("click",".delete-communication_other",function(e){workorderApproved.communication_other?deleteWorkorderApproved("communication_other",this,urlAddProjCommunication,TYPE_COMMUNICATION_OTHER):deleteWorkorderNotApproved("communication_other",this,urlAddProjCommunication,TYPE_COMMUNICATION_OTHER)}),$(document).on("click",".save-communication_other",function(){workorderApproved.communication_other?saveWorkorderApproved("communication_other",this,urlAddProjCommunication,TYPE_COMMUNICATION_OTHER):saveWorkorderNotApproved("communication_other",this,urlAddProjCommunication,TYPE_COMMUNICATION_OTHER)}),$(document).on("click",".edit-communication_other",function(){id=$(this).data("id"),workorderApproved.communication_other?editWorkorderApproved("communication_other",this,TYPE_COMMUNICATION_OTHER):editWorkorderNotApproved("communication_other",this,TYPE_COMMUNICATION_OTHER)}),$(document).on("click",".refresh-communication_other",function(){id=$(this).data("id"),workorderApproved.communication_other?refreshWorkorderApproved("communication_other",this,TYPE_COMMUNICATION_OTHER):refreshWorkorderNotApproved("communication_other",this,TYPE_COMMUNICATION_OTHER)}),$(document).on("click",".add-new-communication_other",function(){workorderApproved.communication_other?saveDraftWorkorderApproved("communication_other",this,urlAddProjCommunication,TYPE_COMMUNICATION_OTHER):submitWorkorderNotApproved("communication_other",this,urlAddProjCommunication,TYPE_COMMUNICATION_OTHER)}),$(document).on("click",".add-external-interface",function(e){workorderApproved.external_interface?showFormAddWorkorderApproved("external-interface",TYPE_EXTERNAL_INTERFACE):showFormAddWorkorderNotApproved("external-interface",TYPE_EXTERNAL_INTERFACE)}),$(document).on("click",".remove-external-interface",function(e){workorderApproved.external_interface?removeFormAddWorkorderApproved("external-interface",this,TYPE_EXTERNAL_INTERFACE):removeFormAddWorkorderNotApproved("external-interface",TYPE_EXTERNAL_INTERFACE)}),$(document).on("click",".delete-external-interface",function(e){workorderApproved.external_interface?deleteWorkorderApproved("external-interface",this,urlAddExternalInterface,TYPE_EXTERNAL_INTERFACE):deleteWorkorderNotApproved("external-interface",this,urlAddExternalInterface,TYPE_EXTERNAL_INTERFACE)}),$(document).on("click",".save-external-interface",function(){workorderApproved.external_interface?saveWorkorderApproved("external-interface",this,urlAddExternalInterface,TYPE_EXTERNAL_INTERFACE):saveWorkorderNotApproved("external-interface",this,urlAddExternalInterface,TYPE_EXTERNAL_INTERFACE)}),$(document).on("click",".edit-external-interface",function(){workorderApproved.external_interface?editWorkorderApproved("external-interface",this,TYPE_EXTERNAL_INTERFACE):editWorkorderNotApproved("external-interface",this,TYPE_EXTERNAL_INTERFACE)}),$(document).on("click",".refresh-external-interface",function(){workorderApproved.external_interface?refreshWorkorderApproved("external-interface",this,TYPE_EXTERNAL_INTERFACE):refreshWorkorderNotApproved("external-interface",this,TYPE_EXTERNAL_INTERFACE)}),$(document).on("click",".add-new-external-interface",function(){workorderApproved.external_interface?saveDraftWorkorderApproved("external-interface",this,urlAddExternalInterface,TYPE_EXTERNAL_INTERFACE):submitWorkorderNotApproved("external-interface",this,urlAddExternalInterface,TYPE_EXTERNAL_INTERFACE)}),$(document).on("click",".add-tool-and-infrastructure",function(e){workorderApproved.tool_and_infrastructure?showFormAddWorkorderApproved("tool-and-infrastructure",TYPE_TOOL_AND_INFRASTRUCTURE):showFormAddWorkorderNotApproved("tool-and-infrastructure",TYPE_TOOL_AND_INFRASTRUCTURE)}),$(document).on("click",".remove-tool-and-infrastructure",function(e){workorderApproved.tool_and_infrastructure?removeFormAddWorkorderApproved("tool-and-infrastructure",this,TYPE_TOOL_AND_INFRASTRUCTURE):removeFormAddWorkorderNotApproved("tool-and-infrastructure",TYPE_TOOL_AND_INFRASTRUCTURE)}),$(document).on("click",".delete-tool-and-infrastructure",function(e){workorderApproved.tool_and_infrastructure?deleteWorkorderApproved("tool-and-infrastructure",this,urlAddToolAndInfrastructure,TYPE_TOOL_AND_INFRASTRUCTURE):deleteWorkorderNotApproved("tool-and-infrastructure",this,urlAddToolAndInfrastructure,TYPE_TOOL_AND_INFRASTRUCTURE)}),$(document).on("click",".save-tool-and-infrastructure",function(){workorderApproved.tool_and_infrastructure?saveWorkorderApproved("tool-and-infrastructure",this,urlAddToolAndInfrastructure,TYPE_TOOL_AND_INFRASTRUCTURE):saveWorkorderNotApproved("tool-and-infrastructure",this,urlAddToolAndInfrastructure,TYPE_TOOL_AND_INFRASTRUCTURE)}),$(document).on("click",".edit-tool-and-infrastructure",function(){id=$(this).data("id"),$(".tr-tool-and-infrastructure-"+id+" select").select2().on("select2:close",function(e){tabToChange(e)}),workorderApproved.tool_and_infrastructure?editWorkorderApproved("tool-and-infrastructure",this,TYPE_TOOL_AND_INFRASTRUCTURE):editWorkorderNotApproved("tool-and-infrastructure",this,TYPE_TOOL_AND_INFRASTRUCTURE)}),$(document).on("click",".refresh-tool-and-infrastructure",function(){id=$(this).data("id"),$(".tr-tool-and-infrastructure-"+id+" .select2").addClass("display-none"),workorderApproved.tool_and_infrastructure?refreshWorkorderApproved("tool-and-infrastructure",this,TYPE_TOOL_AND_INFRASTRUCTURE):refreshWorkorderNotApproved("tool-and-infrastructure",this,TYPE_TOOL_AND_INFRASTRUCTURE)}),$(document).on("click",".add-new-tool-and-infrastructure",function(){workorderApproved.tool_and_infrastructure?saveDraftWorkorderApproved("tool-and-infrastructure",this,urlAddToolAndInfrastructure,TYPE_TOOL_AND_INFRASTRUCTURE):submitWorkorderNotApproved("tool-and-infrastructure",this,urlAddToolAndInfrastructure,TYPE_TOOL_AND_INFRASTRUCTURE)}),$(document).on("click",".add-communication",function(e){workorderApproved.communication?showFormAddWorkorderApproved("communication",TYPE_COMMUNICATION):showFormAddWorkorderNotApproved("communication",TYPE_COMMUNICATION)}),$(document).on("click",".remove-communication",function(e){workorderApproved.communication?removeFormAddWorkorderApproved("communication",this,TYPE_COMMUNICATION):removeFormAddWorkorderNotApproved("communication",TYPE_COMMUNICATION)}),$(document).on("click",".delete-communication",function(e){workorderApproved.communication?deleteWorkorderApproved("communication",this,urlAddCommunication,TYPE_COMMUNICATION):deleteWorkorderNotApproved("communication",this,urlAddCommunication,TYPE_COMMUNICATION)}),$(document).on("click",".save-communication",function(){workorderApproved.communication?saveWorkorderApproved("communication",this,urlAddCommunication,TYPE_COMMUNICATION):saveWorkorderNotApproved("communication",this,urlAddCommunication,TYPE_COMMUNICATION)}),$(document).on("click",".edit-communication",function(){workorderApproved.communication?editWorkorderApproved("communication",this,TYPE_COMMUNICATION):editWorkorderNotApproved("communication",this,TYPE_COMMUNICATION)}),$(document).on("click",".refresh-communication",function(){workorderApproved.communication?refreshWorkorderApproved("communication",this,TYPE_COMMUNICATION):refreshWorkorderNotApproved("communication",this,TYPE_COMMUNICATION)}),$(document).on("click",".add-new-communication",function(){workorderApproved.communication?saveDraftWorkorderApproved("communication",this,urlAddCommunication,TYPE_COMMUNICATION):submitWorkorderNotApproved("communication",this,urlAddCommunication,TYPE_COMMUNICATION)}),$(document).on("click",".add-deliverable",function(e){workorderApproved.deliverable?showFormAddWorkorderApproved("deliverable",TYPE_DELIVERABLE):showFormAddWorkorderNotApproved("deliverable",TYPE_DELIVERABLE)}),$(document).on("click",".remove-deliverable",function(e){workorderApproved.deliverable?removeFormAddWorkorderApproved("deliverable",this,TYPE_DELIVERABLE):removeFormAddWorkorderNotApproved("deliverable",TYPE_DELIVERABLE)}),$(document).on("click",".delete-deliverable",function(e){workorderApproved.deliverable?deleteWorkorderApproved("deliverable",this,urlAddDeliverable,TYPE_DELIVERABLE):deleteWorkorderNotApproved("deliverable",this,urlAddDeliverable,TYPE_DELIVERABLE)}),$(document).on("click",".save-deliverable",function(){workorderApproved.deliverable?saveWorkorderApproved("deliverable",this,urlAddDeliverable,TYPE_DELIVERABLE):saveWorkorderNotApproved("deliverable",this,urlAddDeliverable,TYPE_DELIVERABLE)}),$(document).on("click",".edit-deliverable",function(){id=$(this).data("id"),$(".tr-deliverable-"+id+" .select2").addClass("display-block"),workorderApproved.deliverable?editWorkorderApproved("deliverable",this,TYPE_DELIVERABLE):editWorkorderNotApproved("deliverable",this,TYPE_DELIVERABLE)}),$(document).on("click",".refresh-deliverable",function(){id=$(this).data("id"),$(".tr-deliverable-"+id+" .select2").removeClass("display-block"),workorderApproved.deliverable?refreshWorkorderApproved("deliverable",this,TYPE_DELIVERABLE):refreshWorkorderNotApproved("deliverable",this,TYPE_DELIVERABLE)}),$(document).on("click",".add-new-deliverable",function(){workorderApproved.deliverable?saveDraftWorkorderApproved("deliverable",this,urlAddDeliverable,TYPE_DELIVERABLE):submitWorkorderNotApproved("deliverable",this,urlAddDeliverable,TYPE_DELIVERABLE)}),$(document).on("click",".add-assumptions",function(e){workorderApproved.assumptions?showFormAddWorkorderApproved("assumptions",TYPE_ASSUMPTIONS):showFormAddWorkorderNotApproved("assumptions",TYPE_ASSUMPTIONS)}),$(document).on("click",".remove-assumptions",function(e){workorderApproved.assumptions?removeFormAddWorkorderApproved("assumptions",this,TYPE_ASSUMPTIONS):removeFormAddWorkorderNotApproved("assumptions",TYPE_ASSUMPTIONS)}),$(document).on("click",".delete-assumptions",function(e){workorderApproved.assumptions?deleteWorkorderApproved("assumptions",this,urlAddAssumptions,TYPE_ASSUMPTIONS):deleteWorkorderNotApproved("assumptions",this,urlAddAssumptions,TYPE_ASSUMPTIONS)}),$(document).on("click",".save-assumptions",function(){workorderApproved.assumptions?saveWorkorderApproved("assumptions",this,urlAddAssumptions,TYPE_ASSUMPTIONS):saveWorkorderNotApproved("assumptions",this,urlAddAssumptions,TYPE_ASSUMPTIONS)}),$(document).on("click",".edit-assumptions",function(){id=$(this).data("id"),$(".tr-assumptions-"+id+" .select2").removeClass("display-block"),workorderApproved.assumptions?editWorkorderApproved("assumptions",this,TYPE_ASSUMPTIONS):editWorkorderNotApproved("assumptions",this,TYPE_ASSUMPTIONS)}),$(document).on("click",".refresh-assumptions",function(){id=$(this).data("id"),workorderApproved.assumptions?refreshWorkorderApproved("assumptions",this,TYPE_ASSUMPTIONS):refreshWorkorderNotApproved("assumptions",this,TYPE_ASSUMPTIONS)}),$(document).on("click",".add-new-assumptions",function(){workorderApproved.assumptions?saveDraftWorkorderApproved("assumptions",this,urlAddAssumptions,TYPE_ASSUMPTIONS):submitWorkorderNotApproved("assumptions",this,urlAddAssumptions,TYPE_ASSUMPTIONS)}),$(document).on("click",".add-security",function(e){workorderApproved.security?showFormAddWorkorderApproved("security",TYPE_SECURITY):showFormAddWorkorderNotApproved("security",TYPE_SECURITY)}),$(document).on("click",".remove-security",function(e){workorderApproved.security?removeFormAddWorkorderApproved("security",this,TYPE_SECURITY):removeFormAddWorkorderNotApproved("security",TYPE_SECURITY)}),$(document).on("click",".delete-security",function(e){workorderApproved.security?deleteWorkorderApproved("security",this,urlAddSecurity,TYPE_SECURITY):deleteWorkorderNotApproved("security",this,urlAddSecurity,TYPE_SECURITY)}),$(document).on("click",".save-security",function(){workorderApproved.security?saveWorkorderApproved("security",this,urlAddSecurity,TYPE_SECURITY):saveWorkorderNotApproved("security",this,urlAddSecurity,TYPE_SECURITY)}),$(document).on("click",".edit-security",function(){id=$(this).data("id"),$(".tr-security-"+id+" select").select2().on("select2:close",function(e){tabToChange(e)}),workorderApproved.security?editWorkorderApproved("security",this,TYPE_SECURITY):editWorkorderNotApproved("security",this,TYPE_SECURITY)}),$(document).on("click",".refresh-security",function(){id=$(this).data("id"),$(".tr-security-"+id+" .select2").addClass("display-none"),workorderApproved.security?refreshWorkorderApproved("security",this,TYPE_SECURITY):refreshWorkorderNotApproved("security",this,TYPE_SECURITY)}),$(document).on("click",".add-new-security",function(){workorderApproved.security?saveDraftWorkorderApproved("security",this,urlAddSecurity,TYPE_SECURITY):submitWorkorderNotApproved("security",this,urlAddSecurity,TYPE_SECURITY)}),$(document).on("click",".add-skill_request",function(e){workorderApproved.skill_request?showFormAddWorkorderApproved("skill_request",TYPE_SKILL_REQUEST):showFormAddWorkorderNotApproved("skill_request",TYPE_SKILL_REQUEST)}),$(document).on("click",".remove-skill_request",function(e){workorderApproved.skill_request?removeFormAddWorkorderApproved("skill_request",this,TYPE_SKILL_REQUEST):removeFormAddWorkorderNotApproved("skill_request",TYPE_SKILL_REQUEST)}),$(document).on("click",".delete-skill_request",function(e){workorderApproved.skill_request?deleteWorkorderApproved("skill_request",this,urlAddSkillRequest,TYPE_SKILL_REQUEST):deleteWorkorderNotApproved("skill_request",this,urlAddSkillRequest,TYPE_SKILL_REQUEST)}),$(document).on("click",".save-skill_request",function(){workorderApproved.skill_request?saveWorkorderApproved("skill_request",this,urlAddSkillRequest,TYPE_SKILL_REQUEST):saveWorkorderNotApproved("skill_request",this,urlAddSkillRequest,TYPE_SKILL_REQUEST)}),$(document).on("click",".edit-skill_request",function(){id=$(this).data("id"),$(".tr-skill_request-"+id+" .select2").removeClass("display-block"),workorderApproved.skill_request?editWorkorderApproved("skill_request",this,TYPE_SKILL_REQUEST):editWorkorderNotApproved("skill_request",this,TYPE_SKILL_REQUEST)}),$(document).on("click",".refresh-skill_request",function(){id=$(this).data("id"),workorderApproved.skill_request?refreshWorkorderApproved("skill_request",this,TYPE_SKILL_REQUEST):refreshWorkorderNotApproved("skill_request",this,TYPE_SKILL_REQUEST)}),$(document).on("click",".add-new-skill_request",function(){workorderApproved.skill_request?saveDraftWorkorderApproved("skill_request",this,urlAddSkillRequest,TYPE_SKILL_REQUEST):submitWorkorderNotApproved("skill_request",this,urlAddSkillRequest,TYPE_SKILL_REQUEST)}),$(document).on("click",".add-constraints",function(e){workorderApproved.constraints?showFormAddWorkorderApproved("constraints",TYPE_CONSTRAINTS):showFormAddWorkorderNotApproved("constraints",TYPE_CONSTRAINTS)}),$(document).on("click",".remove-constraints",function(e){workorderApproved.constraints?removeFormAddWorkorderApproved("constraints",this,TYPE_CONSTRAINTS):removeFormAddWorkorderNotApproved("constraints",TYPE_CONSTRAINTS)}),$(document).on("click",".delete-constraints",function(e){workorderApproved.constraints?deleteWorkorderApproved("constraints",this,urlAddAssumptions,TYPE_CONSTRAINTS):deleteWorkorderNotApproved("constraints",this,urlAddAssumptions,TYPE_CONSTRAINTS)}),$(document).on("click",".save-constraints",function(){workorderApproved.constraints?saveWorkorderApproved("constraints",this,urlAddAssumptions,TYPE_CONSTRAINTS):saveWorkorderNotApproved("constraints",this,urlAddAssumptions,TYPE_CONSTRAINTS)}),$(document).on("click",".edit-constraints",function(){id=$(this).data("id"),$(".tr-constraints-"+id+" .select2").removeClass("display-block"),workorderApproved.constraints?editWorkorderApproved("constraints",this,TYPE_CONSTRAINTS):editWorkorderNotApproved("constraints",this,TYPE_CONSTRAINTS)}),$(document).on("click",".refresh-constraints",function(){id=$(this).data("id"),workorderApproved.constraints?refreshWorkorderApproved("constraints",this,TYPE_CONSTRAINTS):refreshWorkorderNotApproved("constraints",this,TYPE_CONSTRAINTS)}),$(document).on("click",".add-new-constraints",function(){workorderApproved.constraints?saveDraftWorkorderApproved("constraints",this,urlAddAssumptions,TYPE_CONSTRAINTS):submitWorkorderNotApproved("constraints",this,urlAddAssumptions,TYPE_CONSTRAINTS)}),$(document).on("click",".add-project-member",function(e){workorderApproved.project_member?showFormAddWorkorderApproved("project-member",TYPE_PROJECT_MEMBER):showFormAddWorkorderNotApproved("project-member",TYPE_PROJECT_MEMBER)}),$(document).on("click",".remove-project-member",function(e){workorderApproved.project_member?removeFormAddWorkorderApproved("project-member",this,TYPE_PROJECT_MEMBER):removeFormAddWorkorderNotApproved("project-member",TYPE_PROJECT_MEMBER)}),$(document).on("click",".delete-project-member",function(e){workorderApproved.project_member?deleteWorkorderApproved("project-member",this,urlAddProjectMember,TYPE_PROJECT_MEMBER):deleteWorkorderNotApproved("project-member",this,urlAddProjectMember,TYPE_PROJECT_MEMBER)}),$(document).on("click",".save-project-member",function(){workorderApproved.project_member?saveWorkorderApproved("project-member",this,urlAddProjectMember,TYPE_PROJECT_MEMBER):saveWorkorderNotApproved("project-member",this,urlAddProjectMember,TYPE_PROJECT_MEMBER)}),$(document).on("click",".edit-project-member",function(){var e=$(this).data("id");$(".tr-project-"+e+" .select2").addClass("display-block"),workorderApproved.project_member?editWorkorderApproved("project-member",this,TYPE_PROJECT_MEMBER):editWorkorderNotApproved("project-member",this,TYPE_PROJECT_MEMBER)}),$(document).on("click",".refresh-project-member",function(){var e=$(this).data("id"),t=$(this).data("employee_id");$(".tr-project-"+e+" .select2").removeClass("display-block"),workorderApproved.project_member?refreshWorkorderApproved("project-member",this,TYPE_PROJECT_MEMBER):refreshWorkorderNotApproved("project-member",this,TYPE_PROJECT_MEMBER),$('.select-search-remote-member[data-id="'+e+'"]').val(t).trigger("change")}),$(document).on("click",".add-new-project-member",function(){workorderApproved.project_member?saveDraftWorkorderApproved("project-member",this,urlAddProjectMember,TYPE_PROJECT_MEMBER):submitWorkorderNotApproved("project-member",this,urlAddProjectMember,TYPE_PROJECT_MEMBER)}),$(document).on("click",".add-derived-expenses",function(e){workorderApproved.devices_expenses?showFormAddWorkorderApproved("derived-expenses",TYPE_WO_DEVICES_EXPENSE):showFormAddWorkorderNotApproved("derived-expenses",TYPE_WO_DEVICES_EXPENSE)}),$(document).on("click",".remove-derived-expenses",function(e){workorderApproved.devices_expenses?removeFormAddWorkorderApproved("derived-expenses",this,TYPE_WO_DEVICES_EXPENSE):removeFormAddWorkorderNotApproved("derived-expenses",TYPE_WO_DEVICES_EXPENSE)}),$(document).on("click",".add-new-derived-expenses",function(){workorderApproved.devices_expenses?saveDraftWorkorderApproved("derived-expenses",this,urlAddDerivedExpenese,TYPE_WO_DEVICES_EXPENSE):submitWorkorderNotApproved("derived-expenses",this,urlAddDerivedExpenese,TYPE_WO_DEVICES_EXPENSE)}),$(document).on("click",".edit-derived-expenses",function(){workorderApproved.devices_expenses?editWorkorderApproved("derived-expenses",this,TYPE_WO_DEVICES_EXPENSE):editWorkorderNotApproved("derived-expenses",this,TYPE_WO_DEVICES_EXPENSE)}),$(document).on("click",".refresh-derived-expenses",function(){workorderApproved.devices_expenses?refreshWorkorderApproved("derived-expenses",this,TYPE_WO_DEVICES_EXPENSE):refreshWorkorderNotApproved("derived-expenses",this,TYPE_WO_DEVICES_EXPENSE)}),$(document).on("click",".save-derived-expenses",function(){workorderApproved.devices_expenses?saveWorkorderApproved("derived-expenses",this,urlAddDerivedExpenese,TYPE_WO_DEVICES_EXPENSE):saveWorkorderNotApproved("derived-expenses",this,urlAddDerivedExpenese,TYPE_WO_DEVICES_EXPENSE)}),$(document).on("click",".delete-derived-expenses",function(e){workorderApproved.devices_expenses?deleteWorkorderApproved("derived-expenses",this,urlAddDerivedExpenese,TYPE_WO_DEVICES_EXPENSE):deleteWorkorderNotApproved("derived-expenses",this,urlAddDerivedExpenese,TYPE_WO_DEVICES_EXPENSE)}),$("body").on("change",".select-same",function(){var e=$(this).val(),t=$(this).attr("same-id");$('.select-same[same-id="'+t+'"]').val(e),select2Same()}),select2Same(),$(document).on("click",".popover-wo-other",function(e){var t=$(this),r=t.data("id"),a=t.attr("name"),o=t.data("type");"assumptions"==o||"constraints"==o?o=assumptionType:"critical"==o?o=criticalType:"security"==o?o=securityType:"skill_request"==o?o=skillRequiredType:"member_communication"==o?o=memberCommunicationType:"customer_communication"==o?o=customerCommunicationType:"communication"==o&&(o=projCommunicationType),$(".popover-wo-other").not(t).popover("hide");var i={_token:token,type:o,attribute:a,id:r};$.ajax({url:urlPopoverWoOther,type:"post",data:i,dataType:"json",success:function(e){t.attr("data-content",e),t.popover({placement:"bottom"}),t.hasClass("inActive")?(t.popover("hide"),t.removeClass("inActive")):(t.popover("show"),t.addClass("inActive"))}})});