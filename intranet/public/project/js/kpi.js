!function(e,t){var a="object"==typeof globVarPass?globVarPass:{},r={init:function(){var t=this;t.initData(),t.plugin(),t.projIndex=[],t.domAver={shortList:e('[data-dom-list="short-ave-team"]'),shortItemHtml:e('[data-dom-item="short-ave-team"]')[0].outerHTML,itemHtml:"",title:e('[data-dom-title="ave-team"]')},t.renderLayoutAverFromProj(),t.getLayoutHrIndex(),t.domProj={itemHtml:e('[data-dom-item="projs"]')[0].outerHTML,list:e('[data-dom-list="projs"]')},t.projIndexCss=["css_value","css_billable_mm"],t.renderDivisions(),t.renderTeamParentReplace(),t.averDetail={title:e('[d-aver-detail="tab-title"]')[0].outerHTML,content:e('[d-aver-detail="tab-content"]')[0].outerHTML},e('[data-dom-item="projs"]').remove(),e('[data-dom-item="short-ave-team"]').remove(),e('[data-dom-item="ave-team"]').remove(),e('[d-dom-fg="btn-export"]').click(function(a){a.preventDefault(),t.exportKpi(e(this))})},initData:function(){var t=moment();e('input[name="to"]').val(t.format("YYYY-MM")),e('input[name="from"]').val(t.subtract("5","M").format("YYYY-MM"))},plugin:function(){e("[data-date-picker]").datepicker({format:"yyyy-mm",useCurrent:!1,viewMode:"months",minViewMode:"months"}),e("#form-kpi-export").validate({rules:{from:{required:!0},to:{required:!0,greaterEqualThan:'[name="from"]'}},messages:{to:{greaterEqualThan:"Must be greater or equal than From"}}})},renderData:function(t){var a=this;a.domProj.list.html(""),a.domAver.title.nextAll().remove(),e('[data-dom-item="short-ave-team"]').remove(),e('[d-aver-detail="tab-title"]').remove(),e('[d-aver-detail="tab-content"]').remove(),a.hrOutTitle.domTr.html(""),a.hrOutTitle.domTrTry.html(""),e('[d-hr-out="body"]').remove(),e('[d-hr-out-try="body"]').remove(),e('[d-hr-out-all="body"]').remove(),e('[d-hr-employee="out"]').remove(),e('[d-hr-employee="join"]').remove();var r=a.renderProject(t.projs);a.renderAverage(r),a.renderAverageShort(r),a.renderAverageDetail(r),a.renderHrIndex(t),e('[data-fg-dom="kpi-result"]').removeClass("hidden"),e('[d-dom-fg="btn-export"]').removeClass("hidden")},renderProject:function(t){var r=this,o=e.extend(!0,{},r.projAverageData),n=0;return e.each(t,function(t,i){var d,m=r.domProj.itemHtml;i.type_mm==a.projEffortTypeMD&&(i.cost_bill=(i.cost_bill/20).toFixed(2),i.cost_plan_total=(i.cost_plan_total/20).toFixed(2),i.cost_plan_current=(i.cost_plan_current/20).toFixed(2),i.cost_resource_total=(i.cost_resource_total/20).toFixed(2),i.cost_resource_current=(i.cost_resource_current/20).toFixed(2),i.cost_actual=(i.cost_actual/20).toFixed(2)),i.qua_number_defect||(i.qua_number_defect=0),i.qua_number_leakage||(i.qua_number_leakage=0),i.qua_defect_value?i.effort_dev=parseFloat(i.qua_number_defect/i.qua_defect_value/20).toFixed(2):i.effort_dev="",i.effort_dev?(i.qua_leakage_mm=parseFloat(i.qua_number_leakage/i.effort_dev).toFixed(2),i.qua_defect_mm=parseFloat(i.qua_number_defect/i.effort_dev).toFixed(2)):(i.qua_leakage_mm=0,i.qua_defect_mm=0),i.pm=i.pm_name+" - "+(i.pm_email?i.pm_email.replace(/@.*$/,""):""),i.type_label="undefined"!=typeof a.projTypes[i.type]?a.projTypes[i.type]:"",i.startMo=moment(i.start_date),i.endMo=moment(i.end_date),i.duaration_day=i.endMo.diff(i.startMo,"days"),i.css_value?i.css_billable_mm=parseFloat(i.cost_bill*i.css_value).toFixed(2):i.css_billable_mm="",i.leakage_billable_mm=parseFloat(i.cost_bill*i.qua_number_leakage).toFixed(2);var l=[],u=[];if(i.team_ids){if(u=i.team_ids.split("-"),i.division=r.getDivisionsName(u),e.each(u,function(e,t){var a=r.getDivisionName(t);return!(a&&!/^p?qa$/gi.test(a))||void l.push(r.fgTeam(t))}),!l.length)return!0}else i.division="";e.each(l,function(e,t){"undefined"==typeof o.team[t]&&(o.team[t]={data:{},count:{},aver:{}}),r.teamParent&&r.teamParent[t]&&"undefined"==typeof o.team[r.teamParent[t]]&&(o.team[r.teamParent[t]]={data:{},count:{},aver:{}})}),n++,i.no=n,e.each(i,function(t,a){if(d=new RegExp("{"+t+"}","gi"),r.projIndex.indexOf(t)>-1){var n;n=!isNaN(a)&&a?parseFloat(a):0,r.projIndexCss.indexOf(t)>-1&&!n?n="":(e.each(l,function(e,a){if("undefined"==typeof o.team[a].data[t]&&(o.team[a].data[t]=0),"undefined"==typeof o.team[a].count[t]&&(o.team[a].count[t]=0),o.team[a].data[t]+=n,o.team[a].count[t]+=1,r.teamParent&&r.teamParent[a]){var i=r.teamParent[a];"undefined"==typeof o.team[i].data[t]&&(o.team[i].data[t]=0),"undefined"==typeof o.team[i].count[t]&&(o.team[i].count[t]=0),o.team[i].data[t]+=n,o.team[i].count[t]+=1}}),"undefined"==typeof o.company.data[t]&&(o.company.data[t]=0),"undefined"==typeof o.company.count[t]&&(o.company.count[t]=0),o.company.data[t]+=n,o.company.count[t]+=1,i.key=n),a=n}m=m.replace(d,a)}),m=m.replace(/\{projbodystyle\}/gi,n%2===0?"proj_body_even":"proj_body_odd"),r.domProj.list.append(m),r.getDataCssMM(o,i,l)}),o},getDataCssMM:function(t,a,r){var o=this,n=["sum_css_mm","sum_leakage_mm","sum_bill_css","sum_bill_leakage"];e.each(r,function(e,r){o.getDataCssMMItem(t.team[r],a,n)}),o.getDataCssMMItem(t.company,a,n)},getDataCssMMItem:function(t,a,r){e.each(r,function(e,a){"undefined"==typeof t.data[a]&&(t.data[a]=0)}),a.cost_bill||(a.cost_bill=0),a.css_value&&(t.data.sum_css_mm+=parseFloat(a.css_value)*parseFloat(a.cost_bill),t.data.sum_bill_css+=parseFloat(a.cost_bill)),t.data.sum_leakage_mm+=parseFloat(a.qua_number_leakage)*parseFloat(a.cost_bill),t.data.sum_bill_leakage+=parseFloat(a.cost_bill)},renderAverage:function(t){var r=this,o="",n=0;e.each(t.team,function(e,t){n++,o+=r.renderAverageItem(t,e,n)}),n++,o+=r.renderAverageItem(t.company,a.labelCompany,n),r.domAver.title.after(o)},renderAverageItem:function(t,a,r){var o=this,n=o.domAver.itemHtml,i=0;return e.isEmptyObject(t.data)?e.each(o.projIndex,function(e,a){var r=new RegExp("{"+a+"}","gi");n=n.replace(r,""),t.aver[a]=""}):(t.data.sum_bill_css?t.data.css_mm=(t.data.sum_css_mm/t.data.sum_bill_css).toFixed(2):t.data.css_mm="",t.data.sum_bill_leakage?t.data.leakage_mm=(t.data.sum_leakage_mm/t.data.sum_bill_leakage).toFixed(2):t.data.leakage_mm="",t.data.css_value||(t.data.css_value="",t.count.css_value=0),e.each(t.data,function(e,a){var r,o=new RegExp("{"+e+"}","gi");r=t.count[e]?(a/t.count[e]).toFixed(2):a,n=n.replace(o,r),i||(i=t.count[e]),t.aver[e]=r})),n.replace(/\{proj_count\}/gi,i).replace(/\{division\}/gi,o.getNameFg(a)).replace(/\{projbodystyle\}/gi,r%2===0?"proj_body_even":"proj_body_odd")},renderAverageShort:function(t){var r=this,o="",n=0;e.each(t.team,function(e,t){n++,o+=r.renderAverageShortItem(t,e,n)}),n++,o+=r.renderAverageShortItem(t.company,a.labelCompany,n),r.domAver.shortList.prepend(o)},renderAverageShortItem:function(t,a,r){var o=this,n=o.domAver.shortItemHtml,i={division:o.getNameFg(a),cost_bill:t.data.cost_bill?t.data.cost_bill:"",aver_cost_effi:t.aver.cost_effi,aver_cost_effectiveness:t.aver.cost_effectiveness,cost_resource_total:t.data.cost_resource_total?t.data.cost_resource_total:"",aver_qua_defect_mm:t.aver.qua_defect_mm,aver_qua_leakage_mm:t.aver.qua_leakage_mm,aver_css_value:t.aver.css_value?t.aver.css_value:""};return e.each(i,function(e,t){var a=new RegExp("{"+e+"}","gi");t&&!isNaN(t)&&(t=parseFloat(t).toFixed(2)),n=n.replace(a,t)}),n=n.replace(/\{projbodystyle\}/gi,r%2===0?"proj_body_even":"proj_body_odd")},renderAverageDetail:function(t){var r=this,o={title:"",content:""};r.renderAverageDetailItem(t.company,a.labelCompany,o),e.each(t.team,function(e,t){r.renderAverageDetailItem(t,e,o)}),e('[d-kpi-dom="tab-title"]').append(o.title),e('[d-kpi-dom="tab-content"]').append(o.content)},renderAverageDetailItem:function(t,a,r){var o=this,n=o.averDetail.title,i=o.averDetail.content;e.isEmptyObject(t.count)?t.aver.evaluation="":t.aver.evaluation=o.getEvaluation(t.aver.sumary_point),e.each(t.aver,function(e,t){var a=new RegExp("{"+e+"}","gi");i=i.replace(a,t)});var d=""+(new Date).getTime()+(""+1e10*Math.random()).substr(0,6);n=n.replace(/\{id\}/gi,d).replace(/\{division\}/gi,o.getNameFg(a)),i=i.replace(/\{id\}/gi,d).replace(/\{division\}/gi,o.getNameFg(a)),r.title+=n,r.content+=i},renderHrIndex:function(t){var a=this,r=a.getPeriodMonth(),o=r.period,n=r.periodMoment;a.lengPeriods=r.length,e('[d-hr-colspan="count-month"]').attr("colspan",a.lengPeriods),e('[d-hr-dom="td-all"]').attr("colspan",4*a.lengPeriods+2),a.renderHrOutTitleHtml(o),a.renderHrOutBodyHtml(o,{countEmplOutNotTried:a.execHrTeamMonth(t.hrOutNotTried),countEmplJoin:a.execHrTeamMonth(t.hrJoin),countEmplTeams:a.execHrTeamMonthStartEnd(t.hrTeams,n),countEmplOutAll:a.execHrTeamMonth(t.hrOutAll),countEmplOutTry:a.execHrTeamMonth(t.hrOutTry)}),a.renderHrEmployeeOut(t.hrEmplInfo,a.hrEmployee.htmlBody,a.hrEmployee.titleOut),a.renderHrEmployeeOut(t.hrEmplJoinInfo,a.hrEmployee.htmlBodyJoin,a.hrEmployee.titleJoin)},execHrTeamMonth:function(t){var a=this,r={company:{sum:0}};return e.each(t,function(e,t){var o=t.team_id,n=parseInt(t.count);if(a.teamDev.indexOf(o)===-1&&(o="other"),"undefined"==typeof r[o]&&(r[o]={sum:0}),"undefined"==typeof r[o][t.month]&&(r[o][t.month]=0),r[o][t.month]+=n,r[o].sum+=n,a.teamParent&&a.teamParent[o]){var i=a.teamParent[o];"undefined"==typeof r[i]&&(r[i]={sum:0}),"undefined"==typeof r[i][t.month]&&(r[i][t.month]=0),r[i][t.month]+=n,r[i].sum+=n}"undefined"==typeof r.company[t.month]&&(r.company[t.month]=0),r.company[t.month]+=n,r.company.sum+=n}),r},execHrTeamMonthStartEnd:function(t,a){var r=this,o={company:{sum:0}};e.each(t,function(t,n){var i,d,m=n.team_id,l=parseInt(n.count);r.teamDev.indexOf(m)===-1&&(m="other"),"undefined"==typeof o[m]&&(o[m]={sum:0}),n.start_at&&(i=moment(n.start_at)),n.end_at&&(d=moment(n.end_at)),e.each(a,function(e,t){var a=t.format("YYYY-MM"),r=!1;"undefined"==typeof o[m][a]&&(o[m][a]=0),"undefined"==typeof o.company[a]&&(o.company[a]=0),i||d?!i&&d?t.isSameOrBefore(d)&&(r=!0):i&&!d?t.isSameOrAfter(i)&&(r=!0):t.isSameOrAfter(i)&&t.isSameOrBefore(d)&&(r=!0):r=!0,r&&(o[m][a]+=l,o.company[a]+=l)})});var n=a.slice(-1).pop().format("YYYY-MM");return e.each(o,function(e,t){"undefined"==typeof o[e][n]?o[e].sum=0:o[e].sum=o[e][n]}),o},getPeriodMonth:function(){var t=this,a=moment(e('input[name="from"]').data("datepicker").dates[0]).startOf("month"),r=moment(e('input[name="to"]').data("datepicker").dates[0]).startOf("month"),o={},n="MM",i=0,d=[];for(a.get("Y")!==r.get("Y")&&(n="YYYY-MM"),t.startEndString=a.format("YYYY.MM")+"-"+r.format("YYYY.MM");;){if(o[a.format("YYYY-MM")]=a.format(n),d.push(moment(a)),i++,a.isSameOrAfter(r))break;a.add(1,"months")}return o.sum="Sum",i++,{period:o,length:i,periodMoment:d}},renderHrOutTitleHtml:function(t){var a,r,o=this,n="",i="",d="",m="",l=1;e.each(t,function(e,t){r="",1===l?(a=" block-left",r='data-xml-index="3"'):a=l===o.lengPeriods?" block-right":"",a+=" block-bottom",n+=o.hrOutTitle.htmlTried.replace(/\{month\}/gi,t).replace(/\{class\}/gi,a).replace(/\{attrcss\}/gi,r),i+=o.hrOutTitle.htmlJoin.replace(/\{month\}/gi,t).replace(/\{class\}/gi,a),d+=o.hrOutTitle.htmlSum.replace(/\{month\}/gi,t).replace(/\{class\}/gi,a),m+=o.hrOutTitle.htmlDiff.replace(/\{month\}/gi,t).replace(/\{class\}/gi,a),l++}),o.hrOutTitle.domTr.html(n+i+d),o.hrOutTitle.domTrTry.html(n+i+d),o.hrOutTitle.domTrAll.html(n+i+d+m)},renderHrOutBodyHtml:function(t,a){var r=this,o="",n="",i="",d=Object.keys(r.teamDevOther).length,m=0;e.each(r.teamDevOther,function(l,u){m++;var c=r.renderHrOutBodyPeriod(a.countEmplOutNotTried,t,u,r.hrOutBody.htmlTried),s=r.renderHrOutBodyPeriod(a.countEmplOutTry,t,u,r.hrOutBody.htmlTry),p=r.renderHrOutBodyPeriod(a.countEmplOutAll,t,u,r.hrOutBody.htmlAll),h=r.renderHrOutBodyPeriod(a.countEmplJoin,t,u,r.hrOutBody.htmlJoin),f=r.renderHrOutBodyPeriod(a.countEmplTeams,t,u,r.hrOutBody.htmlSum),v=r.renderHrOutDiffJoin(a.countEmplOutAll,a.countEmplJoin,t,u),_=r.hrOutBody.body.replace(/\{team\}/gi,r.divisions[u]),y=r.hrOutBody.bodyTry.replace(/\{team\}/gi,r.divisions[u]),g=r.hrOutBody.bodyAll.replace(/\{team\}/gi,r.divisions[u]);_=e(_),y=e(y),g=e(g),_.find('[d-hr-count="out-tried"]').replaceWith(c),_.find('[d-hr-count="join"]').replaceWith(h),_.find('[d-hr-count="sum"]').replaceWith(f),y.find('[d-hr-count="out-try"]').replaceWith(s),y.find('[d-hr-count="join"]').replaceWith(h),y.find('[d-hr-count="sum"]').replaceWith(f),g.find('[d-hr-count="out-all"]').replaceWith(p),g.find('[d-hr-count="join"]').replaceWith(h),g.find('[d-hr-count="sum"]').replaceWith(f),g.find('[d-hr-count="diff"]').replaceWith(v),m===d&&(_.children("td").addClass("block-bottom"),g.children("td").addClass("block-bottom")),o+=_[0].outerHTML.replace(/\{turnoverate\}/gi,r.calTurnoverate(a.countEmplOutNotTried,a.countEmplTeams,u,t)).replace(/\{hrbodystyle\}/gi,m%2===0?"hr_body_even":"hr_body_odd"),n+=y[0].outerHTML.replace(/\{turnoverate\}/gi,r.calTurnoverate(a.countEmplOutTry,a.countEmplTeams,u,t)).replace(/\{hrbodystyle\}/gi,m%2===0?"hr_body_even":"hr_body_odd"),i+=g[0].outerHTML.replace(/\{turnoverate\}/gi,r.calTurnoverate(a.countEmplOutAll,a.countEmplTeams,u,t)).replace(/\{hrbodystyle\}/gi,m%2===0?"hr_body_even":"hr_body_odd")}),e('[d-hr-out="title"]').after(o),e('[d-hr-out-try="title"]').after(n),e('[d-hr-out-all="title"]').after(i)},renderHrOutBodyPeriod:function(t,a,r,o){var n=this,i="",d=1;return e.each(a,function(e,a){var m,l=0;"undefined"!=typeof t[r]&&"undefined"!=typeof t[r][e]&&(l=t[r][e]),m=1===d?" block-left":d===n.lengPeriods?" block-right":"",i+=o.replace(/\{count\}/gi,l).replace(/\{class\}/gi,m),d++}),i},renderHrOutDiffJoin:function(t,a,r,o){var n=this,i="",d=1;return e.each(r,function(e,r){var m,l=0;"undefined"!=typeof a[o]&&"undefined"!=typeof a[o][e]&&(l=a[o][e]),"undefined"!=typeof t[o]&&"undefined"!=typeof t[o][e]&&(l-=t[o][e]),m=1===d?" block-left":d===n.lengPeriods?" block-right":"",i+=n.hrOutBody.htmlDiff.replace(/\{count\}/gi,l).replace(/\{class\}/gi,m),d++}),i},calTurnoverate:function(t,a,r,o){var n=0;return e.each(o,function(e,o){"sum"!=e&&"undefined"!=typeof t[r]&&"undefined"!=typeof t[r][e]&&"undefined"!=typeof a[r]&&"undefined"!=typeof a[r][e]&&a[r][e]&&(n+=t[r][e]/a[r][e])}),(100*n).toFixed(2)},renderHrEmployeeOut:function(t,a,r){var o=this,n=o.execHrEmployeeData(t),i="",d=4*o.lengPeriods+2-10;d<5&&(d=5),e('[d-hr-empl="title-reason"]').attr("colspan",d);var m=0;e.each(o.teamDevOther,function(t,r){if("undefined"==typeof n[r])return!0;var l=n[r].length,u=o.hrEmployee.htmlTeam.replace(/\{team\}/gi,o.divisions[r]).replace(/\{rowspan\}/gi,l);e.each(n[r],function(t,r){var o=a,n="";m++,e.each(r,function(e,t){var a=new RegExp("{"+e+"}","gi");o=o.replace(a,t)}),0===t?(o=o.replace(/\{attrcss\}/gi,""),o=e(o).prepend(u)[0].outerHTML):o=o.replace(/\{attrcss\}/gi,'data-xml-index="2"'),t===l-1&&(n=" block-bottom"),o=o.replace(/\{class\}/gi,n).replace(/\{colspan\}/gi,d).replace(/\{hrbodystyle\}/gi,m%2===0?"hr_detail_body_even":"hr_detail_body_odd"),i+=o})}),r.after(i)},execHrEmployeeData:function(t){var a=this,r={};return e.each(t,function(e,t){var o=parseInt(t.team_id);a.teamDev.indexOf(o)===-1&&(o="other"),delete t.team_id,"undefined"==typeof r[o]&&(r[o]=[]),r[o].push(t)}),r},renderLayoutAverFromProj:function(){var t=this,a=e('[data-dom-title="ave-team-1"]'),r=a.html(),o=e('[data-dom-item="ave-team"]').html();e("[d-proj-index]").each(function(a,n){var i=e(n),d=i.index(),m=e('[data-dom-item="projs"] td').eq(d);t.projIndex.push(m.html().replace(/\{|\}/gi,"")),"not-aver"!==i.attr("d-proj-index")&&(r+='<td rowspan="2" class="td-thead" data-xml-style-i-d="Thead">'+i.html()+"</td>",o+=m[0].outerHTML),"remove"===i.attr("d-proj-index")&&(m.remove(),i.remove())}),a.html(r),t.domAver.itemHtml="<tr>"+o+"</tr>"},getLayoutHrIndex:function(){var t=this,a=e('[d-hr-month="out-tried"]')[0].outerHTML.replace(/\{attrcss\}\s*\=\s*\"\"/gi,"{attrcss}");t.hrOutTitle={domTr:e('[d-hr-out="title"]'),domTrTry:e('[d-hr-out-try="title"]'),domTrAll:e('[d-hr-out-all="title"]'),htmlTried:a,htmlJoin:e('[d-hr-month="join"]')[0].outerHTML,htmlSum:e('[d-hr-month="sum"]')[0].outerHTML,htmlDiff:e('[d-hr-month="diff"]')[0].outerHTML},t.hrOutTitle.domTr.html(""),t.hrOutTitle.domTrTry.html(""),t.hrOutTitle.domTrAll.html(""),t.hrOutBody={body:e('[d-hr-out="body"]')[0].outerHTML,bodyTry:e('[d-hr-out-try="body"]')[0].outerHTML,bodyAll:e('[d-hr-out-all="body"]')[0].outerHTML,htmlTried:e('[d-hr-count="out-tried"]')[0].outerHTML,htmlTry:e('[d-hr-count="out-try"]')[0].outerHTML,htmlAll:e('[d-hr-count="out-all"]')[0].outerHTML,htmlJoin:e('[d-hr-count="join"]')[0].outerHTML,htmlSum:e('[d-hr-count="sum"]')[0].outerHTML,htmlDiff:e('[d-hr-count="diff"]')[0].outerHTML},t.hrEmployee={titleOut:e('[d-hr-title="empl-out"]'),titleJoin:e('[d-hr-title="empl-join"]'),htmlTeam:e('[d-hr-empl="team"]')[0].outerHTML},e('[d-hr-empl="team"]').remove(),t.hrEmployee.htmlBody=e('[d-hr-employee="out"]')[0].outerHTML.replace(/\{attrcss\}\s*\=\s*\"\"/gi,"{attrcss}"),t.hrEmployee.htmlBodyJoin=e('[d-hr-employee="join"]')[0].outerHTML.replace(/\{attrcss\}\s*\=\s*\"\"/gi,"{attrcss}"),e('[d-hr-out="body"]').remove(),e('[d-hr-out-try="body"]').remove(),e('[d-hr-out-all="body"]').remove()},renderDivisions:function(){var t=this;return t.divisions=a.divisions.leaf,t.divisions.other=a.labelOther,t.divisions.company=a.labelCompany,t.projAverageData={team:{},company:{data:{},count:{},aver:{}}},e.each(a.divisions.dev,function(e,a){t.projAverageData.team[t.fgTeam(a)]={data:{},count:{},aver:{}}}),a.divisions.qa&&Array.isArray(a.divisions.qa)?t.teamDev=a.divisions.dev.concat(a.divisions.qa):t.teamDev=a.divisions.dev,t.teamDevOther=e.extend({},t.teamDev),t.teamDevOther[a.labelOther]="other",t.teamDevOther[a.labelCompany]="company",t.projAverageData},renderTeamParentReplace:function(){var t=this;return!a.teamParent||(t.teamParent={},e.each(a.teamParent,function(a,r){a=parseInt(a),e.each(r,function(e,r){t.teamParent[r]=a})}),t.teamParent)},getEvaluation:function(e){var t;return t=e>20?4:e>15?3:e>10?2:e>0?1:0,a.evaluationLabel[t]},getDivisionsName:function(t){var a=this,r="";return e.each(t,function(e,t){"undefined"!=typeof a.divisions[t]&&(r+=a.divisions[t]+", ")}),r.slice(0,-2)},getDivisionName:function(e){var t=this;return"undefined"!=typeof t.divisions[e]?t.divisions[e]:""},fgTeam:function(e){return"t"+e},getNameFg:function(e){var t=this;return/^t/.test(e)?t.getDivisionName(e.substr(1)):e},exportKpi:function(a){var r=this;return!!a.data("process")||(a.data("process",!0),t.excel.init().exportExcel({tblFlg:e(".tbl-kpi"),sheetsName:[],fileName:"Rikkeisoft KPI "+r.startEndString}),void a.data("process",!1))}};t.kpiDataSuccess=function(e){r.renderData(e)},r.init()}(jQuery,RKExternal);