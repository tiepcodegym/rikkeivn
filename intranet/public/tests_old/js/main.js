function twoDigit(t){return t<10?"0"+t:t}function t_setItem(t,e){"undefined"!=typeof Storage&&sessionStorage.setItem(t,e)}function t_getItem(t){if("undefined"!=typeof Storage){var e=sessionStorage[t];return"undefined"!=typeof e?e:null}return null}function t_removeItem(t){"undefined"!=typeof Storage&&sessionStorage.removeItem(t)}function t_setStart(){"undefined"!=typeof Storage&&localStorage.setItem("hasStarted",!0)}function t_checkStart(){if("undefined"!=typeof Storage){var t=localStorage.getItem("hasStarted");return"undefined"!=typeof t&&t}return!1}function t_delStart(){"undefined"!=typeof Storage&&localStorage.removeItem("hasStarted")}function selectSearchReload(t){optionDefault={showSearch:!1},t=jQuery.extend(optionDefault,t),t.showSearch?jQuery(".select-search").select2():(jQuery(".select-search.has-search").select2(),jQuery(".select-search:not(.has-search)").select2({minimumResultsForSearch:1/0})),jQuery(".select-search").each(function(t,e){text=jQuery(this).find("option:selected").text().trim(),jQuery(this).siblings(".select2-container").find(".select2-selection__rendered").text(text)}),jQuery(".select-search").on("select2:select",function(t){text=jQuery(this).find("option:selected").text().trim(),jQuery(this).siblings(".select2-container").find(".select2-selection__rendered").text(text)})}!function(t){function e(){0==s?0==i?(clearInterval(r),t(".btn-start").removeClass("btn-primary btn-flickr").addClass("btn-danger").text(text_finish),alert(text_finish)):(s=59,i--,o.text(twoDigit(i))):s--,i<=5&&t(".btn-start").addClass("btn-flickr"),a.text(twoDigit(s))}if(t("#form_auth").length>0&&t('#form_auth input[name="password"]').focus(),t("#cat_box").change(function(){t("#test_box").append("<option>loading...</option>"),t.ajax({url:_get_test_url,type:"GET",data:{"cat_ids[]":[t(this).val()]},success:function(e){var n='<option value="">'+text_selection+"</option>";if(e.length>0)for(var r=0;r<e.length;r++){var o=e[r];n+='<option value="'+o.id+'">'+o.name+" ("+o.time+"')</option>"}t("#test_box").html(n)}})}),t("#select_form").submit(function(){t("#gmat_error").addClass("hidden"),t("#test_error").addClass("hidden");var e=t("#gmat_box").val(),n=t("#test_box").val();if(e&&0!=e){if(n&&0!=n)return window.open(_home_url+"/test_old/show/"+e+"/?q_id="+n),window.open(_home_url+"/test_old/show/"+n+"/?q_id="+e),!1;t("#test_error").removeClass("hidden")}else t("#gmat_error").removeClass("hidden");return!1}),t(".btn-start").length>0){var n;clearInterval(n),n=setInterval(function(){t_checkStart()&&(t(".btn-start").click(),t_delStart(),clearInterval(n))},1e3);var r,o=t(".test-time .minute"),a=t(".test-time .second"),i=parseInt(o.text()),s=parseInt(a.text()),l=t_getItem("originTime"),c=t_getItem("startTime"),d=(new Date).getTime(),u=d-c;if(u<=l){var f=l-u,i=Math.floor(f/6e4),s=Math.floor(f/1e3)%60;o.text(twoDigit(i)),a.text(twoDigit(s)),t(".btn-start").text(text_testing+"...").removeClass("btn-primary").addClass("btn-warning").prop("disabled",!0),r=setInterval(e,1e3),clearInterval(n)}else t_removeItem("originTime"),t_removeItem("startTime");t("body").on("click",".btn-start",function(){var o=1e3*(60*i+s);t_setItem("originTime",o),t_setItem("startTime",(new Date).getTime()),t_setStart(),clearInterval(n),clearInterval(r),r=setInterval(e,1e3),t(this).text(text_testing+"...").removeClass("btn-primary").addClass("btn-warning").prop("disabled",!0)})}selectSearchReload(),window.history.forward(),window.onload=function(){window.history.forward()},window.onunload=function(){}}(jQuery);